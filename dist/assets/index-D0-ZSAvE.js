function gd(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();function nm(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function vd(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),r}var yd={exports:{}},Ji={},wd={exports:{}},L={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bs=Symbol.for("react.element"),sm=Symbol.for("react.portal"),im=Symbol.for("react.fragment"),om=Symbol.for("react.strict_mode"),am=Symbol.for("react.profiler"),lm=Symbol.for("react.provider"),um=Symbol.for("react.context"),cm=Symbol.for("react.forward_ref"),dm=Symbol.for("react.suspense"),hm=Symbol.for("react.memo"),fm=Symbol.for("react.lazy"),xu=Symbol.iterator;function pm(t){return t===null||typeof t!="object"?null:(t=xu&&t[xu]||t["@@iterator"],typeof t=="function"?t:null)}var _d={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},xd=Object.assign,bd={};function vn(t,e,r){this.props=t,this.context=e,this.refs=bd,this.updater=r||_d}vn.prototype.isReactComponent={};vn.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};vn.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Sd(){}Sd.prototype=vn.prototype;function fl(t,e,r){this.props=t,this.context=e,this.refs=bd,this.updater=r||_d}var pl=fl.prototype=new Sd;pl.constructor=fl;xd(pl,vn.prototype);pl.isPureReactComponent=!0;var bu=Array.isArray,kd=Object.prototype.hasOwnProperty,ml={current:null},Ed={key:!0,ref:!0,__self:!0,__source:!0};function jd(t,e,r){var n,s={},i=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)kd.call(e,n)&&!Ed.hasOwnProperty(n)&&(s[n]=e[n]);var a=arguments.length-2;if(a===1)s.children=r;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)s[n]===void 0&&(s[n]=a[n]);return{$$typeof:bs,type:t,key:i,ref:o,props:s,_owner:ml.current}}function mm(t,e){return{$$typeof:bs,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function gl(t){return typeof t=="object"&&t!==null&&t.$$typeof===bs}function gm(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var Su=/\/+/g;function _o(t,e){return typeof t=="object"&&t!==null&&t.key!=null?gm(""+t.key):e.toString(36)}function si(t,e,r,n,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case bs:case sm:o=!0}}if(o)return o=t,s=s(o),t=n===""?"."+_o(o,0):n,bu(s)?(r="",t!=null&&(r=t.replace(Su,"$&/")+"/"),si(s,e,r,"",function(u){return u})):s!=null&&(gl(s)&&(s=mm(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Su,"$&/")+"/")+t)),e.push(s)),1;if(o=0,n=n===""?".":n+":",bu(t))for(var a=0;a<t.length;a++){i=t[a];var l=n+_o(i,a);o+=si(i,e,r,l,s)}else if(l=pm(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=n+_o(i,a++),o+=si(i,e,r,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Ns(t,e,r){if(t==null)return t;var n=[],s=0;return si(t,n,"","",function(i){return e.call(r,i,s++)}),n}function vm(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var be={current:null},ii={transition:null},ym={ReactCurrentDispatcher:be,ReactCurrentBatchConfig:ii,ReactCurrentOwner:ml};function Td(){throw Error("act(...) is not supported in production builds of React.")}L.Children={map:Ns,forEach:function(t,e,r){Ns(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Ns(t,function(){e++}),e},toArray:function(t){return Ns(t,function(e){return e})||[]},only:function(t){if(!gl(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};L.Component=vn;L.Fragment=im;L.Profiler=am;L.PureComponent=fl;L.StrictMode=om;L.Suspense=dm;L.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ym;L.act=Td;L.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=xd({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=ml.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)kd.call(e,l)&&!Ed.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];n.children=a}return{$$typeof:bs,type:t.type,key:s,ref:i,props:n,_owner:o}};L.createContext=function(t){return t={$$typeof:um,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:lm,_context:t},t.Consumer=t};L.createElement=jd;L.createFactory=function(t){var e=jd.bind(null,t);return e.type=t,e};L.createRef=function(){return{current:null}};L.forwardRef=function(t){return{$$typeof:cm,render:t}};L.isValidElement=gl;L.lazy=function(t){return{$$typeof:fm,_payload:{_status:-1,_result:t},_init:vm}};L.memo=function(t,e){return{$$typeof:hm,type:t,compare:e===void 0?null:e}};L.startTransition=function(t){var e=ii.transition;ii.transition={};try{t()}finally{ii.transition=e}};L.unstable_act=Td;L.useCallback=function(t,e){return be.current.useCallback(t,e)};L.useContext=function(t){return be.current.useContext(t)};L.useDebugValue=function(){};L.useDeferredValue=function(t){return be.current.useDeferredValue(t)};L.useEffect=function(t,e){return be.current.useEffect(t,e)};L.useId=function(){return be.current.useId()};L.useImperativeHandle=function(t,e,r){return be.current.useImperativeHandle(t,e,r)};L.useInsertionEffect=function(t,e){return be.current.useInsertionEffect(t,e)};L.useLayoutEffect=function(t,e){return be.current.useLayoutEffect(t,e)};L.useMemo=function(t,e){return be.current.useMemo(t,e)};L.useReducer=function(t,e,r){return be.current.useReducer(t,e,r)};L.useRef=function(t){return be.current.useRef(t)};L.useState=function(t){return be.current.useState(t)};L.useSyncExternalStore=function(t,e,r){return be.current.useSyncExternalStore(t,e,r)};L.useTransition=function(){return be.current.useTransition()};L.version="18.3.1";wd.exports=L;var b=wd.exports;const Cd=nm(b),wm=gd({__proto__:null,default:Cd},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _m=b,xm=Symbol.for("react.element"),bm=Symbol.for("react.fragment"),Sm=Object.prototype.hasOwnProperty,km=_m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Em={key:!0,ref:!0,__self:!0,__source:!0};function Od(t,e,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)Sm.call(e,n)&&!Em.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:xm,type:t,key:i,ref:o,props:s,_owner:km.current}}Ji.Fragment=bm;Ji.jsx=Od;Ji.jsxs=Od;yd.exports=Ji;var c=yd.exports,na={},Pd={exports:{}},Le={},Nd={exports:{}},Rd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(O,I){var $=O.length;O.push(I);e:for(;0<$;){var Z=$-1>>>1,le=O[Z];if(0<s(le,I))O[Z]=I,O[$]=le,$=Z;else break e}}function r(O){return O.length===0?null:O[0]}function n(O){if(O.length===0)return null;var I=O[0],$=O.pop();if($!==I){O[0]=$;e:for(var Z=0,le=O.length,Os=le>>>1;Z<Os;){var rr=2*(Z+1)-1,wo=O[rr],nr=rr+1,Ps=O[nr];if(0>s(wo,$))nr<le&&0>s(Ps,wo)?(O[Z]=Ps,O[nr]=$,Z=nr):(O[Z]=wo,O[rr]=$,Z=rr);else if(nr<le&&0>s(Ps,$))O[Z]=Ps,O[nr]=$,Z=nr;else break e}}return I}function s(O,I){var $=O.sortIndex-I.sortIndex;return $!==0?$:O.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,h=null,f=3,g=!1,y=!1,w=!1,_=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(O){for(var I=r(u);I!==null;){if(I.callback===null)n(u);else if(I.startTime<=O)n(u),I.sortIndex=I.expirationTime,e(l,I);else break;I=r(u)}}function x(O){if(w=!1,m(O),!y)if(r(l)!==null)y=!0,vo(S);else{var I=r(u);I!==null&&yo(x,I.startTime-O)}}function S(O,I){y=!1,w&&(w=!1,v(C),C=-1),g=!0;var $=f;try{for(m(I),h=r(l);h!==null&&(!(h.expirationTime>I)||O&&!V());){var Z=h.callback;if(typeof Z=="function"){h.callback=null,f=h.priorityLevel;var le=Z(h.expirationTime<=I);I=t.unstable_now(),typeof le=="function"?h.callback=le:h===r(l)&&n(l),m(I)}else n(l);h=r(l)}if(h!==null)var Os=!0;else{var rr=r(u);rr!==null&&yo(x,rr.startTime-I),Os=!1}return Os}finally{h=null,f=$,g=!1}}var k=!1,j=null,C=-1,U=5,D=-1;function V(){return!(t.unstable_now()-D<U)}function Ee(){if(j!==null){var O=t.unstable_now();D=O;var I=!0;try{I=j(!0,O)}finally{I?ot():(k=!1,j=null)}}else k=!1}var ot;if(typeof p=="function")ot=function(){p(Ee)};else if(typeof MessageChannel<"u"){var _u=new MessageChannel,rm=_u.port2;_u.port1.onmessage=Ee,ot=function(){rm.postMessage(null)}}else ot=function(){_(Ee,0)};function vo(O){j=O,k||(k=!0,ot())}function yo(O,I){C=_(function(){O(t.unstable_now())},I)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){y||g||(y=!0,vo(S))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(O){switch(f){case 1:case 2:case 3:var I=3;break;default:I=f}var $=f;f=I;try{return O()}finally{f=$}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,I){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var $=f;f=O;try{return I()}finally{f=$}},t.unstable_scheduleCallback=function(O,I,$){var Z=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?Z+$:Z):$=Z,O){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=$+le,O={id:d++,callback:I,priorityLevel:O,startTime:$,expirationTime:le,sortIndex:-1},$>Z?(O.sortIndex=$,e(u,O),r(l)===null&&O===r(u)&&(w?(v(C),C=-1):w=!0,yo(x,$-Z))):(O.sortIndex=le,e(l,O),y||g||(y=!0,vo(S))),O},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(O){var I=f;return function(){var $=f;f=I;try{return O.apply(this,arguments)}finally{f=$}}}})(Rd);Nd.exports=Rd;var jm=Nd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tm=b,De=jm;function E(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ad=new Set,es={};function Cr(t,e){ln(t,e),ln(t+"Capture",e)}function ln(t,e){for(es[t]=e,t=0;t<e.length;t++)Ad.add(e[t])}var xt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sa=Object.prototype.hasOwnProperty,Cm=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ku={},Eu={};function Om(t){return sa.call(Eu,t)?!0:sa.call(ku,t)?!1:Cm.test(t)?Eu[t]=!0:(ku[t]=!0,!1)}function Pm(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Nm(t,e,r,n){if(e===null||typeof e>"u"||Pm(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Se(t,e,r,n,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var fe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){fe[t]=new Se(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];fe[e]=new Se(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){fe[t]=new Se(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){fe[t]=new Se(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){fe[t]=new Se(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){fe[t]=new Se(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){fe[t]=new Se(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){fe[t]=new Se(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){fe[t]=new Se(t,5,!1,t.toLowerCase(),null,!1,!1)});var vl=/[\-:]([a-z])/g;function yl(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(vl,yl);fe[e]=new Se(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(vl,yl);fe[e]=new Se(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(vl,yl);fe[e]=new Se(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){fe[t]=new Se(t,1,!1,t.toLowerCase(),null,!1,!1)});fe.xlinkHref=new Se("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){fe[t]=new Se(t,1,!1,t.toLowerCase(),null,!0,!0)});function wl(t,e,r,n){var s=fe.hasOwnProperty(e)?fe[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Nm(e,r,s,n)&&(r=null),n||s===null?Om(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Et=Tm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Rs=Symbol.for("react.element"),Fr=Symbol.for("react.portal"),Br=Symbol.for("react.fragment"),_l=Symbol.for("react.strict_mode"),ia=Symbol.for("react.profiler"),Id=Symbol.for("react.provider"),$d=Symbol.for("react.context"),xl=Symbol.for("react.forward_ref"),oa=Symbol.for("react.suspense"),aa=Symbol.for("react.suspense_list"),bl=Symbol.for("react.memo"),Nt=Symbol.for("react.lazy"),Dd=Symbol.for("react.offscreen"),ju=Symbol.iterator;function jn(t){return t===null||typeof t!="object"?null:(t=ju&&t[ju]||t["@@iterator"],typeof t=="function"?t:null)}var Y=Object.assign,xo;function Dn(t){if(xo===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);xo=e&&e[1]||""}return`
`+xo+t}var bo=!1;function So(t,e){if(!t||bo)return"";bo=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{bo=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Dn(t):""}function Rm(t){switch(t.tag){case 5:return Dn(t.type);case 16:return Dn("Lazy");case 13:return Dn("Suspense");case 19:return Dn("SuspenseList");case 0:case 2:case 15:return t=So(t.type,!1),t;case 11:return t=So(t.type.render,!1),t;case 1:return t=So(t.type,!0),t;default:return""}}function la(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Br:return"Fragment";case Fr:return"Portal";case ia:return"Profiler";case _l:return"StrictMode";case oa:return"Suspense";case aa:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case $d:return(t.displayName||"Context")+".Consumer";case Id:return(t._context.displayName||"Context")+".Provider";case xl:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case bl:return e=t.displayName||null,e!==null?e:la(t.type)||"Memo";case Nt:e=t._payload,t=t._init;try{return la(t(e))}catch{}}return null}function Am(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return la(e);case 8:return e===_l?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Gt(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ld(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Im(t){var e=Ld(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function As(t){t._valueTracker||(t._valueTracker=Im(t))}function Ud(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=Ld(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function gi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ua(t,e){var r=e.checked;return Y({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function Tu(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Gt(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Md(t,e){e=e.checked,e!=null&&wl(t,"checked",e,!1)}function ca(t,e){Md(t,e);var r=Gt(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?da(t,e.type,r):e.hasOwnProperty("defaultValue")&&da(t,e.type,Gt(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Cu(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function da(t,e,r){(e!=="number"||gi(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Ln=Array.isArray;function Zr(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Gt(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function ha(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(E(91));return Y({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Ou(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(E(92));if(Ln(r)){if(1<r.length)throw Error(E(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Gt(r)}}function zd(t,e){var r=Gt(e.value),n=Gt(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function Pu(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Fd(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fa(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Fd(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Is,Bd=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Is=Is||document.createElement("div"),Is.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Is.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ts(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Fn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$m=["Webkit","ms","Moz","O"];Object.keys(Fn).forEach(function(t){$m.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Fn[e]=Fn[t]})});function Wd(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Fn.hasOwnProperty(t)&&Fn[t]?(""+e).trim():e+"px"}function Vd(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Wd(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var Dm=Y({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function pa(t,e){if(e){if(Dm[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(E(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(E(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(E(61))}if(e.style!=null&&typeof e.style!="object")throw Error(E(62))}}function ma(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ga=null;function Sl(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var va=null,en=null,tn=null;function Nu(t){if(t=Es(t)){if(typeof va!="function")throw Error(E(280));var e=t.stateNode;e&&(e=eo(e),va(t.stateNode,t.type,e))}}function qd(t){en?tn?tn.push(t):tn=[t]:en=t}function Hd(){if(en){var t=en,e=tn;if(tn=en=null,Nu(t),e)for(t=0;t<e.length;t++)Nu(e[t])}}function Kd(t,e){return t(e)}function Gd(){}var ko=!1;function Jd(t,e,r){if(ko)return t(e,r);ko=!0;try{return Kd(t,e,r)}finally{ko=!1,(en!==null||tn!==null)&&(Gd(),Hd())}}function rs(t,e){var r=t.stateNode;if(r===null)return null;var n=eo(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(E(231,e,typeof r));return r}var ya=!1;if(xt)try{var Tn={};Object.defineProperty(Tn,"passive",{get:function(){ya=!0}}),window.addEventListener("test",Tn,Tn),window.removeEventListener("test",Tn,Tn)}catch{ya=!1}function Lm(t,e,r,n,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(d){this.onError(d)}}var Bn=!1,vi=null,yi=!1,wa=null,Um={onError:function(t){Bn=!0,vi=t}};function Mm(t,e,r,n,s,i,o,a,l){Bn=!1,vi=null,Lm.apply(Um,arguments)}function zm(t,e,r,n,s,i,o,a,l){if(Mm.apply(this,arguments),Bn){if(Bn){var u=vi;Bn=!1,vi=null}else throw Error(E(198));yi||(yi=!0,wa=u)}}function Or(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function Qd(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Ru(t){if(Or(t)!==t)throw Error(E(188))}function Fm(t){var e=t.alternate;if(!e){if(e=Or(t),e===null)throw Error(E(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Ru(s),t;if(i===n)return Ru(s),e;i=i.sibling}throw Error(E(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o)throw Error(E(189))}}if(r.alternate!==n)throw Error(E(190))}if(r.tag!==3)throw Error(E(188));return r.stateNode.current===r?t:e}function Yd(t){return t=Fm(t),t!==null?Xd(t):null}function Xd(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Xd(t);if(e!==null)return e;t=t.sibling}return null}var Zd=De.unstable_scheduleCallback,Au=De.unstable_cancelCallback,Bm=De.unstable_shouldYield,Wm=De.unstable_requestPaint,ee=De.unstable_now,Vm=De.unstable_getCurrentPriorityLevel,kl=De.unstable_ImmediatePriority,eh=De.unstable_UserBlockingPriority,wi=De.unstable_NormalPriority,qm=De.unstable_LowPriority,th=De.unstable_IdlePriority,Qi=null,dt=null;function Hm(t){if(dt&&typeof dt.onCommitFiberRoot=="function")try{dt.onCommitFiberRoot(Qi,t,void 0,(t.current.flags&128)===128)}catch{}}var rt=Math.clz32?Math.clz32:Jm,Km=Math.log,Gm=Math.LN2;function Jm(t){return t>>>=0,t===0?32:31-(Km(t)/Gm|0)|0}var $s=64,Ds=4194304;function Un(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function _i(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,i=t.pingedLanes,o=r&268435455;if(o!==0){var a=o&~s;a!==0?n=Un(a):(i&=o,i!==0&&(n=Un(i)))}else o=r&~s,o!==0?n=Un(o):i!==0&&(n=Un(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-rt(e),s=1<<r,n|=t[r],e&=~s;return n}function Qm(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ym(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-rt(i),a=1<<o,l=s[o];l===-1?(!(a&r)||a&n)&&(s[o]=Qm(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function _a(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function rh(){var t=$s;return $s<<=1,!($s&4194240)&&($s=64),t}function Eo(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Ss(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-rt(e),t[e]=r}function Xm(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-rt(r),i=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~i}}function El(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-rt(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var F=0;function nh(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var sh,jl,ih,oh,ah,xa=!1,Ls=[],Mt=null,zt=null,Ft=null,ns=new Map,ss=new Map,At=[],Zm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Iu(t,e){switch(t){case"focusin":case"focusout":Mt=null;break;case"dragenter":case"dragleave":zt=null;break;case"mouseover":case"mouseout":Ft=null;break;case"pointerover":case"pointerout":ns.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ss.delete(e.pointerId)}}function Cn(t,e,r,n,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Es(e),e!==null&&jl(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function eg(t,e,r,n,s){switch(e){case"focusin":return Mt=Cn(Mt,t,e,r,n,s),!0;case"dragenter":return zt=Cn(zt,t,e,r,n,s),!0;case"mouseover":return Ft=Cn(Ft,t,e,r,n,s),!0;case"pointerover":var i=s.pointerId;return ns.set(i,Cn(ns.get(i)||null,t,e,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,ss.set(i,Cn(ss.get(i)||null,t,e,r,n,s)),!0}return!1}function lh(t){var e=mr(t.target);if(e!==null){var r=Or(e);if(r!==null){if(e=r.tag,e===13){if(e=Qd(r),e!==null){t.blockedOn=e,ah(t.priority,function(){ih(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function oi(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=ba(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);ga=n,r.target.dispatchEvent(n),ga=null}else return e=Es(r),e!==null&&jl(e),t.blockedOn=r,!1;e.shift()}return!0}function $u(t,e,r){oi(t)&&r.delete(e)}function tg(){xa=!1,Mt!==null&&oi(Mt)&&(Mt=null),zt!==null&&oi(zt)&&(zt=null),Ft!==null&&oi(Ft)&&(Ft=null),ns.forEach($u),ss.forEach($u)}function On(t,e){t.blockedOn===e&&(t.blockedOn=null,xa||(xa=!0,De.unstable_scheduleCallback(De.unstable_NormalPriority,tg)))}function is(t){function e(s){return On(s,t)}if(0<Ls.length){On(Ls[0],t);for(var r=1;r<Ls.length;r++){var n=Ls[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Mt!==null&&On(Mt,t),zt!==null&&On(zt,t),Ft!==null&&On(Ft,t),ns.forEach(e),ss.forEach(e),r=0;r<At.length;r++)n=At[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<At.length&&(r=At[0],r.blockedOn===null);)lh(r),r.blockedOn===null&&At.shift()}var rn=Et.ReactCurrentBatchConfig,xi=!0;function rg(t,e,r,n){var s=F,i=rn.transition;rn.transition=null;try{F=1,Tl(t,e,r,n)}finally{F=s,rn.transition=i}}function ng(t,e,r,n){var s=F,i=rn.transition;rn.transition=null;try{F=4,Tl(t,e,r,n)}finally{F=s,rn.transition=i}}function Tl(t,e,r,n){if(xi){var s=ba(t,e,r,n);if(s===null)$o(t,e,n,bi,r),Iu(t,n);else if(eg(s,t,e,r,n))n.stopPropagation();else if(Iu(t,n),e&4&&-1<Zm.indexOf(t)){for(;s!==null;){var i=Es(s);if(i!==null&&sh(i),i=ba(t,e,r,n),i===null&&$o(t,e,n,bi,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else $o(t,e,n,null,r)}}var bi=null;function ba(t,e,r,n){if(bi=null,t=Sl(n),t=mr(t),t!==null)if(e=Or(t),e===null)t=null;else if(r=e.tag,r===13){if(t=Qd(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return bi=t,null}function uh(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Vm()){case kl:return 1;case eh:return 4;case wi:case qm:return 16;case th:return 536870912;default:return 16}default:return 16}}var Dt=null,Cl=null,ai=null;function ch(){if(ai)return ai;var t,e=Cl,r=e.length,n,s="value"in Dt?Dt.value:Dt.textContent,i=s.length;for(t=0;t<r&&e[t]===s[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===s[i-n];n++);return ai=s.slice(t,1<n?1-n:void 0)}function li(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Us(){return!0}function Du(){return!1}function Ue(t){function e(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Us:Du,this.isPropagationStopped=Du,this}return Y(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Us)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Us)},persist:function(){},isPersistent:Us}),e}var yn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ol=Ue(yn),ks=Y({},yn,{view:0,detail:0}),sg=Ue(ks),jo,To,Pn,Yi=Y({},ks,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pl,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Pn&&(Pn&&t.type==="mousemove"?(jo=t.screenX-Pn.screenX,To=t.screenY-Pn.screenY):To=jo=0,Pn=t),jo)},movementY:function(t){return"movementY"in t?t.movementY:To}}),Lu=Ue(Yi),ig=Y({},Yi,{dataTransfer:0}),og=Ue(ig),ag=Y({},ks,{relatedTarget:0}),Co=Ue(ag),lg=Y({},yn,{animationName:0,elapsedTime:0,pseudoElement:0}),ug=Ue(lg),cg=Y({},yn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),dg=Ue(cg),hg=Y({},yn,{data:0}),Uu=Ue(hg),fg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gg(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=mg[t])?!!e[t]:!1}function Pl(){return gg}var vg=Y({},ks,{key:function(t){if(t.key){var e=fg[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=li(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?pg[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pl,charCode:function(t){return t.type==="keypress"?li(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?li(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),yg=Ue(vg),wg=Y({},Yi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mu=Ue(wg),_g=Y({},ks,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pl}),xg=Ue(_g),bg=Y({},yn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Sg=Ue(bg),kg=Y({},Yi,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Eg=Ue(kg),jg=[9,13,27,32],Nl=xt&&"CompositionEvent"in window,Wn=null;xt&&"documentMode"in document&&(Wn=document.documentMode);var Tg=xt&&"TextEvent"in window&&!Wn,dh=xt&&(!Nl||Wn&&8<Wn&&11>=Wn),zu=" ",Fu=!1;function hh(t,e){switch(t){case"keyup":return jg.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fh(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Wr=!1;function Cg(t,e){switch(t){case"compositionend":return fh(e);case"keypress":return e.which!==32?null:(Fu=!0,zu);case"textInput":return t=e.data,t===zu&&Fu?null:t;default:return null}}function Og(t,e){if(Wr)return t==="compositionend"||!Nl&&hh(t,e)?(t=ch(),ai=Cl=Dt=null,Wr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return dh&&e.locale!=="ko"?null:e.data;default:return null}}var Pg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bu(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Pg[t.type]:e==="textarea"}function ph(t,e,r,n){qd(n),e=Si(e,"onChange"),0<e.length&&(r=new Ol("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Vn=null,os=null;function Ng(t){Eh(t,0)}function Xi(t){var e=Hr(t);if(Ud(e))return t}function Rg(t,e){if(t==="change")return e}var mh=!1;if(xt){var Oo;if(xt){var Po="oninput"in document;if(!Po){var Wu=document.createElement("div");Wu.setAttribute("oninput","return;"),Po=typeof Wu.oninput=="function"}Oo=Po}else Oo=!1;mh=Oo&&(!document.documentMode||9<document.documentMode)}function Vu(){Vn&&(Vn.detachEvent("onpropertychange",gh),os=Vn=null)}function gh(t){if(t.propertyName==="value"&&Xi(os)){var e=[];ph(e,os,t,Sl(t)),Jd(Ng,e)}}function Ag(t,e,r){t==="focusin"?(Vu(),Vn=e,os=r,Vn.attachEvent("onpropertychange",gh)):t==="focusout"&&Vu()}function Ig(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Xi(os)}function $g(t,e){if(t==="click")return Xi(e)}function Dg(t,e){if(t==="input"||t==="change")return Xi(e)}function Lg(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var st=typeof Object.is=="function"?Object.is:Lg;function as(t,e){if(st(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!sa.call(e,s)||!st(t[s],e[s]))return!1}return!0}function qu(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Hu(t,e){var r=qu(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=qu(r)}}function vh(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?vh(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function yh(){for(var t=window,e=gi();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=gi(t.document)}return e}function Rl(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Ug(t){var e=yh(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&vh(r.ownerDocument.documentElement,r)){if(n!==null&&Rl(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!t.extend&&i>n&&(s=n,n=i,i=s),s=Hu(r,i);var o=Hu(r,n);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Mg=xt&&"documentMode"in document&&11>=document.documentMode,Vr=null,Sa=null,qn=null,ka=!1;function Ku(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;ka||Vr==null||Vr!==gi(n)||(n=Vr,"selectionStart"in n&&Rl(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),qn&&as(qn,n)||(qn=n,n=Si(Sa,"onSelect"),0<n.length&&(e=new Ol("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Vr)))}function Ms(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var qr={animationend:Ms("Animation","AnimationEnd"),animationiteration:Ms("Animation","AnimationIteration"),animationstart:Ms("Animation","AnimationStart"),transitionend:Ms("Transition","TransitionEnd")},No={},wh={};xt&&(wh=document.createElement("div").style,"AnimationEvent"in window||(delete qr.animationend.animation,delete qr.animationiteration.animation,delete qr.animationstart.animation),"TransitionEvent"in window||delete qr.transitionend.transition);function Zi(t){if(No[t])return No[t];if(!qr[t])return t;var e=qr[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in wh)return No[t]=e[r];return t}var _h=Zi("animationend"),xh=Zi("animationiteration"),bh=Zi("animationstart"),Sh=Zi("transitionend"),kh=new Map,Gu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qt(t,e){kh.set(t,e),Cr(e,[t])}for(var Ro=0;Ro<Gu.length;Ro++){var Ao=Gu[Ro],zg=Ao.toLowerCase(),Fg=Ao[0].toUpperCase()+Ao.slice(1);Qt(zg,"on"+Fg)}Qt(_h,"onAnimationEnd");Qt(xh,"onAnimationIteration");Qt(bh,"onAnimationStart");Qt("dblclick","onDoubleClick");Qt("focusin","onFocus");Qt("focusout","onBlur");Qt(Sh,"onTransitionEnd");ln("onMouseEnter",["mouseout","mouseover"]);ln("onMouseLeave",["mouseout","mouseover"]);ln("onPointerEnter",["pointerout","pointerover"]);ln("onPointerLeave",["pointerout","pointerover"]);Cr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Cr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Cr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Cr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Cr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Cr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Bg=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mn));function Ju(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,zm(n,e,void 0,t),t.currentTarget=null}function Eh(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var o=n.length-1;0<=o;o--){var a=n[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Ju(s,a,u),i=l}else for(o=0;o<n.length;o++){if(a=n[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Ju(s,a,u),i=l}}}if(yi)throw t=wa,yi=!1,wa=null,t}function q(t,e){var r=e[Oa];r===void 0&&(r=e[Oa]=new Set);var n=t+"__bubble";r.has(n)||(jh(e,t,2,!1),r.add(n))}function Io(t,e,r){var n=0;e&&(n|=4),jh(r,t,n,e)}var zs="_reactListening"+Math.random().toString(36).slice(2);function ls(t){if(!t[zs]){t[zs]=!0,Ad.forEach(function(r){r!=="selectionchange"&&(Bg.has(r)||Io(r,!1,t),Io(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[zs]||(e[zs]=!0,Io("selectionchange",!1,e))}}function jh(t,e,r,n){switch(uh(e)){case 1:var s=rg;break;case 4:s=ng;break;default:s=Tl}r=s.bind(null,e,r,t),s=void 0,!ya||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function $o(t,e,r,n,s){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=mr(a),o===null)return;if(l=o.tag,l===5||l===6){n=i=o;continue e}a=a.parentNode}}n=n.return}Jd(function(){var u=i,d=Sl(r),h=[];e:{var f=kh.get(t);if(f!==void 0){var g=Ol,y=t;switch(t){case"keypress":if(li(r)===0)break e;case"keydown":case"keyup":g=yg;break;case"focusin":y="focus",g=Co;break;case"focusout":y="blur",g=Co;break;case"beforeblur":case"afterblur":g=Co;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Lu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=og;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=xg;break;case _h:case xh:case bh:g=ug;break;case Sh:g=Sg;break;case"scroll":g=sg;break;case"wheel":g=Eg;break;case"copy":case"cut":case"paste":g=dg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Mu}var w=(e&4)!==0,_=!w&&t==="scroll",v=w?f!==null?f+"Capture":null:f;w=[];for(var p=u,m;p!==null;){m=p;var x=m.stateNode;if(m.tag===5&&x!==null&&(m=x,v!==null&&(x=rs(p,v),x!=null&&w.push(us(p,x,m)))),_)break;p=p.return}0<w.length&&(f=new g(f,y,null,r,d),h.push({event:f,listeners:w}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",f&&r!==ga&&(y=r.relatedTarget||r.fromElement)&&(mr(y)||y[bt]))break e;if((g||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,g?(y=r.relatedTarget||r.toElement,g=u,y=y?mr(y):null,y!==null&&(_=Or(y),y!==_||y.tag!==5&&y.tag!==6)&&(y=null)):(g=null,y=u),g!==y)){if(w=Lu,x="onMouseLeave",v="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(w=Mu,x="onPointerLeave",v="onPointerEnter",p="pointer"),_=g==null?f:Hr(g),m=y==null?f:Hr(y),f=new w(x,p+"leave",g,r,d),f.target=_,f.relatedTarget=m,x=null,mr(d)===u&&(w=new w(v,p+"enter",y,r,d),w.target=m,w.relatedTarget=_,x=w),_=x,g&&y)t:{for(w=g,v=y,p=0,m=w;m;m=Nr(m))p++;for(m=0,x=v;x;x=Nr(x))m++;for(;0<p-m;)w=Nr(w),p--;for(;0<m-p;)v=Nr(v),m--;for(;p--;){if(w===v||v!==null&&w===v.alternate)break t;w=Nr(w),v=Nr(v)}w=null}else w=null;g!==null&&Qu(h,f,g,w,!1),y!==null&&_!==null&&Qu(h,_,y,w,!0)}}e:{if(f=u?Hr(u):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var S=Rg;else if(Bu(f))if(mh)S=Dg;else{S=Ig;var k=Ag}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(S=$g);if(S&&(S=S(t,u))){ph(h,S,r,d);break e}k&&k(t,f,u),t==="focusout"&&(k=f._wrapperState)&&k.controlled&&f.type==="number"&&da(f,"number",f.value)}switch(k=u?Hr(u):window,t){case"focusin":(Bu(k)||k.contentEditable==="true")&&(Vr=k,Sa=u,qn=null);break;case"focusout":qn=Sa=Vr=null;break;case"mousedown":ka=!0;break;case"contextmenu":case"mouseup":case"dragend":ka=!1,Ku(h,r,d);break;case"selectionchange":if(Mg)break;case"keydown":case"keyup":Ku(h,r,d)}var j;if(Nl)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Wr?hh(t,r)&&(C="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(C="onCompositionStart");C&&(dh&&r.locale!=="ko"&&(Wr||C!=="onCompositionStart"?C==="onCompositionEnd"&&Wr&&(j=ch()):(Dt=d,Cl="value"in Dt?Dt.value:Dt.textContent,Wr=!0)),k=Si(u,C),0<k.length&&(C=new Uu(C,t,null,r,d),h.push({event:C,listeners:k}),j?C.data=j:(j=fh(r),j!==null&&(C.data=j)))),(j=Tg?Cg(t,r):Og(t,r))&&(u=Si(u,"onBeforeInput"),0<u.length&&(d=new Uu("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=j))}Eh(h,e)})}function us(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Si(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=rs(t,r),i!=null&&n.unshift(us(t,i,s)),i=rs(t,e),i!=null&&n.push(us(t,i,s))),t=t.return}return n}function Nr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Qu(t,e,r,n,s){for(var i=e._reactName,o=[];r!==null&&r!==n;){var a=r,l=a.alternate,u=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&u!==null&&(a=u,s?(l=rs(r,i),l!=null&&o.unshift(us(r,l,a))):s||(l=rs(r,i),l!=null&&o.push(us(r,l,a)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var Wg=/\r\n?/g,Vg=/\u0000|\uFFFD/g;function Yu(t){return(typeof t=="string"?t:""+t).replace(Wg,`
`).replace(Vg,"")}function Fs(t,e,r){if(e=Yu(e),Yu(t)!==e&&r)throw Error(E(425))}function ki(){}var Ea=null,ja=null;function Ta(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ca=typeof setTimeout=="function"?setTimeout:void 0,qg=typeof clearTimeout=="function"?clearTimeout:void 0,Xu=typeof Promise=="function"?Promise:void 0,Hg=typeof queueMicrotask=="function"?queueMicrotask:typeof Xu<"u"?function(t){return Xu.resolve(null).then(t).catch(Kg)}:Ca;function Kg(t){setTimeout(function(){throw t})}function Do(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),is(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);is(e)}function Bt(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Zu(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var wn=Math.random().toString(36).slice(2),ct="__reactFiber$"+wn,cs="__reactProps$"+wn,bt="__reactContainer$"+wn,Oa="__reactEvents$"+wn,Gg="__reactListeners$"+wn,Jg="__reactHandles$"+wn;function mr(t){var e=t[ct];if(e)return e;for(var r=t.parentNode;r;){if(e=r[bt]||r[ct]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=Zu(t);t!==null;){if(r=t[ct])return r;t=Zu(t)}return e}t=r,r=t.parentNode}return null}function Es(t){return t=t[ct]||t[bt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Hr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(E(33))}function eo(t){return t[cs]||null}var Pa=[],Kr=-1;function Yt(t){return{current:t}}function H(t){0>Kr||(t.current=Pa[Kr],Pa[Kr]=null,Kr--)}function W(t,e){Kr++,Pa[Kr]=t.current,t.current=e}var Jt={},ve=Yt(Jt),Ce=Yt(!1),br=Jt;function un(t,e){var r=t.type.contextTypes;if(!r)return Jt;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Oe(t){return t=t.childContextTypes,t!=null}function Ei(){H(Ce),H(ve)}function ec(t,e,r){if(ve.current!==Jt)throw Error(E(168));W(ve,e),W(Ce,r)}function Th(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(E(108,Am(t)||"Unknown",s));return Y({},r,n)}function ji(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Jt,br=ve.current,W(ve,t),W(Ce,Ce.current),!0}function tc(t,e,r){var n=t.stateNode;if(!n)throw Error(E(169));r?(t=Th(t,e,br),n.__reactInternalMemoizedMergedChildContext=t,H(Ce),H(ve),W(ve,t)):H(Ce),W(Ce,r)}var gt=null,to=!1,Lo=!1;function Ch(t){gt===null?gt=[t]:gt.push(t)}function Qg(t){to=!0,Ch(t)}function Xt(){if(!Lo&&gt!==null){Lo=!0;var t=0,e=F;try{var r=gt;for(F=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}gt=null,to=!1}catch(s){throw gt!==null&&(gt=gt.slice(t+1)),Zd(kl,Xt),s}finally{F=e,Lo=!1}}return null}var Gr=[],Jr=0,Ti=null,Ci=0,ze=[],Fe=0,Sr=null,yt=1,wt="";function lr(t,e){Gr[Jr++]=Ci,Gr[Jr++]=Ti,Ti=t,Ci=e}function Oh(t,e,r){ze[Fe++]=yt,ze[Fe++]=wt,ze[Fe++]=Sr,Sr=t;var n=yt;t=wt;var s=32-rt(n)-1;n&=~(1<<s),r+=1;var i=32-rt(e)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,yt=1<<32-rt(e)+s|r<<s|n,wt=i+t}else yt=1<<i|r<<s|n,wt=t}function Al(t){t.return!==null&&(lr(t,1),Oh(t,1,0))}function Il(t){for(;t===Ti;)Ti=Gr[--Jr],Gr[Jr]=null,Ci=Gr[--Jr],Gr[Jr]=null;for(;t===Sr;)Sr=ze[--Fe],ze[Fe]=null,wt=ze[--Fe],ze[Fe]=null,yt=ze[--Fe],ze[Fe]=null}var $e=null,Ie=null,K=!1,et=null;function Ph(t,e){var r=Be(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function rc(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,$e=t,Ie=Bt(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,$e=t,Ie=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Sr!==null?{id:yt,overflow:wt}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Be(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,$e=t,Ie=null,!0):!1;default:return!1}}function Na(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ra(t){if(K){var e=Ie;if(e){var r=e;if(!rc(t,e)){if(Na(t))throw Error(E(418));e=Bt(r.nextSibling);var n=$e;e&&rc(t,e)?Ph(n,r):(t.flags=t.flags&-4097|2,K=!1,$e=t)}}else{if(Na(t))throw Error(E(418));t.flags=t.flags&-4097|2,K=!1,$e=t}}}function nc(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;$e=t}function Bs(t){if(t!==$e)return!1;if(!K)return nc(t),K=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ta(t.type,t.memoizedProps)),e&&(e=Ie)){if(Na(t))throw Nh(),Error(E(418));for(;e;)Ph(t,e),e=Bt(e.nextSibling)}if(nc(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(E(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Ie=Bt(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Ie=null}}else Ie=$e?Bt(t.stateNode.nextSibling):null;return!0}function Nh(){for(var t=Ie;t;)t=Bt(t.nextSibling)}function cn(){Ie=$e=null,K=!1}function $l(t){et===null?et=[t]:et.push(t)}var Yg=Et.ReactCurrentBatchConfig;function Nn(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(E(309));var n=r.stateNode}if(!n)throw Error(E(147,t));var s=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(E(284));if(!r._owner)throw Error(E(290,t))}return t}function Ws(t,e){throw t=Object.prototype.toString.call(e),Error(E(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function sc(t){var e=t._init;return e(t._payload)}function Rh(t){function e(v,p){if(t){var m=v.deletions;m===null?(v.deletions=[p],v.flags|=16):m.push(p)}}function r(v,p){if(!t)return null;for(;p!==null;)e(v,p),p=p.sibling;return null}function n(v,p){for(v=new Map;p!==null;)p.key!==null?v.set(p.key,p):v.set(p.index,p),p=p.sibling;return v}function s(v,p){return v=Ht(v,p),v.index=0,v.sibling=null,v}function i(v,p,m){return v.index=m,t?(m=v.alternate,m!==null?(m=m.index,m<p?(v.flags|=2,p):m):(v.flags|=2,p)):(v.flags|=1048576,p)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,p,m,x){return p===null||p.tag!==6?(p=Vo(m,v.mode,x),p.return=v,p):(p=s(p,m),p.return=v,p)}function l(v,p,m,x){var S=m.type;return S===Br?d(v,p,m.props.children,x,m.key):p!==null&&(p.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Nt&&sc(S)===p.type)?(x=s(p,m.props),x.ref=Nn(v,p,m),x.return=v,x):(x=mi(m.type,m.key,m.props,null,v.mode,x),x.ref=Nn(v,p,m),x.return=v,x)}function u(v,p,m,x){return p===null||p.tag!==4||p.stateNode.containerInfo!==m.containerInfo||p.stateNode.implementation!==m.implementation?(p=qo(m,v.mode,x),p.return=v,p):(p=s(p,m.children||[]),p.return=v,p)}function d(v,p,m,x,S){return p===null||p.tag!==7?(p=_r(m,v.mode,x,S),p.return=v,p):(p=s(p,m),p.return=v,p)}function h(v,p,m){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Vo(""+p,v.mode,m),p.return=v,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Rs:return m=mi(p.type,p.key,p.props,null,v.mode,m),m.ref=Nn(v,null,p),m.return=v,m;case Fr:return p=qo(p,v.mode,m),p.return=v,p;case Nt:var x=p._init;return h(v,x(p._payload),m)}if(Ln(p)||jn(p))return p=_r(p,v.mode,m,null),p.return=v,p;Ws(v,p)}return null}function f(v,p,m,x){var S=p!==null?p.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return S!==null?null:a(v,p,""+m,x);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Rs:return m.key===S?l(v,p,m,x):null;case Fr:return m.key===S?u(v,p,m,x):null;case Nt:return S=m._init,f(v,p,S(m._payload),x)}if(Ln(m)||jn(m))return S!==null?null:d(v,p,m,x,null);Ws(v,m)}return null}function g(v,p,m,x,S){if(typeof x=="string"&&x!==""||typeof x=="number")return v=v.get(m)||null,a(p,v,""+x,S);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Rs:return v=v.get(x.key===null?m:x.key)||null,l(p,v,x,S);case Fr:return v=v.get(x.key===null?m:x.key)||null,u(p,v,x,S);case Nt:var k=x._init;return g(v,p,m,k(x._payload),S)}if(Ln(x)||jn(x))return v=v.get(m)||null,d(p,v,x,S,null);Ws(p,x)}return null}function y(v,p,m,x){for(var S=null,k=null,j=p,C=p=0,U=null;j!==null&&C<m.length;C++){j.index>C?(U=j,j=null):U=j.sibling;var D=f(v,j,m[C],x);if(D===null){j===null&&(j=U);break}t&&j&&D.alternate===null&&e(v,j),p=i(D,p,C),k===null?S=D:k.sibling=D,k=D,j=U}if(C===m.length)return r(v,j),K&&lr(v,C),S;if(j===null){for(;C<m.length;C++)j=h(v,m[C],x),j!==null&&(p=i(j,p,C),k===null?S=j:k.sibling=j,k=j);return K&&lr(v,C),S}for(j=n(v,j);C<m.length;C++)U=g(j,v,C,m[C],x),U!==null&&(t&&U.alternate!==null&&j.delete(U.key===null?C:U.key),p=i(U,p,C),k===null?S=U:k.sibling=U,k=U);return t&&j.forEach(function(V){return e(v,V)}),K&&lr(v,C),S}function w(v,p,m,x){var S=jn(m);if(typeof S!="function")throw Error(E(150));if(m=S.call(m),m==null)throw Error(E(151));for(var k=S=null,j=p,C=p=0,U=null,D=m.next();j!==null&&!D.done;C++,D=m.next()){j.index>C?(U=j,j=null):U=j.sibling;var V=f(v,j,D.value,x);if(V===null){j===null&&(j=U);break}t&&j&&V.alternate===null&&e(v,j),p=i(V,p,C),k===null?S=V:k.sibling=V,k=V,j=U}if(D.done)return r(v,j),K&&lr(v,C),S;if(j===null){for(;!D.done;C++,D=m.next())D=h(v,D.value,x),D!==null&&(p=i(D,p,C),k===null?S=D:k.sibling=D,k=D);return K&&lr(v,C),S}for(j=n(v,j);!D.done;C++,D=m.next())D=g(j,v,C,D.value,x),D!==null&&(t&&D.alternate!==null&&j.delete(D.key===null?C:D.key),p=i(D,p,C),k===null?S=D:k.sibling=D,k=D);return t&&j.forEach(function(Ee){return e(v,Ee)}),K&&lr(v,C),S}function _(v,p,m,x){if(typeof m=="object"&&m!==null&&m.type===Br&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case Rs:e:{for(var S=m.key,k=p;k!==null;){if(k.key===S){if(S=m.type,S===Br){if(k.tag===7){r(v,k.sibling),p=s(k,m.props.children),p.return=v,v=p;break e}}else if(k.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Nt&&sc(S)===k.type){r(v,k.sibling),p=s(k,m.props),p.ref=Nn(v,k,m),p.return=v,v=p;break e}r(v,k);break}else e(v,k);k=k.sibling}m.type===Br?(p=_r(m.props.children,v.mode,x,m.key),p.return=v,v=p):(x=mi(m.type,m.key,m.props,null,v.mode,x),x.ref=Nn(v,p,m),x.return=v,v=x)}return o(v);case Fr:e:{for(k=m.key;p!==null;){if(p.key===k)if(p.tag===4&&p.stateNode.containerInfo===m.containerInfo&&p.stateNode.implementation===m.implementation){r(v,p.sibling),p=s(p,m.children||[]),p.return=v,v=p;break e}else{r(v,p);break}else e(v,p);p=p.sibling}p=qo(m,v.mode,x),p.return=v,v=p}return o(v);case Nt:return k=m._init,_(v,p,k(m._payload),x)}if(Ln(m))return y(v,p,m,x);if(jn(m))return w(v,p,m,x);Ws(v,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,p!==null&&p.tag===6?(r(v,p.sibling),p=s(p,m),p.return=v,v=p):(r(v,p),p=Vo(m,v.mode,x),p.return=v,v=p),o(v)):r(v,p)}return _}var dn=Rh(!0),Ah=Rh(!1),Oi=Yt(null),Pi=null,Qr=null,Dl=null;function Ll(){Dl=Qr=Pi=null}function Ul(t){var e=Oi.current;H(Oi),t._currentValue=e}function Aa(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function nn(t,e){Pi=t,Dl=Qr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Te=!0),t.firstContext=null)}function qe(t){var e=t._currentValue;if(Dl!==t)if(t={context:t,memoizedValue:e,next:null},Qr===null){if(Pi===null)throw Error(E(308));Qr=t,Pi.dependencies={lanes:0,firstContext:t}}else Qr=Qr.next=t;return e}var gr=null;function Ml(t){gr===null?gr=[t]:gr.push(t)}function Ih(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,Ml(e)):(r.next=s.next,s.next=r),e.interleaved=r,St(t,n)}function St(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Rt=!1;function zl(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $h(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function _t(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Wt(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,M&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,St(t,r)}return s=n.interleaved,s===null?(e.next=e,Ml(n)):(e.next=s.next,s.next=e),n.interleaved=e,St(t,r)}function ui(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,El(t,r)}}function ic(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=e:i=i.next=e}else s=i=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Ni(t,e,r,n){var s=t.updateQueue;Rt=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,d=u=l=null,a=i;do{var f=a.lane,g=a.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,w=a;switch(f=e,g=r,w.tag){case 1:if(y=w.payload,typeof y=="function"){h=y.call(g,h,f);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=w.payload,f=typeof y=="function"?y.call(g,h,f):y,f==null)break e;h=Y({},h,f);break e;case 2:Rt=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else g={eventTime:g,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=g,l=h):d=d.next=g,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Er|=o,t.lanes=o,t.memoizedState=h}}function oc(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(E(191,s));s.call(n)}}}var js={},ht=Yt(js),ds=Yt(js),hs=Yt(js);function vr(t){if(t===js)throw Error(E(174));return t}function Fl(t,e){switch(W(hs,e),W(ds,t),W(ht,js),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:fa(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=fa(e,t)}H(ht),W(ht,e)}function hn(){H(ht),H(ds),H(hs)}function Dh(t){vr(hs.current);var e=vr(ht.current),r=fa(e,t.type);e!==r&&(W(ds,t),W(ht,r))}function Bl(t){ds.current===t&&(H(ht),H(ds))}var J=Yt(0);function Ri(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Uo=[];function Wl(){for(var t=0;t<Uo.length;t++)Uo[t]._workInProgressVersionPrimary=null;Uo.length=0}var ci=Et.ReactCurrentDispatcher,Mo=Et.ReactCurrentBatchConfig,kr=0,Q=null,ie=null,ue=null,Ai=!1,Hn=!1,fs=0,Xg=0;function pe(){throw Error(E(321))}function Vl(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!st(t[r],e[r]))return!1;return!0}function ql(t,e,r,n,s,i){if(kr=i,Q=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ci.current=t===null||t.memoizedState===null?rv:nv,t=r(n,s),Hn){i=0;do{if(Hn=!1,fs=0,25<=i)throw Error(E(301));i+=1,ue=ie=null,e.updateQueue=null,ci.current=sv,t=r(n,s)}while(Hn)}if(ci.current=Ii,e=ie!==null&&ie.next!==null,kr=0,ue=ie=Q=null,Ai=!1,e)throw Error(E(300));return t}function Hl(){var t=fs!==0;return fs=0,t}function ut(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ue===null?Q.memoizedState=ue=t:ue=ue.next=t,ue}function He(){if(ie===null){var t=Q.alternate;t=t!==null?t.memoizedState:null}else t=ie.next;var e=ue===null?Q.memoizedState:ue.next;if(e!==null)ue=e,ie=t;else{if(t===null)throw Error(E(310));ie=t,t={memoizedState:ie.memoizedState,baseState:ie.baseState,baseQueue:ie.baseQueue,queue:ie.queue,next:null},ue===null?Q.memoizedState=ue=t:ue=ue.next=t}return ue}function ps(t,e){return typeof e=="function"?e(t):e}function zo(t){var e=He(),r=e.queue;if(r===null)throw Error(E(311));r.lastRenderedReducer=t;var n=ie,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var a=o=null,l=null,u=i;do{var d=u.lane;if((kr&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=n):l=l.next=h,Q.lanes|=d,Er|=d}u=u.next}while(u!==null&&u!==i);l===null?o=n:l.next=a,st(n,e.memoizedState)||(Te=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do i=s.lane,Q.lanes|=i,Er|=i,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Fo(t){var e=He(),r=e.queue;if(r===null)throw Error(E(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,i=e.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);st(i,e.memoizedState)||(Te=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function Lh(){}function Uh(t,e){var r=Q,n=He(),s=e(),i=!st(n.memoizedState,s);if(i&&(n.memoizedState=s,Te=!0),n=n.queue,Kl(Fh.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||ue!==null&&ue.memoizedState.tag&1){if(r.flags|=2048,ms(9,zh.bind(null,r,n,s,e),void 0,null),ce===null)throw Error(E(349));kr&30||Mh(r,e,s)}return s}function Mh(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Q.updateQueue,e===null?(e={lastEffect:null,stores:null},Q.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function zh(t,e,r,n){e.value=r,e.getSnapshot=n,Bh(e)&&Wh(t)}function Fh(t,e,r){return r(function(){Bh(e)&&Wh(t)})}function Bh(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!st(t,r)}catch{return!0}}function Wh(t){var e=St(t,1);e!==null&&nt(e,t,1,-1)}function ac(t){var e=ut();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ps,lastRenderedState:t},e.queue=t,t=t.dispatch=tv.bind(null,Q,t),[e.memoizedState,t]}function ms(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Q.updateQueue,e===null?(e={lastEffect:null,stores:null},Q.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function Vh(){return He().memoizedState}function di(t,e,r,n){var s=ut();Q.flags|=t,s.memoizedState=ms(1|e,r,void 0,n===void 0?null:n)}function ro(t,e,r,n){var s=He();n=n===void 0?null:n;var i=void 0;if(ie!==null){var o=ie.memoizedState;if(i=o.destroy,n!==null&&Vl(n,o.deps)){s.memoizedState=ms(e,r,i,n);return}}Q.flags|=t,s.memoizedState=ms(1|e,r,i,n)}function lc(t,e){return di(8390656,8,t,e)}function Kl(t,e){return ro(2048,8,t,e)}function qh(t,e){return ro(4,2,t,e)}function Hh(t,e){return ro(4,4,t,e)}function Kh(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Gh(t,e,r){return r=r!=null?r.concat([t]):null,ro(4,4,Kh.bind(null,e,t),r)}function Gl(){}function Jh(t,e){var r=He();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Vl(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function Qh(t,e){var r=He();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Vl(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function Yh(t,e,r){return kr&21?(st(r,e)||(r=rh(),Q.lanes|=r,Er|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Te=!0),t.memoizedState=r)}function Zg(t,e){var r=F;F=r!==0&&4>r?r:4,t(!0);var n=Mo.transition;Mo.transition={};try{t(!1),e()}finally{F=r,Mo.transition=n}}function Xh(){return He().memoizedState}function ev(t,e,r){var n=qt(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Zh(t))ef(e,r);else if(r=Ih(t,e,r,n),r!==null){var s=xe();nt(r,t,n,s),tf(r,e,n)}}function tv(t,e,r){var n=qt(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Zh(t))ef(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,r);if(s.hasEagerState=!0,s.eagerState=a,st(a,o)){var l=e.interleaved;l===null?(s.next=s,Ml(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}r=Ih(t,e,s,n),r!==null&&(s=xe(),nt(r,t,n,s),tf(r,e,n))}}function Zh(t){var e=t.alternate;return t===Q||e!==null&&e===Q}function ef(t,e){Hn=Ai=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function tf(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,El(t,r)}}var Ii={readContext:qe,useCallback:pe,useContext:pe,useEffect:pe,useImperativeHandle:pe,useInsertionEffect:pe,useLayoutEffect:pe,useMemo:pe,useReducer:pe,useRef:pe,useState:pe,useDebugValue:pe,useDeferredValue:pe,useTransition:pe,useMutableSource:pe,useSyncExternalStore:pe,useId:pe,unstable_isNewReconciler:!1},rv={readContext:qe,useCallback:function(t,e){return ut().memoizedState=[t,e===void 0?null:e],t},useContext:qe,useEffect:lc,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,di(4194308,4,Kh.bind(null,e,t),r)},useLayoutEffect:function(t,e){return di(4194308,4,t,e)},useInsertionEffect:function(t,e){return di(4,2,t,e)},useMemo:function(t,e){var r=ut();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=ut();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=ev.bind(null,Q,t),[n.memoizedState,t]},useRef:function(t){var e=ut();return t={current:t},e.memoizedState=t},useState:ac,useDebugValue:Gl,useDeferredValue:function(t){return ut().memoizedState=t},useTransition:function(){var t=ac(!1),e=t[0];return t=Zg.bind(null,t[1]),ut().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Q,s=ut();if(K){if(r===void 0)throw Error(E(407));r=r()}else{if(r=e(),ce===null)throw Error(E(349));kr&30||Mh(n,e,r)}s.memoizedState=r;var i={value:r,getSnapshot:e};return s.queue=i,lc(Fh.bind(null,n,i,t),[t]),n.flags|=2048,ms(9,zh.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=ut(),e=ce.identifierPrefix;if(K){var r=wt,n=yt;r=(n&~(1<<32-rt(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=fs++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=Xg++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},nv={readContext:qe,useCallback:Jh,useContext:qe,useEffect:Kl,useImperativeHandle:Gh,useInsertionEffect:qh,useLayoutEffect:Hh,useMemo:Qh,useReducer:zo,useRef:Vh,useState:function(){return zo(ps)},useDebugValue:Gl,useDeferredValue:function(t){var e=He();return Yh(e,ie.memoizedState,t)},useTransition:function(){var t=zo(ps)[0],e=He().memoizedState;return[t,e]},useMutableSource:Lh,useSyncExternalStore:Uh,useId:Xh,unstable_isNewReconciler:!1},sv={readContext:qe,useCallback:Jh,useContext:qe,useEffect:Kl,useImperativeHandle:Gh,useInsertionEffect:qh,useLayoutEffect:Hh,useMemo:Qh,useReducer:Fo,useRef:Vh,useState:function(){return Fo(ps)},useDebugValue:Gl,useDeferredValue:function(t){var e=He();return ie===null?e.memoizedState=t:Yh(e,ie.memoizedState,t)},useTransition:function(){var t=Fo(ps)[0],e=He().memoizedState;return[t,e]},useMutableSource:Lh,useSyncExternalStore:Uh,useId:Xh,unstable_isNewReconciler:!1};function Qe(t,e){if(t&&t.defaultProps){e=Y({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Ia(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Y({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var no={isMounted:function(t){return(t=t._reactInternals)?Or(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=xe(),s=qt(t),i=_t(n,s);i.payload=e,r!=null&&(i.callback=r),e=Wt(t,i,s),e!==null&&(nt(e,t,s,n),ui(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=xe(),s=qt(t),i=_t(n,s);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=Wt(t,i,s),e!==null&&(nt(e,t,s,n),ui(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=xe(),n=qt(t),s=_t(r,n);s.tag=2,e!=null&&(s.callback=e),e=Wt(t,s,n),e!==null&&(nt(e,t,n,r),ui(e,t,n))}};function uc(t,e,r,n,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,o):e.prototype&&e.prototype.isPureReactComponent?!as(r,n)||!as(s,i):!0}function rf(t,e,r){var n=!1,s=Jt,i=e.contextType;return typeof i=="object"&&i!==null?i=qe(i):(s=Oe(e)?br:ve.current,n=e.contextTypes,i=(n=n!=null)?un(t,s):Jt),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=no,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function cc(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&no.enqueueReplaceState(e,e.state,null)}function $a(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},zl(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=qe(i):(i=Oe(e)?br:ve.current,s.context=un(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Ia(t,e,i,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&no.enqueueReplaceState(s,s.state,null),Ni(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function fn(t,e){try{var r="",n=e;do r+=Rm(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Bo(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Da(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var iv=typeof WeakMap=="function"?WeakMap:Map;function nf(t,e,r){r=_t(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Di||(Di=!0,Ha=n),Da(t,e)},r}function sf(t,e,r){r=_t(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){Da(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Da(t,e),typeof n!="function"&&(Vt===null?Vt=new Set([this]):Vt.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function dc(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new iv;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=wv.bind(null,t,e,r),e.then(t,t))}function hc(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function fc(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=_t(-1,1),e.tag=2,Wt(r,e,1))),r.lanes|=1),t)}var ov=Et.ReactCurrentOwner,Te=!1;function we(t,e,r,n){e.child=t===null?Ah(e,null,r,n):dn(e,t.child,r,n)}function pc(t,e,r,n,s){r=r.render;var i=e.ref;return nn(e,s),n=ql(t,e,r,n,i,s),r=Hl(),t!==null&&!Te?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,kt(t,e,s)):(K&&r&&Al(e),e.flags|=1,we(t,e,n,s),e.child)}function mc(t,e,r,n,s){if(t===null){var i=r.type;return typeof i=="function"&&!ru(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,of(t,e,i,n,s)):(t=mi(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:as,r(o,n)&&t.ref===e.ref)return kt(t,e,s)}return e.flags|=1,t=Ht(i,n),t.ref=e.ref,t.return=e,e.child=t}function of(t,e,r,n,s){if(t!==null){var i=t.memoizedProps;if(as(i,n)&&t.ref===e.ref)if(Te=!1,e.pendingProps=n=i,(t.lanes&s)!==0)t.flags&131072&&(Te=!0);else return e.lanes=t.lanes,kt(t,e,s)}return La(t,e,r,n,s)}function af(t,e,r){var n=e.pendingProps,s=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},W(Xr,Ne),Ne|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,W(Xr,Ne),Ne|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,W(Xr,Ne),Ne|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,W(Xr,Ne),Ne|=n;return we(t,e,s,r),e.child}function lf(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function La(t,e,r,n,s){var i=Oe(r)?br:ve.current;return i=un(e,i),nn(e,s),r=ql(t,e,r,n,i,s),n=Hl(),t!==null&&!Te?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,kt(t,e,s)):(K&&n&&Al(e),e.flags|=1,we(t,e,r,s),e.child)}function gc(t,e,r,n,s){if(Oe(r)){var i=!0;ji(e)}else i=!1;if(nn(e,s),e.stateNode===null)hi(t,e),rf(e,r,n),$a(e,r,n,s),n=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=qe(u):(u=Oe(r)?br:ve.current,u=un(e,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||l!==u)&&cc(e,o,n,u),Rt=!1;var f=e.memoizedState;o.state=f,Ni(e,n,o,s),l=e.memoizedState,a!==n||f!==l||Ce.current||Rt?(typeof d=="function"&&(Ia(e,r,d,n),l=e.memoizedState),(a=Rt||uc(e,r,a,n,f,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),o.props=n,o.state=l,o.context=u,n=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,$h(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Qe(e.type,a),o.props=u,h=e.pendingProps,f=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=qe(l):(l=Oe(r)?br:ve.current,l=un(e,l));var g=r.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&cc(e,o,n,l),Rt=!1,f=e.memoizedState,o.state=f,Ni(e,n,o,s);var y=e.memoizedState;a!==h||f!==y||Ce.current||Rt?(typeof g=="function"&&(Ia(e,r,g,n),y=e.memoizedState),(u=Rt||uc(e,r,u,n,f,y,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,y,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=y),o.props=n,o.state=y,o.context=l,n=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return Ua(t,e,r,n,i,s)}function Ua(t,e,r,n,s,i){lf(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return s&&tc(e,r,!1),kt(t,e,i);n=e.stateNode,ov.current=e;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=dn(e,t.child,null,i),e.child=dn(e,null,a,i)):we(t,e,a,i),e.memoizedState=n.state,s&&tc(e,r,!0),e.child}function uf(t){var e=t.stateNode;e.pendingContext?ec(t,e.pendingContext,e.pendingContext!==e.context):e.context&&ec(t,e.context,!1),Fl(t,e.containerInfo)}function vc(t,e,r,n,s){return cn(),$l(s),e.flags|=256,we(t,e,r,n),e.child}var Ma={dehydrated:null,treeContext:null,retryLane:0};function za(t){return{baseLanes:t,cachePool:null,transitions:null}}function cf(t,e,r){var n=e.pendingProps,s=J.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),W(J,s&1),t===null)return Ra(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,i?(n=e.mode,i=e.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=oo(o,n,0,null),t=_r(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=za(r),e.memoizedState=Ma,t):Jl(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return av(t,e,o,n,a,s,r);if(i){i=n.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=Ht(s,l),n.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Ht(a,i):(i=_r(i,o,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,o=t.child.memoizedState,o=o===null?za(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~r,e.memoizedState=Ma,n}return i=t.child,t=i.sibling,n=Ht(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function Jl(t,e){return e=oo({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Vs(t,e,r,n){return n!==null&&$l(n),dn(e,t.child,null,r),t=Jl(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function av(t,e,r,n,s,i,o){if(r)return e.flags&256?(e.flags&=-257,n=Bo(Error(E(422))),Vs(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,s=e.mode,n=oo({mode:"visible",children:n.children},s,0,null),i=_r(i,s,o,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&dn(e,t.child,null,o),e.child.memoizedState=za(o),e.memoizedState=Ma,i);if(!(e.mode&1))return Vs(t,e,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var a=n.dgst;return n=a,i=Error(E(419)),n=Bo(i,n,void 0),Vs(t,e,o,n)}if(a=(o&t.childLanes)!==0,Te||a){if(n=ce,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,St(t,s),nt(n,t,s,-1))}return tu(),n=Bo(Error(E(421))),Vs(t,e,o,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=_v.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Ie=Bt(s.nextSibling),$e=e,K=!0,et=null,t!==null&&(ze[Fe++]=yt,ze[Fe++]=wt,ze[Fe++]=Sr,yt=t.id,wt=t.overflow,Sr=e),e=Jl(e,n.children),e.flags|=4096,e)}function yc(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Aa(t.return,e,r)}function Wo(t,e,r,n,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function df(t,e,r){var n=e.pendingProps,s=n.revealOrder,i=n.tail;if(we(t,e,n.children,r),n=J.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&yc(t,r,e);else if(t.tag===19)yc(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(W(J,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&Ri(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),Wo(e,!1,s,r,i);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Ri(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}Wo(e,!0,r,null,i);break;case"together":Wo(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function hi(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function kt(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Er|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(E(153));if(e.child!==null){for(t=e.child,r=Ht(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Ht(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function lv(t,e,r){switch(e.tag){case 3:uf(e),cn();break;case 5:Dh(e);break;case 1:Oe(e.type)&&ji(e);break;case 4:Fl(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;W(Oi,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(W(J,J.current&1),e.flags|=128,null):r&e.child.childLanes?cf(t,e,r):(W(J,J.current&1),t=kt(t,e,r),t!==null?t.sibling:null);W(J,J.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return df(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),W(J,J.current),n)break;return null;case 22:case 23:return e.lanes=0,af(t,e,r)}return kt(t,e,r)}var hf,Fa,ff,pf;hf=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Fa=function(){};ff=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,vr(ht.current);var i=null;switch(r){case"input":s=ua(t,s),n=ua(t,n),i=[];break;case"select":s=Y({},s,{value:void 0}),n=Y({},n,{value:void 0}),i=[];break;case"textarea":s=ha(t,s),n=ha(t,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=ki)}pa(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(es.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var l=n[u];if(a=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(i||(i=[]),i.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(es.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&q("scroll",t),i||a===l||(i=[])):(i=i||[]).push(u,l))}r&&(i=i||[]).push("style",r);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};pf=function(t,e,r,n){r!==n&&(e.flags|=4)};function Rn(t,e){if(!K)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function me(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function uv(t,e,r){var n=e.pendingProps;switch(Il(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return me(e),null;case 1:return Oe(e.type)&&Ei(),me(e),null;case 3:return n=e.stateNode,hn(),H(Ce),H(ve),Wl(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Bs(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,et!==null&&(Ja(et),et=null))),Fa(t,e),me(e),null;case 5:Bl(e);var s=vr(hs.current);if(r=e.type,t!==null&&e.stateNode!=null)ff(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(E(166));return me(e),null}if(t=vr(ht.current),Bs(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[ct]=e,n[cs]=i,t=(e.mode&1)!==0,r){case"dialog":q("cancel",n),q("close",n);break;case"iframe":case"object":case"embed":q("load",n);break;case"video":case"audio":for(s=0;s<Mn.length;s++)q(Mn[s],n);break;case"source":q("error",n);break;case"img":case"image":case"link":q("error",n),q("load",n);break;case"details":q("toggle",n);break;case"input":Tu(n,i),q("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},q("invalid",n);break;case"textarea":Ou(n,i),q("invalid",n)}pa(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?n.textContent!==a&&(i.suppressHydrationWarning!==!0&&Fs(n.textContent,a,t),s=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Fs(n.textContent,a,t),s=["children",""+a]):es.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&q("scroll",n)}switch(r){case"input":As(n),Cu(n,i,!0);break;case"textarea":As(n),Pu(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=ki)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Fd(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[ct]=e,t[cs]=n,hf(t,e,!1,!1),e.stateNode=t;e:{switch(o=ma(r,n),r){case"dialog":q("cancel",t),q("close",t),s=n;break;case"iframe":case"object":case"embed":q("load",t),s=n;break;case"video":case"audio":for(s=0;s<Mn.length;s++)q(Mn[s],t);s=n;break;case"source":q("error",t),s=n;break;case"img":case"image":case"link":q("error",t),q("load",t),s=n;break;case"details":q("toggle",t),s=n;break;case"input":Tu(t,n),s=ua(t,n),q("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=Y({},n,{value:void 0}),q("invalid",t);break;case"textarea":Ou(t,n),s=ha(t,n),q("invalid",t);break;default:s=n}pa(r,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?Vd(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Bd(t,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&ts(t,l):typeof l=="number"&&ts(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(es.hasOwnProperty(i)?l!=null&&i==="onScroll"&&q("scroll",t):l!=null&&wl(t,i,l,o))}switch(r){case"input":As(t),Cu(t,n,!1);break;case"textarea":As(t),Pu(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Gt(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?Zr(t,!!n.multiple,i,!1):n.defaultValue!=null&&Zr(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=ki)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return me(e),null;case 6:if(t&&e.stateNode!=null)pf(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(E(166));if(r=vr(hs.current),vr(ht.current),Bs(e)){if(n=e.stateNode,r=e.memoizedProps,n[ct]=e,(i=n.nodeValue!==r)&&(t=$e,t!==null))switch(t.tag){case 3:Fs(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Fs(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[ct]=e,e.stateNode=n}return me(e),null;case 13:if(H(J),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(K&&Ie!==null&&e.mode&1&&!(e.flags&128))Nh(),cn(),e.flags|=98560,i=!1;else if(i=Bs(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(E(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(E(317));i[ct]=e}else cn(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;me(e),i=!1}else et!==null&&(Ja(et),et=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||J.current&1?oe===0&&(oe=3):tu())),e.updateQueue!==null&&(e.flags|=4),me(e),null);case 4:return hn(),Fa(t,e),t===null&&ls(e.stateNode.containerInfo),me(e),null;case 10:return Ul(e.type._context),me(e),null;case 17:return Oe(e.type)&&Ei(),me(e),null;case 19:if(H(J),i=e.memoizedState,i===null)return me(e),null;if(n=(e.flags&128)!==0,o=i.rendering,o===null)if(n)Rn(i,!1);else{if(oe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Ri(t),o!==null){for(e.flags|=128,Rn(i,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return W(J,J.current&1|2),e.child}t=t.sibling}i.tail!==null&&ee()>pn&&(e.flags|=128,n=!0,Rn(i,!1),e.lanes=4194304)}else{if(!n)if(t=Ri(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Rn(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!K)return me(e),null}else 2*ee()-i.renderingStartTime>pn&&r!==1073741824&&(e.flags|=128,n=!0,Rn(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(r=i.last,r!==null?r.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ee(),e.sibling=null,r=J.current,W(J,n?r&1|2:r&1),e):(me(e),null);case 22:case 23:return eu(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Ne&1073741824&&(me(e),e.subtreeFlags&6&&(e.flags|=8192)):me(e),null;case 24:return null;case 25:return null}throw Error(E(156,e.tag))}function cv(t,e){switch(Il(e),e.tag){case 1:return Oe(e.type)&&Ei(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return hn(),H(Ce),H(ve),Wl(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Bl(e),null;case 13:if(H(J),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(E(340));cn()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return H(J),null;case 4:return hn(),null;case 10:return Ul(e.type._context),null;case 22:case 23:return eu(),null;case 24:return null;default:return null}}var qs=!1,ge=!1,dv=typeof WeakSet=="function"?WeakSet:Set,T=null;function Yr(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){X(t,e,n)}else r.current=null}function Ba(t,e,r){try{r()}catch(n){X(t,e,n)}}var wc=!1;function hv(t,e){if(Ea=xi,t=yh(),Rl(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,a=-1,l=-1,u=0,d=0,h=t,f=null;t:for(;;){for(var g;h!==r||s!==0&&h.nodeType!==3||(a=o+s),h!==i||n!==0&&h.nodeType!==3||(l=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(g=h.firstChild)!==null;)f=h,h=g;for(;;){if(h===t)break t;if(f===r&&++u===s&&(a=o),f===i&&++d===n&&(l=o),(g=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=g}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(ja={focusedElem:t,selectionRange:r},xi=!1,T=e;T!==null;)if(e=T,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,T=t;else for(;T!==null;){e=T;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var w=y.memoizedProps,_=y.memoizedState,v=e.stateNode,p=v.getSnapshotBeforeUpdate(e.elementType===e.type?w:Qe(e.type,w),_);v.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var m=e.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(E(163))}}catch(x){X(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,T=t;break}T=e.return}return y=wc,wc=!1,y}function Kn(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Ba(e,r,i)}s=s.next}while(s!==n)}}function so(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Wa(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function mf(t){var e=t.alternate;e!==null&&(t.alternate=null,mf(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ct],delete e[cs],delete e[Oa],delete e[Gg],delete e[Jg])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function gf(t){return t.tag===5||t.tag===3||t.tag===4}function _c(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||gf(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Va(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=ki));else if(n!==4&&(t=t.child,t!==null))for(Va(t,e,r),t=t.sibling;t!==null;)Va(t,e,r),t=t.sibling}function qa(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(qa(t,e,r),t=t.sibling;t!==null;)qa(t,e,r),t=t.sibling}var de=null,Xe=!1;function Tt(t,e,r){for(r=r.child;r!==null;)vf(t,e,r),r=r.sibling}function vf(t,e,r){if(dt&&typeof dt.onCommitFiberUnmount=="function")try{dt.onCommitFiberUnmount(Qi,r)}catch{}switch(r.tag){case 5:ge||Yr(r,e);case 6:var n=de,s=Xe;de=null,Tt(t,e,r),de=n,Xe=s,de!==null&&(Xe?(t=de,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):de.removeChild(r.stateNode));break;case 18:de!==null&&(Xe?(t=de,r=r.stateNode,t.nodeType===8?Do(t.parentNode,r):t.nodeType===1&&Do(t,r),is(t)):Do(de,r.stateNode));break;case 4:n=de,s=Xe,de=r.stateNode.containerInfo,Xe=!0,Tt(t,e,r),de=n,Xe=s;break;case 0:case 11:case 14:case 15:if(!ge&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Ba(r,e,o),s=s.next}while(s!==n)}Tt(t,e,r);break;case 1:if(!ge&&(Yr(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){X(r,e,a)}Tt(t,e,r);break;case 21:Tt(t,e,r);break;case 22:r.mode&1?(ge=(n=ge)||r.memoizedState!==null,Tt(t,e,r),ge=n):Tt(t,e,r);break;default:Tt(t,e,r)}}function xc(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new dv),e.forEach(function(n){var s=xv.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Ke(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:de=a.stateNode,Xe=!1;break e;case 3:de=a.stateNode.containerInfo,Xe=!0;break e;case 4:de=a.stateNode.containerInfo,Xe=!0;break e}a=a.return}if(de===null)throw Error(E(160));vf(i,o,s),de=null,Xe=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){X(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)yf(e,t),e=e.sibling}function yf(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ke(e,t),at(t),n&4){try{Kn(3,t,t.return),so(3,t)}catch(w){X(t,t.return,w)}try{Kn(5,t,t.return)}catch(w){X(t,t.return,w)}}break;case 1:Ke(e,t),at(t),n&512&&r!==null&&Yr(r,r.return);break;case 5:if(Ke(e,t),at(t),n&512&&r!==null&&Yr(r,r.return),t.flags&32){var s=t.stateNode;try{ts(s,"")}catch(w){X(t,t.return,w)}}if(n&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=r!==null?r.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Md(s,i),ma(a,o);var u=ma(a,i);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?Vd(s,h):d==="dangerouslySetInnerHTML"?Bd(s,h):d==="children"?ts(s,h):wl(s,d,h,u)}switch(a){case"input":ca(s,i);break;case"textarea":zd(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?Zr(s,!!i.multiple,g,!1):f!==!!i.multiple&&(i.defaultValue!=null?Zr(s,!!i.multiple,i.defaultValue,!0):Zr(s,!!i.multiple,i.multiple?[]:"",!1))}s[cs]=i}catch(w){X(t,t.return,w)}}break;case 6:if(Ke(e,t),at(t),n&4){if(t.stateNode===null)throw Error(E(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(w){X(t,t.return,w)}}break;case 3:if(Ke(e,t),at(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{is(e.containerInfo)}catch(w){X(t,t.return,w)}break;case 4:Ke(e,t),at(t);break;case 13:Ke(e,t),at(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Xl=ee())),n&4&&xc(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(ge=(u=ge)||d,Ke(e,t),ge=u):Ke(e,t),at(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(T=t,d=t.child;d!==null;){for(h=T=d;T!==null;){switch(f=T,g=f.child,f.tag){case 0:case 11:case 14:case 15:Kn(4,f,f.return);break;case 1:Yr(f,f.return);var y=f.stateNode;if(typeof y.componentWillUnmount=="function"){n=f,r=f.return;try{e=n,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(w){X(n,r,w)}}break;case 5:Yr(f,f.return);break;case 22:if(f.memoizedState!==null){Sc(h);continue}}g!==null?(g.return=f,T=g):Sc(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Wd("display",o))}catch(w){X(t,t.return,w)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(w){X(t,t.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Ke(e,t),at(t),n&4&&xc(t);break;case 21:break;default:Ke(e,t),at(t)}}function at(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(gf(r)){var n=r;break e}r=r.return}throw Error(E(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(ts(s,""),n.flags&=-33);var i=_c(t);qa(t,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,a=_c(t);Va(t,a,o);break;default:throw Error(E(161))}}catch(l){X(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function fv(t,e,r){T=t,wf(t)}function wf(t,e,r){for(var n=(t.mode&1)!==0;T!==null;){var s=T,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||qs;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||ge;a=qs;var u=ge;if(qs=o,(ge=l)&&!u)for(T=s;T!==null;)o=T,l=o.child,o.tag===22&&o.memoizedState!==null?kc(s):l!==null?(l.return=o,T=l):kc(s);for(;i!==null;)T=i,wf(i),i=i.sibling;T=s,qs=a,ge=u}bc(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,T=i):bc(t)}}function bc(t){for(;T!==null;){var e=T;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ge||so(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!ge)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:Qe(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&oc(e,i,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}oc(e,o,r)}break;case 5:var a=e.stateNode;if(r===null&&e.flags&4){r=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&is(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(E(163))}ge||e.flags&512&&Wa(e)}catch(f){X(e,e.return,f)}}if(e===t){T=null;break}if(r=e.sibling,r!==null){r.return=e.return,T=r;break}T=e.return}}function Sc(t){for(;T!==null;){var e=T;if(e===t){T=null;break}var r=e.sibling;if(r!==null){r.return=e.return,T=r;break}T=e.return}}function kc(t){for(;T!==null;){var e=T;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{so(4,e)}catch(l){X(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(l){X(e,s,l)}}var i=e.return;try{Wa(e)}catch(l){X(e,i,l)}break;case 5:var o=e.return;try{Wa(e)}catch(l){X(e,o,l)}}}catch(l){X(e,e.return,l)}if(e===t){T=null;break}var a=e.sibling;if(a!==null){a.return=e.return,T=a;break}T=e.return}}var pv=Math.ceil,$i=Et.ReactCurrentDispatcher,Ql=Et.ReactCurrentOwner,We=Et.ReactCurrentBatchConfig,M=0,ce=null,ne=null,he=0,Ne=0,Xr=Yt(0),oe=0,gs=null,Er=0,io=0,Yl=0,Gn=null,je=null,Xl=0,pn=1/0,pt=null,Di=!1,Ha=null,Vt=null,Hs=!1,Lt=null,Li=0,Jn=0,Ka=null,fi=-1,pi=0;function xe(){return M&6?ee():fi!==-1?fi:fi=ee()}function qt(t){return t.mode&1?M&2&&he!==0?he&-he:Yg.transition!==null?(pi===0&&(pi=rh()),pi):(t=F,t!==0||(t=window.event,t=t===void 0?16:uh(t.type)),t):1}function nt(t,e,r,n){if(50<Jn)throw Jn=0,Ka=null,Error(E(185));Ss(t,r,n),(!(M&2)||t!==ce)&&(t===ce&&(!(M&2)&&(io|=r),oe===4&&It(t,he)),Pe(t,n),r===1&&M===0&&!(e.mode&1)&&(pn=ee()+500,to&&Xt()))}function Pe(t,e){var r=t.callbackNode;Ym(t,e);var n=_i(t,t===ce?he:0);if(n===0)r!==null&&Au(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&Au(r),e===1)t.tag===0?Qg(Ec.bind(null,t)):Ch(Ec.bind(null,t)),Hg(function(){!(M&6)&&Xt()}),r=null;else{switch(nh(n)){case 1:r=kl;break;case 4:r=eh;break;case 16:r=wi;break;case 536870912:r=th;break;default:r=wi}r=Tf(r,_f.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function _f(t,e){if(fi=-1,pi=0,M&6)throw Error(E(327));var r=t.callbackNode;if(sn()&&t.callbackNode!==r)return null;var n=_i(t,t===ce?he:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Ui(t,n);else{e=n;var s=M;M|=2;var i=bf();(ce!==t||he!==e)&&(pt=null,pn=ee()+500,wr(t,e));do try{vv();break}catch(a){xf(t,a)}while(!0);Ll(),$i.current=i,M=s,ne!==null?e=0:(ce=null,he=0,e=oe)}if(e!==0){if(e===2&&(s=_a(t),s!==0&&(n=s,e=Ga(t,s))),e===1)throw r=gs,wr(t,0),It(t,n),Pe(t,ee()),r;if(e===6)It(t,n);else{if(s=t.current.alternate,!(n&30)&&!mv(s)&&(e=Ui(t,n),e===2&&(i=_a(t),i!==0&&(n=i,e=Ga(t,i))),e===1))throw r=gs,wr(t,0),It(t,n),Pe(t,ee()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(E(345));case 2:ur(t,je,pt);break;case 3:if(It(t,n),(n&130023424)===n&&(e=Xl+500-ee(),10<e)){if(_i(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){xe(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Ca(ur.bind(null,t,je,pt),e);break}ur(t,je,pt);break;case 4:if(It(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var o=31-rt(n);i=1<<o,o=e[o],o>s&&(s=o),n&=~i}if(n=s,n=ee()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*pv(n/1960))-n,10<n){t.timeoutHandle=Ca(ur.bind(null,t,je,pt),n);break}ur(t,je,pt);break;case 5:ur(t,je,pt);break;default:throw Error(E(329))}}}return Pe(t,ee()),t.callbackNode===r?_f.bind(null,t):null}function Ga(t,e){var r=Gn;return t.current.memoizedState.isDehydrated&&(wr(t,e).flags|=256),t=Ui(t,e),t!==2&&(e=je,je=r,e!==null&&Ja(e)),t}function Ja(t){je===null?je=t:je.push.apply(je,t)}function mv(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!st(i(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function It(t,e){for(e&=~Yl,e&=~io,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-rt(e),n=1<<r;t[r]=-1,e&=~n}}function Ec(t){if(M&6)throw Error(E(327));sn();var e=_i(t,0);if(!(e&1))return Pe(t,ee()),null;var r=Ui(t,e);if(t.tag!==0&&r===2){var n=_a(t);n!==0&&(e=n,r=Ga(t,n))}if(r===1)throw r=gs,wr(t,0),It(t,e),Pe(t,ee()),r;if(r===6)throw Error(E(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ur(t,je,pt),Pe(t,ee()),null}function Zl(t,e){var r=M;M|=1;try{return t(e)}finally{M=r,M===0&&(pn=ee()+500,to&&Xt())}}function jr(t){Lt!==null&&Lt.tag===0&&!(M&6)&&sn();var e=M;M|=1;var r=We.transition,n=F;try{if(We.transition=null,F=1,t)return t()}finally{F=n,We.transition=r,M=e,!(M&6)&&Xt()}}function eu(){Ne=Xr.current,H(Xr)}function wr(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,qg(r)),ne!==null)for(r=ne.return;r!==null;){var n=r;switch(Il(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Ei();break;case 3:hn(),H(Ce),H(ve),Wl();break;case 5:Bl(n);break;case 4:hn();break;case 13:H(J);break;case 19:H(J);break;case 10:Ul(n.type._context);break;case 22:case 23:eu()}r=r.return}if(ce=t,ne=t=Ht(t.current,null),he=Ne=e,oe=0,gs=null,Yl=io=Er=0,je=Gn=null,gr!==null){for(e=0;e<gr.length;e++)if(r=gr[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}gr=null}return t}function xf(t,e){do{var r=ne;try{if(Ll(),ci.current=Ii,Ai){for(var n=Q.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Ai=!1}if(kr=0,ue=ie=Q=null,Hn=!1,fs=0,Ql.current=null,r===null||r.return===null){oe=1,gs=e,ne=null;break}e:{var i=t,o=r.return,a=r,l=e;if(e=he,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=hc(o);if(g!==null){g.flags&=-257,fc(g,o,a,i,e),g.mode&1&&dc(i,u,e),e=g,l=u;var y=e.updateQueue;if(y===null){var w=new Set;w.add(l),e.updateQueue=w}else y.add(l);break e}else{if(!(e&1)){dc(i,u,e),tu();break e}l=Error(E(426))}}else if(K&&a.mode&1){var _=hc(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),fc(_,o,a,i,e),$l(fn(l,a));break e}}i=l=fn(l,a),oe!==4&&(oe=2),Gn===null?Gn=[i]:Gn.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var v=nf(i,l,e);ic(i,v);break e;case 1:a=l;var p=i.type,m=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Vt===null||!Vt.has(m)))){i.flags|=65536,e&=-e,i.lanes|=e;var x=sf(i,a,e);ic(i,x);break e}}i=i.return}while(i!==null)}kf(r)}catch(S){e=S,ne===r&&r!==null&&(ne=r=r.return);continue}break}while(!0)}function bf(){var t=$i.current;return $i.current=Ii,t===null?Ii:t}function tu(){(oe===0||oe===3||oe===2)&&(oe=4),ce===null||!(Er&268435455)&&!(io&268435455)||It(ce,he)}function Ui(t,e){var r=M;M|=2;var n=bf();(ce!==t||he!==e)&&(pt=null,wr(t,e));do try{gv();break}catch(s){xf(t,s)}while(!0);if(Ll(),M=r,$i.current=n,ne!==null)throw Error(E(261));return ce=null,he=0,oe}function gv(){for(;ne!==null;)Sf(ne)}function vv(){for(;ne!==null&&!Bm();)Sf(ne)}function Sf(t){var e=jf(t.alternate,t,Ne);t.memoizedProps=t.pendingProps,e===null?kf(t):ne=e,Ql.current=null}function kf(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=cv(r,e),r!==null){r.flags&=32767,ne=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{oe=6,ne=null;return}}else if(r=uv(r,e,Ne),r!==null){ne=r;return}if(e=e.sibling,e!==null){ne=e;return}ne=e=t}while(e!==null);oe===0&&(oe=5)}function ur(t,e,r){var n=F,s=We.transition;try{We.transition=null,F=1,yv(t,e,r,n)}finally{We.transition=s,F=n}return null}function yv(t,e,r,n){do sn();while(Lt!==null);if(M&6)throw Error(E(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(E(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(Xm(t,i),t===ce&&(ne=ce=null,he=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Hs||(Hs=!0,Tf(wi,function(){return sn(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=We.transition,We.transition=null;var o=F;F=1;var a=M;M|=4,Ql.current=null,hv(t,r),yf(r,t),Ug(ja),xi=!!Ea,ja=Ea=null,t.current=r,fv(r),Wm(),M=a,F=o,We.transition=i}else t.current=r;if(Hs&&(Hs=!1,Lt=t,Li=s),i=t.pendingLanes,i===0&&(Vt=null),Hm(r.stateNode),Pe(t,ee()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Di)throw Di=!1,t=Ha,Ha=null,t;return Li&1&&t.tag!==0&&sn(),i=t.pendingLanes,i&1?t===Ka?Jn++:(Jn=0,Ka=t):Jn=0,Xt(),null}function sn(){if(Lt!==null){var t=nh(Li),e=We.transition,r=F;try{if(We.transition=null,F=16>t?16:t,Lt===null)var n=!1;else{if(t=Lt,Lt=null,Li=0,M&6)throw Error(E(331));var s=M;for(M|=4,T=t.current;T!==null;){var i=T,o=i.child;if(T.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(T=u;T!==null;){var d=T;switch(d.tag){case 0:case 11:case 15:Kn(8,d,i)}var h=d.child;if(h!==null)h.return=d,T=h;else for(;T!==null;){d=T;var f=d.sibling,g=d.return;if(mf(d),d===u){T=null;break}if(f!==null){f.return=g,T=f;break}T=g}}}var y=i.alternate;if(y!==null){var w=y.child;if(w!==null){y.child=null;do{var _=w.sibling;w.sibling=null,w=_}while(w!==null)}}T=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,T=o;else e:for(;T!==null;){if(i=T,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Kn(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,T=v;break e}T=i.return}}var p=t.current;for(T=p;T!==null;){o=T;var m=o.child;if(o.subtreeFlags&2064&&m!==null)m.return=o,T=m;else e:for(o=p;T!==null;){if(a=T,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:so(9,a)}}catch(S){X(a,a.return,S)}if(a===o){T=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,T=x;break e}T=a.return}}if(M=s,Xt(),dt&&typeof dt.onPostCommitFiberRoot=="function")try{dt.onPostCommitFiberRoot(Qi,t)}catch{}n=!0}return n}finally{F=r,We.transition=e}}return!1}function jc(t,e,r){e=fn(r,e),e=nf(t,e,1),t=Wt(t,e,1),e=xe(),t!==null&&(Ss(t,1,e),Pe(t,e))}function X(t,e,r){if(t.tag===3)jc(t,t,r);else for(;e!==null;){if(e.tag===3){jc(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Vt===null||!Vt.has(n))){t=fn(r,t),t=sf(e,t,1),e=Wt(e,t,1),t=xe(),e!==null&&(Ss(e,1,t),Pe(e,t));break}}e=e.return}}function wv(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=xe(),t.pingedLanes|=t.suspendedLanes&r,ce===t&&(he&r)===r&&(oe===4||oe===3&&(he&130023424)===he&&500>ee()-Xl?wr(t,0):Yl|=r),Pe(t,e)}function Ef(t,e){e===0&&(t.mode&1?(e=Ds,Ds<<=1,!(Ds&130023424)&&(Ds=4194304)):e=1);var r=xe();t=St(t,e),t!==null&&(Ss(t,e,r),Pe(t,r))}function _v(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),Ef(t,r)}function xv(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(E(314))}n!==null&&n.delete(e),Ef(t,r)}var jf;jf=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ce.current)Te=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Te=!1,lv(t,e,r);Te=!!(t.flags&131072)}else Te=!1,K&&e.flags&1048576&&Oh(e,Ci,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;hi(t,e),t=e.pendingProps;var s=un(e,ve.current);nn(e,r),s=ql(null,e,n,t,s,r);var i=Hl();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Oe(n)?(i=!0,ji(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,zl(e),s.updater=no,e.stateNode=s,s._reactInternals=e,$a(e,n,t,r),e=Ua(null,e,n,!0,i,r)):(e.tag=0,K&&i&&Al(e),we(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(hi(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=Sv(n),t=Qe(n,t),s){case 0:e=La(null,e,n,t,r);break e;case 1:e=gc(null,e,n,t,r);break e;case 11:e=pc(null,e,n,t,r);break e;case 14:e=mc(null,e,n,Qe(n.type,t),r);break e}throw Error(E(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Qe(n,s),La(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Qe(n,s),gc(t,e,n,s,r);case 3:e:{if(uf(e),t===null)throw Error(E(387));n=e.pendingProps,i=e.memoizedState,s=i.element,$h(t,e),Ni(e,n,null,r);var o=e.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=fn(Error(E(423)),e),e=vc(t,e,n,r,s);break e}else if(n!==s){s=fn(Error(E(424)),e),e=vc(t,e,n,r,s);break e}else for(Ie=Bt(e.stateNode.containerInfo.firstChild),$e=e,K=!0,et=null,r=Ah(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(cn(),n===s){e=kt(t,e,r);break e}we(t,e,n,r)}e=e.child}return e;case 5:return Dh(e),t===null&&Ra(e),n=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Ta(n,s)?o=null:i!==null&&Ta(n,i)&&(e.flags|=32),lf(t,e),we(t,e,o,r),e.child;case 6:return t===null&&Ra(e),null;case 13:return cf(t,e,r);case 4:return Fl(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=dn(e,null,n,r):we(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Qe(n,s),pc(t,e,n,s,r);case 7:return we(t,e,e.pendingProps,r),e.child;case 8:return we(t,e,e.pendingProps.children,r),e.child;case 12:return we(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,W(Oi,n._currentValue),n._currentValue=o,i!==null)if(st(i.value,o)){if(i.children===s.children&&!Ce.current){e=kt(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=_t(-1,r&-r),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),Aa(i.return,r,e),a.lanes|=r;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(E(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),Aa(o,r,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}we(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,nn(e,r),s=qe(s),n=n(s),e.flags|=1,we(t,e,n,r),e.child;case 14:return n=e.type,s=Qe(n,e.pendingProps),s=Qe(n.type,s),mc(t,e,n,s,r);case 15:return of(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Qe(n,s),hi(t,e),e.tag=1,Oe(n)?(t=!0,ji(e)):t=!1,nn(e,r),rf(e,n,s),$a(e,n,s,r),Ua(null,e,n,!0,t,r);case 19:return df(t,e,r);case 22:return af(t,e,r)}throw Error(E(156,e.tag))};function Tf(t,e){return Zd(t,e)}function bv(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Be(t,e,r,n){return new bv(t,e,r,n)}function ru(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Sv(t){if(typeof t=="function")return ru(t)?1:0;if(t!=null){if(t=t.$$typeof,t===xl)return 11;if(t===bl)return 14}return 2}function Ht(t,e){var r=t.alternate;return r===null?(r=Be(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function mi(t,e,r,n,s,i){var o=2;if(n=t,typeof t=="function")ru(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Br:return _r(r.children,s,i,e);case _l:o=8,s|=8;break;case ia:return t=Be(12,r,e,s|2),t.elementType=ia,t.lanes=i,t;case oa:return t=Be(13,r,e,s),t.elementType=oa,t.lanes=i,t;case aa:return t=Be(19,r,e,s),t.elementType=aa,t.lanes=i,t;case Dd:return oo(r,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Id:o=10;break e;case $d:o=9;break e;case xl:o=11;break e;case bl:o=14;break e;case Nt:o=16,n=null;break e}throw Error(E(130,t==null?t:typeof t,""))}return e=Be(o,r,e,s),e.elementType=t,e.type=n,e.lanes=i,e}function _r(t,e,r,n){return t=Be(7,t,n,e),t.lanes=r,t}function oo(t,e,r,n){return t=Be(22,t,n,e),t.elementType=Dd,t.lanes=r,t.stateNode={isHidden:!1},t}function Vo(t,e,r){return t=Be(6,t,null,e),t.lanes=r,t}function qo(t,e,r){return e=Be(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function kv(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Eo(0),this.expirationTimes=Eo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Eo(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function nu(t,e,r,n,s,i,o,a,l){return t=new kv(t,e,r,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Be(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},zl(i),t}function Ev(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Fr,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function Cf(t){if(!t)return Jt;t=t._reactInternals;e:{if(Or(t)!==t||t.tag!==1)throw Error(E(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Oe(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(E(171))}if(t.tag===1){var r=t.type;if(Oe(r))return Th(t,r,e)}return e}function Of(t,e,r,n,s,i,o,a,l){return t=nu(r,n,!0,t,s,i,o,a,l),t.context=Cf(null),r=t.current,n=xe(),s=qt(r),i=_t(n,s),i.callback=e??null,Wt(r,i,s),t.current.lanes=s,Ss(t,s,n),Pe(t,n),t}function ao(t,e,r,n){var s=e.current,i=xe(),o=qt(s);return r=Cf(r),e.context===null?e.context=r:e.pendingContext=r,e=_t(i,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Wt(s,e,o),t!==null&&(nt(t,s,o,i),ui(t,s,o)),o}function Mi(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Tc(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function su(t,e){Tc(t,e),(t=t.alternate)&&Tc(t,e)}function jv(){return null}var Pf=typeof reportError=="function"?reportError:function(t){console.error(t)};function iu(t){this._internalRoot=t}lo.prototype.render=iu.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(E(409));ao(t,e,null,null)};lo.prototype.unmount=iu.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;jr(function(){ao(null,t,null,null)}),e[bt]=null}};function lo(t){this._internalRoot=t}lo.prototype.unstable_scheduleHydration=function(t){if(t){var e=oh();t={blockedOn:null,target:t,priority:e};for(var r=0;r<At.length&&e!==0&&e<At[r].priority;r++);At.splice(r,0,t),r===0&&lh(t)}};function ou(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function uo(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Cc(){}function Tv(t,e,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=Mi(o);i.call(u)}}var o=Of(e,n,t,0,null,!1,!1,"",Cc);return t._reactRootContainer=o,t[bt]=o.current,ls(t.nodeType===8?t.parentNode:t),jr(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var a=n;n=function(){var u=Mi(l);a.call(u)}}var l=nu(t,0,!1,null,null,!1,!1,"",Cc);return t._reactRootContainer=l,t[bt]=l.current,ls(t.nodeType===8?t.parentNode:t),jr(function(){ao(e,l,r,n)}),l}function co(t,e,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Mi(o);a.call(l)}}ao(e,o,t,s)}else o=Tv(r,e,t,s,n);return Mi(o)}sh=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Un(e.pendingLanes);r!==0&&(El(e,r|1),Pe(e,ee()),!(M&6)&&(pn=ee()+500,Xt()))}break;case 13:jr(function(){var n=St(t,1);if(n!==null){var s=xe();nt(n,t,1,s)}}),su(t,1)}};jl=function(t){if(t.tag===13){var e=St(t,134217728);if(e!==null){var r=xe();nt(e,t,134217728,r)}su(t,134217728)}};ih=function(t){if(t.tag===13){var e=qt(t),r=St(t,e);if(r!==null){var n=xe();nt(r,t,e,n)}su(t,e)}};oh=function(){return F};ah=function(t,e){var r=F;try{return F=t,e()}finally{F=r}};va=function(t,e,r){switch(e){case"input":if(ca(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=eo(n);if(!s)throw Error(E(90));Ud(n),ca(n,s)}}}break;case"textarea":zd(t,r);break;case"select":e=r.value,e!=null&&Zr(t,!!r.multiple,e,!1)}};Kd=Zl;Gd=jr;var Cv={usingClientEntryPoint:!1,Events:[Es,Hr,eo,qd,Hd,Zl]},An={findFiberByHostInstance:mr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ov={bundleType:An.bundleType,version:An.version,rendererPackageName:An.rendererPackageName,rendererConfig:An.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Et.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Yd(t),t===null?null:t.stateNode},findFiberByHostInstance:An.findFiberByHostInstance||jv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ks=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ks.isDisabled&&Ks.supportsFiber)try{Qi=Ks.inject(Ov),dt=Ks}catch{}}Le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Cv;Le.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ou(e))throw Error(E(200));return Ev(t,e,null,r)};Le.createRoot=function(t,e){if(!ou(t))throw Error(E(299));var r=!1,n="",s=Pf;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=nu(t,1,!1,null,null,r,!1,n,s),t[bt]=e.current,ls(t.nodeType===8?t.parentNode:t),new iu(e)};Le.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(E(188)):(t=Object.keys(t).join(","),Error(E(268,t)));return t=Yd(e),t=t===null?null:t.stateNode,t};Le.flushSync=function(t){return jr(t)};Le.hydrate=function(t,e,r){if(!uo(e))throw Error(E(200));return co(null,t,e,!0,r)};Le.hydrateRoot=function(t,e,r){if(!ou(t))throw Error(E(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=Pf;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=Of(e,null,t,1,r??null,s,!1,i,o),t[bt]=e.current,ls(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new lo(e)};Le.render=function(t,e,r){if(!uo(e))throw Error(E(200));return co(null,t,e,!1,r)};Le.unmountComponentAtNode=function(t){if(!uo(t))throw Error(E(40));return t._reactRootContainer?(jr(function(){co(null,null,t,!1,function(){t._reactRootContainer=null,t[bt]=null})}),!0):!1};Le.unstable_batchedUpdates=Zl;Le.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!uo(r))throw Error(E(200));if(t==null||t._reactInternals===void 0)throw Error(E(38));return co(t,e,r,!1,n)};Le.version="18.3.1-next-f1338f8080-20240426";function Nf(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Nf)}catch(t){console.error(t)}}Nf(),Pd.exports=Le;var Pv=Pd.exports,Oc=Pv;na.createRoot=Oc.createRoot,na.hydrateRoot=Oc.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vs(){return vs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},vs.apply(this,arguments)}var Ut;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ut||(Ut={}));const Pc="popstate";function Nv(t){t===void 0&&(t={});function e(n,s){let{pathname:i,search:o,hash:a}=n.location;return Qa("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:zi(s)}return Av(e,r,null,t)}function te(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Rf(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Rv(){return Math.random().toString(36).substr(2,8)}function Nc(t,e){return{usr:t.state,key:t.key,idx:e}}function Qa(t,e,r,n){return r===void 0&&(r=null),vs({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?_n(e):e,{state:r,key:e&&e.key||n||Rv()})}function zi(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function _n(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function Av(t,e,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,a=Ut.Pop,l=null,u=d();u==null&&(u=0,o.replaceState(vs({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=Ut.Pop;let _=d(),v=_==null?null:_-u;u=_,l&&l({action:a,location:w.location,delta:v})}function f(_,v){a=Ut.Push;let p=Qa(w.location,_,v);u=d()+1;let m=Nc(p,u),x=w.createHref(p);try{o.pushState(m,"",x)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(x)}i&&l&&l({action:a,location:w.location,delta:1})}function g(_,v){a=Ut.Replace;let p=Qa(w.location,_,v);u=d();let m=Nc(p,u),x=w.createHref(p);o.replaceState(m,"",x),i&&l&&l({action:a,location:w.location,delta:0})}function y(_){let v=s.location.origin!=="null"?s.location.origin:s.location.href,p=typeof _=="string"?_:zi(_);return p=p.replace(/ $/,"%20"),te(v,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,v)}let w={get action(){return a},get location(){return t(s,o)},listen(_){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(Pc,h),l=_,()=>{s.removeEventListener(Pc,h),l=null}},createHref(_){return e(s,_)},createURL:y,encodeLocation(_){let v=y(_);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:f,replace:g,go(_){return o.go(_)}};return w}var Rc;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Rc||(Rc={}));function Iv(t,e,r){return r===void 0&&(r="/"),$v(t,e,r)}function $v(t,e,r,n){let s=typeof e=="string"?_n(e):e,i=au(s.pathname||"/",r);if(i==null)return null;let o=Af(t);Dv(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=Gv(i);a=qv(o[l],u)}return a}function Af(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(te(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let u=Kt([n,l.relativePath]),d=r.concat(l);i.children&&i.children.length>0&&(te(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Af(i.children,e,d,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:Wv(u,i.index),routesMeta:d})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of If(i.path))s(i,o,l)}),e}function If(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=If(n.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function Dv(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:Vv(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Lv=/^:[\w-]+$/,Uv=3,Mv=2,zv=1,Fv=10,Bv=-2,Ac=t=>t==="*";function Wv(t,e){let r=t.split("/"),n=r.length;return r.some(Ac)&&(n+=Bv),e&&(n+=Mv),r.filter(s=>!Ac(s)).reduce((s,i)=>s+(Lv.test(i)?Uv:i===""?zv:Fv),n)}function Vv(t,e){return t.length===e.length&&t.slice(0,-1).every((n,s)=>n===e[s])?t[t.length-1]-e[e.length-1]:0}function qv(t,e,r){let{routesMeta:n}=t,s={},i="/",o=[];for(let a=0;a<n.length;++a){let l=n[a],u=a===n.length-1,d=i==="/"?e:e.slice(i.length)||"/",h=Hv({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),f=l.route;if(!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:Kt([i,h.pathname]),pathnameBase:Xv(Kt([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=Kt([i,h.pathnameBase]))}return o}function Hv(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=Kv(t.path,t.caseSensitive,t.end),s=e.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:n.reduce((u,d,h)=>{let{paramName:f,isOptional:g}=d;if(f==="*"){let w=a[h]||"";o=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const y=a[h];return g&&!y?u[f]=void 0:u[f]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:t}}function Kv(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),Rf(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(n.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function Gv(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Rf(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function au(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function Jv(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:s=""}=typeof t=="string"?_n(t):t;return{pathname:r?r.startsWith("/")?r:Qv(r,e):e,search:Zv(n),hash:ey(s)}}function Qv(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Ho(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Yv(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function lu(t,e){let r=Yv(t);return e?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function uu(t,e,r,n){n===void 0&&(n=!1);let s;typeof t=="string"?s=_n(t):(s=vs({},t),te(!s.pathname||!s.pathname.includes("?"),Ho("?","pathname","search",s)),te(!s.pathname||!s.pathname.includes("#"),Ho("#","pathname","hash",s)),te(!s.search||!s.search.includes("#"),Ho("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=r;else{let h=e.length-1;if(!n&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=Jv(s,a),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const Kt=t=>t.join("/").replace(/\/\/+/g,"/"),Xv=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Zv=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,ey=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function ty(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const $f=["post","put","patch","delete"];new Set($f);const ry=["get",...$f];new Set(ry);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ys(){return ys=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ys.apply(this,arguments)}const cu=b.createContext(null),ny=b.createContext(null),Zt=b.createContext(null),ho=b.createContext(null),jt=b.createContext({outlet:null,matches:[],isDataRoute:!1}),Df=b.createContext(null);function sy(t,e){let{relative:r}=e===void 0?{}:e;xn()||te(!1);let{basename:n,navigator:s}=b.useContext(Zt),{hash:i,pathname:o,search:a}=Uf(t,{relative:r}),l=o;return n!=="/"&&(l=o==="/"?n:Kt([n,o])),s.createHref({pathname:l,search:a,hash:i})}function xn(){return b.useContext(ho)!=null}function Ts(){return xn()||te(!1),b.useContext(ho).location}function Lf(t){b.useContext(Zt).static||b.useLayoutEffect(t)}function er(){let{isDataRoute:t}=b.useContext(jt);return t?yy():iy()}function iy(){xn()||te(!1);let t=b.useContext(cu),{basename:e,future:r,navigator:n}=b.useContext(Zt),{matches:s}=b.useContext(jt),{pathname:i}=Ts(),o=JSON.stringify(lu(s,r.v7_relativeSplatPath)),a=b.useRef(!1);return Lf(()=>{a.current=!0}),b.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){n.go(u);return}let h=uu(u,JSON.parse(o),i,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Kt([e,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[e,n,o,i,t])}function oy(){let{matches:t}=b.useContext(jt),e=t[t.length-1];return e?e.params:{}}function Uf(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=b.useContext(Zt),{matches:s}=b.useContext(jt),{pathname:i}=Ts(),o=JSON.stringify(lu(s,n.v7_relativeSplatPath));return b.useMemo(()=>uu(t,JSON.parse(o),i,r==="path"),[t,o,i,r])}function ay(t,e){return ly(t,e)}function ly(t,e,r,n){xn()||te(!1);let{navigator:s}=b.useContext(Zt),{matches:i}=b.useContext(jt),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=Ts(),d;if(e){var h;let _=typeof e=="string"?_n(e):e;l==="/"||(h=_.pathname)!=null&&h.startsWith(l)||te(!1),d=_}else d=u;let f=d.pathname||"/",g=f;if(l!=="/"){let _=l.replace(/^\//,"").split("/");g="/"+f.replace(/^\//,"").split("/").slice(_.length).join("/")}let y=Iv(t,{pathname:g}),w=fy(y&&y.map(_=>Object.assign({},_,{params:Object.assign({},a,_.params),pathname:Kt([l,s.encodeLocation?s.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?l:Kt([l,s.encodeLocation?s.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),i,r,n);return e&&w?b.createElement(ho.Provider,{value:{location:ys({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Ut.Pop}},w):w}function uy(){let t=vy(),e=ty(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},e),r?b.createElement("pre",{style:s},r):null,null)}const cy=b.createElement(uy,null);class dy extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?b.createElement(jt.Provider,{value:this.props.routeContext},b.createElement(Df.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function hy(t){let{routeContext:e,match:r,children:n}=t,s=b.useContext(cu);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),b.createElement(jt.Provider,{value:e},n)}function fy(t,e,r,n){var s;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var i;if(!r)return null;if(r.errors)t=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let o=t,a=(s=r)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||te(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:g}=r,y=h.route.loader&&f[h.route.id]===void 0&&(!g||g[h.route.id]===void 0);if(h.route.lazy||y){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let g,y=!1,w=null,_=null;r&&(g=a&&h.route.id?a[h.route.id]:void 0,w=h.route.errorElement||cy,l&&(u<0&&f===0?(wy("route-fallback"),y=!0,_=null):u===f&&(y=!0,_=h.route.hydrateFallbackElement||null)));let v=e.concat(o.slice(0,f+1)),p=()=>{let m;return g?m=w:y?m=_:h.route.Component?m=b.createElement(h.route.Component,null):h.route.element?m=h.route.element:m=d,b.createElement(hy,{match:h,routeContext:{outlet:d,matches:v,isDataRoute:r!=null},children:m})};return r&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?b.createElement(dy,{location:r.location,revalidation:r.revalidation,component:w,error:g,children:p(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):p()},null)}var Mf=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Mf||{}),zf=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(zf||{});function py(t){let e=b.useContext(cu);return e||te(!1),e}function my(t){let e=b.useContext(ny);return e||te(!1),e}function gy(t){let e=b.useContext(jt);return e||te(!1),e}function Ff(t){let e=gy(),r=e.matches[e.matches.length-1];return r.route.id||te(!1),r.route.id}function vy(){var t;let e=b.useContext(Df),r=my(),n=Ff();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function yy(){let{router:t}=py(Mf.UseNavigateStable),e=Ff(zf.UseNavigateStable),r=b.useRef(!1);return Lf(()=>{r.current=!0}),b.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,ys({fromRouteId:e},i)))},[t,e])}const Ic={};function wy(t,e,r){Ic[t]||(Ic[t]=!0)}function _y(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Ya(t){let{to:e,replace:r,state:n,relative:s}=t;xn()||te(!1);let{future:i,static:o}=b.useContext(Zt),{matches:a}=b.useContext(jt),{pathname:l}=Ts(),u=er(),d=uu(e,lu(a,i.v7_relativeSplatPath),l,s==="path"),h=JSON.stringify(d);return b.useEffect(()=>u(JSON.parse(h),{replace:r,state:n,relative:s}),[u,h,s,r,n]),null}function Me(t){te(!1)}function xy(t){let{basename:e="/",children:r=null,location:n,navigationType:s=Ut.Pop,navigator:i,static:o=!1,future:a}=t;xn()&&te(!1);let l=e.replace(/^\/*/,"/"),u=b.useMemo(()=>({basename:l,navigator:i,static:o,future:ys({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof n=="string"&&(n=_n(n));let{pathname:d="/",search:h="",hash:f="",state:g=null,key:y="default"}=n,w=b.useMemo(()=>{let _=au(d,l);return _==null?null:{location:{pathname:_,search:h,hash:f,state:g,key:y},navigationType:s}},[l,d,h,f,g,y,s]);return w==null?null:b.createElement(Zt.Provider,{value:u},b.createElement(ho.Provider,{children:r,value:w}))}function by(t){let{children:e,location:r}=t;return ay(Xa(e),r)}new Promise(()=>{});function Xa(t,e){e===void 0&&(e=[]);let r=[];return b.Children.forEach(t,(n,s)=>{if(!b.isValidElement(n))return;let i=[...e,s];if(n.type===b.Fragment){r.push.apply(r,Xa(n.props.children,i));return}n.type!==Me&&te(!1),!n.props.index||!n.props.children||te(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Xa(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Za(){return Za=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Za.apply(this,arguments)}function Sy(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,i;for(i=0;i<n.length;i++)s=n[i],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function ky(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Ey(t,e){return t.button===0&&(!e||e==="_self")&&!ky(t)}const jy=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Ty="6";try{window.__reactRouterVersion=Ty}catch{}const Cy="startTransition",$c=wm[Cy];function Oy(t){let{basename:e,children:r,future:n,window:s}=t,i=b.useRef();i.current==null&&(i.current=Nv({window:s,v5Compat:!0}));let o=i.current,[a,l]=b.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=b.useCallback(h=>{u&&$c?$c(()=>l(h)):l(h)},[l,u]);return b.useLayoutEffect(()=>o.listen(d),[o,d]),b.useEffect(()=>_y(n),[n]),b.createElement(xy,{basename:e,children:r,location:a.location,navigationType:a.action,navigator:o,future:n})}const Py=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Ny=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ve=b.forwardRef(function(e,r){let{onClick:n,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:u,preventScrollReset:d,viewTransition:h}=e,f=Sy(e,jy),{basename:g}=b.useContext(Zt),y,w=!1;if(typeof u=="string"&&Ny.test(u)&&(y=u,Py))try{let m=new URL(window.location.href),x=u.startsWith("//")?new URL(m.protocol+u):new URL(u),S=au(x.pathname,g);x.origin===m.origin&&S!=null?u=S+x.search+x.hash:w=!0}catch{}let _=sy(u,{relative:s}),v=Ry(u,{replace:o,state:a,target:l,preventScrollReset:d,relative:s,viewTransition:h});function p(m){n&&n(m),m.defaultPrevented||v(m)}return b.createElement("a",Za({},f,{href:y||_,onClick:w||i?n:p,ref:r,target:l}))});var Dc;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Dc||(Dc={}));var Lc;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Lc||(Lc={}));function Ry(t,e){let{target:r,replace:n,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,l=er(),u=Ts(),d=Uf(t,{relative:o});return b.useCallback(h=>{if(Ey(h,r)){h.preventDefault();let f=n!==void 0?n:zi(u)===zi(d);l(t,{replace:f,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[u,l,d,n,s,r,t,i,o,a])}var el=function(t,e){return el=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},el(t,e)};function Bf(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");el(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Fi=function(){return Fi=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Fi.apply(this,arguments)};function bn(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function Wf(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i}function Vf(t,e){return function(r,n){e(r,n,t)}}function qf(t,e,r,n,s,i){function o(v){if(v!==void 0&&typeof v!="function")throw new TypeError("Function expected");return v}for(var a=n.kind,l=a==="getter"?"get":a==="setter"?"set":"value",u=!e&&t?n.static?t:t.prototype:null,d=e||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),h,f=!1,g=r.length-1;g>=0;g--){var y={};for(var w in n)y[w]=w==="access"?{}:n[w];for(var w in n.access)y.access[w]=n.access[w];y.addInitializer=function(v){if(f)throw new TypeError("Cannot add initializers after decoration has completed");i.push(o(v||null))};var _=(0,r[g])(a==="accessor"?{get:d.get,set:d.set}:d[l],y);if(a==="accessor"){if(_===void 0)continue;if(_===null||typeof _!="object")throw new TypeError("Object expected");(h=o(_.get))&&(d.get=h),(h=o(_.set))&&(d.set=h),(h=o(_.init))&&s.unshift(h)}else(h=o(_))&&(a==="field"?s.unshift(h):d[l]=h)}u&&Object.defineProperty(u,n.name,d),f=!0}function Hf(t,e,r){for(var n=arguments.length>2,s=0;s<e.length;s++)r=n?e[s].call(t,r):e[s].call(t);return n?r:void 0}function Kf(t){return typeof t=="symbol"?t:"".concat(t)}function Gf(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function Jf(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function P(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{u(n.next(d))}catch(h){o(h)}}function l(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((n=n.apply(t,e||[])).next())})}function Qf(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(d){return l([u,d])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(r=0)),r;)try{if(n=1,s&&(i=u[0]&2?s.return:u[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,u[1])).done)return i;switch(s=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,s=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(d){u=[6,d],s=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var fo=Object.create?function(t,e,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(e,r);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,s)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]};function Yf(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&fo(e,t,r)}function Bi(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function du(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),s,i=[],o;try{for(;(e===void 0||e-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i}function Xf(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(du(arguments[e]));return t}function Zf(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),s=0,e=0;e<r;e++)for(var i=arguments[e],o=0,a=i.length;o<a;o++,s++)n[s]=i[o];return n}function ep(t,e,r){if(r||arguments.length===2)for(var n=0,s=e.length,i;n<s;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))}function mn(t){return this instanceof mn?(this.v=t,this):new mn(t)}function tp(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),s,i=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),s[Symbol.asyncIterator]=function(){return this},s;function o(g){return function(y){return Promise.resolve(y).then(g,h)}}function a(g,y){n[g]&&(s[g]=function(w){return new Promise(function(_,v){i.push([g,w,_,v])>1||l(g,w)})},y&&(s[g]=y(s[g])))}function l(g,y){try{u(n[g](y))}catch(w){f(i[0][3],w)}}function u(g){g.value instanceof mn?Promise.resolve(g.value.v).then(d,h):f(i[0][2],g)}function d(g){l("next",g)}function h(g){l("throw",g)}function f(g,y){g(y),i.shift(),i.length&&l(i[0][0],i[0][1])}}function rp(t){var e,r;return e={},n("next"),n("throw",function(s){throw s}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(s,i){e[s]=t[s]?function(o){return(r=!r)?{value:mn(t[s](o)),done:!1}:i?i(o):o}:i}}function np(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof Bi=="function"?Bi(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=t[i]&&function(o){return new Promise(function(a,l){o=t[i](o),s(a,l,o.done,o.value)})}}function s(i,o,a,l){Promise.resolve(l).then(function(u){i({value:u,done:a})},o)}}function sp(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var Ay=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e},tl=function(t){return tl=Object.getOwnPropertyNames||function(e){var r=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[r.length]=n);return r},tl(t)};function ip(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r=tl(t),n=0;n<r.length;n++)r[n]!=="default"&&fo(e,t,r[n]);return Ay(e,t),e}function op(t){return t&&t.__esModule?t:{default:t}}function ap(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}function lp(t,e,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(t,r):s?s.value=r:e.set(t,r),r}function up(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function cp(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var n,s;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=e[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=e[Symbol.dispose],r&&(s=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");s&&(n=function(){try{s.call(this)}catch(i){return Promise.reject(i)}}),t.stack.push({value:e,dispose:n,async:r})}else r&&t.stack.push({async:!0});return e}var Iy=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var n=new Error(r);return n.name="SuppressedError",n.error=t,n.suppressed=e,n};function dp(t){function e(i){t.error=t.hasError?new Iy(i,t.error,"An error was suppressed during disposal."):i,t.hasError=!0}var r,n=0;function s(){for(;r=t.stack.pop();)try{if(!r.async&&n===1)return n=0,t.stack.push(r),Promise.resolve().then(s);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(i).then(s,function(o){return e(o),s()})}else n|=1}catch(o){e(o)}if(n===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return s()}function hp(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,s,i,o){return n?e?".jsx":".js":s&&(!i||!o)?r:s+i+"."+o.toLowerCase()+"js"}):t}const $y={__extends:Bf,__assign:Fi,__rest:bn,__decorate:Wf,__param:Vf,__esDecorate:qf,__runInitializers:Hf,__propKey:Kf,__setFunctionName:Gf,__metadata:Jf,__awaiter:P,__generator:Qf,__createBinding:fo,__exportStar:Yf,__values:Bi,__read:du,__spread:Xf,__spreadArrays:Zf,__spreadArray:ep,__await:mn,__asyncGenerator:tp,__asyncDelegator:rp,__asyncValues:np,__makeTemplateObject:sp,__importStar:ip,__importDefault:op,__classPrivateFieldGet:ap,__classPrivateFieldSet:lp,__classPrivateFieldIn:up,__addDisposableResource:cp,__disposeResources:dp,__rewriteRelativeImportExtension:hp},Dy=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:cp,get __assign(){return Fi},__asyncDelegator:rp,__asyncGenerator:tp,__asyncValues:np,__await:mn,__awaiter:P,__classPrivateFieldGet:ap,__classPrivateFieldIn:up,__classPrivateFieldSet:lp,__createBinding:fo,__decorate:Wf,__disposeResources:dp,__esDecorate:qf,__exportStar:Yf,__extends:Bf,__generator:Qf,__importDefault:op,__importStar:ip,__makeTemplateObject:sp,__metadata:Jf,__param:Vf,__propKey:Kf,__read:du,__rest:bn,__rewriteRelativeImportExtension:hp,__runInitializers:Hf,__setFunctionName:Gf,__spread:Xf,__spreadArray:ep,__spreadArrays:Zf,__values:Bi,default:$y},Symbol.toStringTag,{value:"Module"})),Ly="modulepreload",Uy=function(t){return"/"+t},Uc={},Sn=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(l=>{if(l=Uy(l),l in Uc)return;Uc[l]=!0;const u=l.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":Ly,u||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),u)return new Promise((f,g)=>{h.addEventListener("load",f),h.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},My=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Sn(async()=>{const{default:n}=await Promise.resolve().then(()=>Pr);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class hu extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class Mc extends hu{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class zc extends hu{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Fc extends hu{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var rl;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(rl||(rl={}));class zy{constructor(e,{headers:r={},customFetch:n,region:s=rl.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=My(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return P(this,arguments,void 0,function*(r,n={}){var s;try{const{headers:i,method:o,body:a,signal:l}=n;let u={},{region:d}=n;d||(d=this.region);const h=new URL(`${this.url}/${r}`);d&&d!=="any"&&(u["x-region"]=d,h.searchParams.set("forceFunctionRegion",d));let f;a&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)?typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",f=a):typeof a=="string"?(u["Content-Type"]="text/plain",f=a):typeof FormData<"u"&&a instanceof FormData?f=a:(u["Content-Type"]="application/json",f=JSON.stringify(a)):f=a;const g=yield this.fetch(h.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),i),body:f,signal:l}).catch(v=>{throw v.name==="AbortError"?v:new Mc(v)}),y=g.headers.get("x-relay-error");if(y&&y==="true")throw new zc(g);if(!g.ok)throw new Fc(g);let w=((s=g.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),_;return w==="application/json"?_=yield g.json():w==="application/octet-stream"||w==="application/pdf"?_=yield g.blob():w==="text/event-stream"?_=g:w==="multipart/form-data"?_=yield g.formData():_=yield g.text(),{data:_,error:null,response:g}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new Mc(i)}:{data:null,error:i,response:i instanceof Fc||i instanceof zc?i.context:void 0}}})}}var _e={};const kn=vd(Dy);var Gs={},Js={},Qs={},Ys={},Xs={},Fy=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},gn=Fy();const By=gn.fetch,fp=gn.fetch.bind(gn),pp=gn.Headers,Wy=gn.Request,Vy=gn.Response,Pr=Object.freeze(Object.defineProperty({__proto__:null,Headers:pp,Request:Wy,Response:Vy,default:fp,fetch:By},Symbol.toStringTag,{value:"Module"})),qy=vd(Pr);var Zs={},Bc;function mp(){if(Bc)return Zs;Bc=1,Object.defineProperty(Zs,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Zs.default=t,Zs}var Wc;function gp(){if(Wc)return Xs;Wc=1,Object.defineProperty(Xs,"__esModule",{value:!0});const t=kn,e=t.__importDefault(qy),r=t.__importDefault(mp());class n{constructor(i){var o,a;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(o=i.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=i.signal,this.isMaybeSingle=(a=i.isMaybeSingle)!==null&&a!==void 0?a:!1,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=new Headers(this.headers),this.headers.set(i,o),this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let l=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var d,h,f,g;let y=null,w=null,_=null,v=u.status,p=u.statusText;if(u.ok){if(this.method!=="HEAD"){const k=await u.text();k===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((d=this.headers.get("Accept"))===null||d===void 0)&&d.includes("application/vnd.pgrst.plan+text"))?w=k:w=JSON.parse(k))}const x=(h=this.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),S=(f=u.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");x&&S&&S.length>1&&(_=parseInt(S[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(w)&&(w.length>1?(y={code:"PGRST116",details:`Results contain ${w.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},w=null,_=null,v=406,p="Not Acceptable"):w.length===1?w=w[0]:w=null)}else{const x=await u.text();try{y=JSON.parse(x),Array.isArray(y)&&u.status===404&&(w=[],y=null,v=200,p="OK")}catch{u.status===404&&x===""?(v=204,p="No Content"):y={message:x}}if(y&&this.isMaybeSingle&&(!((g=y==null?void 0:y.details)===null||g===void 0)&&g.includes("0 rows"))&&(y=null,v=200,p="OK"),y&&this.shouldThrowOnError)throw new r.default(y)}return{error:y,data:w,count:_,status:v,statusText:p}});return this.shouldThrowOnError||(l=l.catch(u=>{var d,h,f;return{error:{message:`${(d=u==null?void 0:u.name)!==null&&d!==void 0?d:"FetchError"}: ${u==null?void 0:u.message}`,details:`${(h=u==null?void 0:u.stack)!==null&&h!==void 0?h:""}`,hint:"",code:`${(f=u==null?void 0:u.code)!==null&&f!==void 0?f:""}`},data:null,count:null,status:0,statusText:""}})),l.then(i,o)}returns(){return this}overrideTypes(){return this}}return Xs.default=n,Xs}var Vc;function vp(){if(Vc)return Ys;Vc=1,Object.defineProperty(Ys,"__esModule",{value:!0});const e=kn.__importDefault(gp());class r extends e.default{select(s){let i=!1;const o=(s??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:i=!0,nullsFirst:o,foreignTable:a,referencedTable:l=a}={}){const u=l?`${l}.order`:"order",d=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${d?`${d},`:""}${s}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:i,referencedTable:o=i}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${s}`),this}range(s,i,{foreignTable:o,referencedTable:a=o}={}){const l=typeof a>"u"?"offset":`${a}.offset`,u=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${s}`),this.url.searchParams.set(u,`${i-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:i=!1,settings:o=!1,buffers:a=!1,wal:l=!1,format:u="text"}={}){var d;const h=[s?"analyze":null,i?"verbose":null,o?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),f=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${f}"; options=${h};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}}return Ys.default=r,Ys}var qc;function fu(){if(qc)return Qs;qc=1,Object.defineProperty(Qs,"__esModule",{value:!0});const e=kn.__importDefault(vp()),r=new RegExp("[,()]");class n extends e.default{eq(i,o){return this.url.searchParams.append(i,`eq.${o}`),this}neq(i,o){return this.url.searchParams.append(i,`neq.${o}`),this}gt(i,o){return this.url.searchParams.append(i,`gt.${o}`),this}gte(i,o){return this.url.searchParams.append(i,`gte.${o}`),this}lt(i,o){return this.url.searchParams.append(i,`lt.${o}`),this}lte(i,o){return this.url.searchParams.append(i,`lte.${o}`),this}like(i,o){return this.url.searchParams.append(i,`like.${o}`),this}likeAllOf(i,o){return this.url.searchParams.append(i,`like(all).{${o.join(",")}}`),this}likeAnyOf(i,o){return this.url.searchParams.append(i,`like(any).{${o.join(",")}}`),this}ilike(i,o){return this.url.searchParams.append(i,`ilike.${o}`),this}ilikeAllOf(i,o){return this.url.searchParams.append(i,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(i,o){return this.url.searchParams.append(i,`ilike(any).{${o.join(",")}}`),this}is(i,o){return this.url.searchParams.append(i,`is.${o}`),this}in(i,o){const a=Array.from(new Set(o)).map(l=>typeof l=="string"&&r.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(i,`in.(${a})`),this}contains(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cs.{${o.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(o)}`),this}containedBy(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cd.{${o.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(o)}`),this}rangeGt(i,o){return this.url.searchParams.append(i,`sr.${o}`),this}rangeGte(i,o){return this.url.searchParams.append(i,`nxl.${o}`),this}rangeLt(i,o){return this.url.searchParams.append(i,`sl.${o}`),this}rangeLte(i,o){return this.url.searchParams.append(i,`nxr.${o}`),this}rangeAdjacent(i,o){return this.url.searchParams.append(i,`adj.${o}`),this}overlaps(i,o){return typeof o=="string"?this.url.searchParams.append(i,`ov.${o}`):this.url.searchParams.append(i,`ov.{${o.join(",")}}`),this}textSearch(i,o,{config:a,type:l}={}){let u="";l==="plain"?u="pl":l==="phrase"?u="ph":l==="websearch"&&(u="w");const d=a===void 0?"":`(${a})`;return this.url.searchParams.append(i,`${u}fts${d}.${o}`),this}match(i){return Object.entries(i).forEach(([o,a])=>{this.url.searchParams.append(o,`eq.${a}`)}),this}not(i,o,a){return this.url.searchParams.append(i,`not.${o}.${a}`),this}or(i,{foreignTable:o,referencedTable:a=o}={}){const l=a?`${a}.or`:"or";return this.url.searchParams.append(l,`(${i})`),this}filter(i,o,a){return this.url.searchParams.append(i,`${o}.${a}`),this}}return Qs.default=n,Qs}var Hc;function yp(){if(Hc)return Js;Hc=1,Object.defineProperty(Js,"__esModule",{value:!0});const e=kn.__importDefault(fu());class r{constructor(s,{headers:i={},schema:o,fetch:a}){this.url=s,this.headers=new Headers(i),this.schema=o,this.fetch=a}select(s,i){const{head:o=!1,count:a}=i??{},l=o?"HEAD":"GET";let u=!1;const d=(s??"*").split("").map(h=>/\s/.test(h)&&!u?"":(h==='"'&&(u=!u),h)).join("");return this.url.searchParams.set("select",d),a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:i,defaultToNull:o=!0}={}){var a;const l="POST";if(i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const u=s.reduce((d,h)=>d.concat(Object.keys(h)),[]);if(u.length>0){const d=[...new Set(u)].map(h=>`"${h}"`);this.url.searchParams.set("columns",d.join(","))}}return new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(s,{onConflict:i,ignoreDuplicates:o=!1,count:a,defaultToNull:l=!0}={}){var u;const d="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),a&&this.headers.append("Prefer",`count=${a}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const h=s.reduce((f,g)=>f.concat(Object.keys(g)),[]);if(h.length>0){const f=[...new Set(h)].map(g=>`"${g}"`);this.url.searchParams.set("columns",f.join(","))}}return new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(s,{count:i}={}){var o;const a="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:s}={}){var i;const o="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return Js.default=r,Js}var Kc;function Hy(){if(Kc)return Gs;Kc=1,Object.defineProperty(Gs,"__esModule",{value:!0});const t=kn,e=t.__importDefault(yp()),r=t.__importDefault(fu());class n{constructor(i,{headers:o={},schema:a,fetch:l}={}){this.url=i,this.headers=new Headers(o),this.schemaName=a,this.fetch=l}from(i){const o=new URL(`${this.url}/${i}`);return new e.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new n(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,o={},{head:a=!1,get:l=!1,count:u}={}){var d;let h;const f=new URL(`${this.url}/rpc/${i}`);let g;a||l?(h=a?"HEAD":"GET",Object.entries(o).filter(([w,_])=>_!==void 0).map(([w,_])=>[w,Array.isArray(_)?`{${_.join(",")}}`:`${_}`]).forEach(([w,_])=>{f.searchParams.append(w,_)})):(h="POST",g=o);const y=new Headers(this.headers);return u&&y.set("Prefer",`count=${u}`),new r.default({method:h,url:f,headers:y,schema:this.schemaName,body:g,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return Gs.default=n,Gs}Object.defineProperty(_e,"__esModule",{value:!0});var wp=_e.PostgrestError=Op=_e.PostgrestBuilder=Tp=_e.PostgrestTransformBuilder=Ep=_e.PostgrestFilterBuilder=Sp=_e.PostgrestQueryBuilder=xp=_e.PostgrestClient=void 0;const En=kn,_p=En.__importDefault(Hy());var xp=_e.PostgrestClient=_p.default;const bp=En.__importDefault(yp());var Sp=_e.PostgrestQueryBuilder=bp.default;const kp=En.__importDefault(fu());var Ep=_e.PostgrestFilterBuilder=kp.default;const jp=En.__importDefault(vp());var Tp=_e.PostgrestTransformBuilder=jp.default;const Cp=En.__importDefault(gp());var Op=_e.PostgrestBuilder=Cp.default;const Pp=En.__importDefault(mp());wp=_e.PostgrestError=Pp.default;var Np=_e.default={PostgrestClient:_p.default,PostgrestQueryBuilder:bp.default,PostgrestFilterBuilder:kp.default,PostgrestTransformBuilder:jp.default,PostgrestBuilder:Cp.default,PostgrestError:Pp.default};const Ky=gd({__proto__:null,get PostgrestBuilder(){return Op},get PostgrestClient(){return xp},get PostgrestError(){return wp},get PostgrestFilterBuilder(){return Ep},get PostgrestQueryBuilder(){return Sp},get PostgrestTransformBuilder(){return Tp},default:Np},[_e]),{PostgrestClient:Gy,PostgrestQueryBuilder:Ux,PostgrestFilterBuilder:Mx,PostgrestTransformBuilder:zx,PostgrestBuilder:Fx,PostgrestError:Bx}=Np||Ky;class Jy{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Qy="2.78.0",Yy=`realtime-js/${Qy}`,Xy="1.0.0",nl=1e4,Zy=1e3,e0=100;var Qn;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Qn||(Qn={}));var se;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(se||(se={}));var Ze;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Ze||(Ze={}));var sl;(function(t){t.websocket="websocket"})(sl||(sl={}));var hr;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(hr||(hr={}));class t0{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const s=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const a=n.decode(e.slice(o,o+s));o=o+s;const l=n.decode(e.slice(o,o+i));o=o+i;const u=JSON.parse(n.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class Rp{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var B;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(B||(B={}));const Gc=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((i,o)=>(i[o]=r0(o,t,e,s),i),{}):{}},r0=(t,e,r,n)=>{const s=e.find(a=>a.name===t),i=s==null?void 0:s.type,o=r[t];return i&&!n.includes(i)?Ap(i,o):il(o)},Ap=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return o0(e,r)}switch(t){case B.bool:return n0(e);case B.float4:case B.float8:case B.int2:case B.int4:case B.int8:case B.numeric:case B.oid:return s0(e);case B.json:case B.jsonb:return i0(e);case B.timestamp:return a0(e);case B.abstime:case B.date:case B.daterange:case B.int4range:case B.int8range:case B.money:case B.reltime:case B.text:case B.time:case B.timestamptz:case B.timetz:case B.tsrange:case B.tstzrange:return il(e);default:return il(e)}},il=t=>t,n0=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},s0=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},i0=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},o0=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const o=t.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>Ap(e,a))}return t},a0=t=>typeof t=="string"?t.replace(" ","T"):t,Ip=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Ko{constructor(e,r,n={},s=nl){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Jc;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Jc||(Jc={}));class Yn{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Yn.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=Yn.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Yn.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const i=this.cloneDeep(e),o=this.transformState(r),a={},l={};return this.map(i,(u,d)=>{o[u]||(l[u]=d)}),this.map(o,(u,d)=>{const h=i[u];if(h){const f=d.map(_=>_.presence_ref),g=h.map(_=>_.presence_ref),y=d.filter(_=>g.indexOf(_.presence_ref)<0),w=h.filter(_=>f.indexOf(_.presence_ref)<0);y.length>0&&(a[u]=y),w.length>0&&(l[u]=w)}else a[u]=d}),this.syncDiff(i,{joins:a,leaves:l},n,s)}static syncDiff(e,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var u;const d=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(l),d.length>0){const h=e[a].map(g=>g.presence_ref),f=d.filter(g=>h.indexOf(g.presence_ref)<0);e[a].unshift(...f)}n(a,d,l)}),this.map(o,(a,l)=>{let u=e[a];if(!u)return;const d=l.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),e[a]=u,s(a,u,l),u.length===0&&delete e[a]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Qc;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Qc||(Qc={}));var Xn;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Xn||(Xn={}));var mt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(mt||(mt={}));class pu{constructor(e,r={config:{}},n){var s,i;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=se.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Ko(this,Ze.join,this.params,this.timeout),this.rejoinTimer=new Rp(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=se.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=se.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=se.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=se.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=se.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ze.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new Yn(this),this.broadcastEndpointURL=Ip(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==se.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(g=>g.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[Xn.PRESENCE]&&this.bindings[Xn.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},f={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:d}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(g=>e==null?void 0:e(mt.CHANNEL_ERROR,g)),this._onClose(()=>e==null?void 0:e(mt.CLOSED)),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:g})=>{var y;if(this.socket.setAuth(),g===void 0){e==null||e(mt.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,_=(y=w==null?void 0:w.length)!==null&&y!==void 0?y:0,v=[];for(let p=0;p<_;p++){const m=w[p],{filter:{event:x,schema:S,table:k,filter:j}}=m,C=g&&g[p];if(C&&C.event===x&&C.schema===S&&C.table===k&&C.filter===j)v.push(Object.assign(Object.assign({},m),{id:C.id}));else{this.unsubscribe(),this.state=se.errored,e==null||e(mt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,e&&e(mt.SUBSCRIBED);return}}).receive("error",g=>{this.state=se.errored,e==null||e(mt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(mt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===se.joined&&e===Xn.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var s;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(a.status===202)return{success:!0};let l=a.statusText;try{const u=await a.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=se.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ze.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Ko(this,Ze.leave,{},e),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=se.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Ko(this,e,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>e0){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:u,join:d}=Ze;if(n&&[a,l,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let f=this._onMessage(o,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(g=>{var y,w,_;return((y=g.filter)===null||y===void 0?void 0:y.event)==="*"||((_=(w=g.filter)===null||w===void 0?void 0:w.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===o}).map(g=>g.callback(f,n)):(i=this.bindings[o])===null||i===void 0||i.filter(g=>{var y,w,_,v,p,m;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in g){const x=g.id,S=(y=g.filter)===null||y===void 0?void 0:y.event;return x&&((w=r.ids)===null||w===void 0?void 0:w.includes(x))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((_=r.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const x=(p=(v=g==null?void 0:g.filter)===null||v===void 0?void 0:v.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return x==="*"||x===((m=r==null?void 0:r.event)===null||m===void 0?void 0:m.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===o}).map(g=>{if(typeof f=="object"&&"ids"in f){const y=f.data,{schema:w,table:_,commit_timestamp:v,type:p,errors:m}=y;f=Object.assign(Object.assign({},{schema:w,table:_,commit_timestamp:v,eventType:p,new:{},old:{},errors:m}),this._getPayloadRecords(y))}g.callback(f,n)})}_isClosed(){return this.state===se.closed}_isJoined(){return this.state===se.joined}_isJoining(){return this.state===se.joining}_isLeaving(){return this.state===se.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&pu.isEqual(s.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ze.close,{},e)}_onError(e){this._on(Ze.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=se.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=Gc(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=Gc(e.columns,e.old_record)),r}}const Go=()=>{},ei={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},l0=[1e3,2e3,5e3,1e4],u0=1e4,c0=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class d0{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=nl,this.transport=null,this.heartbeatIntervalMs=ei.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Go,this.ref=0,this.reconnectTimer=null,this.logger=Go,this.conn=null,this.sendBuffer=[],this.serializer=new t0,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...o)=>Sn(async()=>{const{default:a}=await Promise.resolve().then(()=>Pr);return{default:a}},void 0).then(({default:a})=>a(...o)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${sl.websocket}`,this.httpEndpoint=Ip(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Jy.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Xy}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Qn.connecting:return hr.Connecting;case Qn.open:return hr.Open;case Qn.closing:return hr.Closing;default:return hr.Closed}}isConnected(){return this.connectionState()===hr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new pu(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:n,payload:s,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Zy,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},ei.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:i,ref:o}=r,a=o?`(${o})`:"",l=i.status||"";this.log("receive",`${l} ${n} ${s} ${a}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ze.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([c0],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:Yy};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(Ze.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Rp(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ei.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,s,i,o,a,l,u,d;if(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:nl,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:ei.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=e==null?void 0:e.heartbeatCallback)!==null&&a!==void 0?a:Go,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=e==null?void 0:e.reconnectAfterMs)!==null&&l!==void 0?l:h=>l0[h-1]||u0,this.encode=(u=e==null?void 0:e.encode)!==null&&u!==void 0?u:(h,f)=>f(JSON.stringify(h)),this.decode=(d=e==null?void 0:e.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class mu extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function G(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class h0 extends mu{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class ol extends mu{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}const gu=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Sn(async()=>{const{default:n}=await Promise.resolve().then(()=>Pr);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},f0=()=>P(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Sn(()=>Promise.resolve().then(()=>Pr),void 0)).Response:Response}),al=t=>{if(Array.isArray(t))return t.map(r=>al(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=al(n)}),e},p0=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Jo=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},m0=(t,e,r)=>P(void 0,void 0,void 0,function*(){const n=yield f0();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(s=>{const i=t.status||500,o=(s==null?void 0:s.statusCode)||i+"";e(new h0(Jo(s),i,o))}).catch(s=>{e(new ol(Jo(s),s))}):e(new ol(Jo(t),t))}),g0=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?s:(p0(n)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),r))};function Cs(t,e,r,n,s,i){return P(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(r,g0(e,n,s,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>m0(l,a,n))})})}function ws(t,e,r,n){return P(this,void 0,void 0,function*(){return Cs(t,"GET",e,r,n)})}function Ye(t,e,r,n,s){return P(this,void 0,void 0,function*(){return Cs(t,"POST",e,n,s,r)})}function ll(t,e,r,n,s){return P(this,void 0,void 0,function*(){return Cs(t,"PUT",e,n,s,r)})}function v0(t,e,r,n){return P(this,void 0,void 0,function*(){return Cs(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function vu(t,e,r,n,s){return P(this,void 0,void 0,function*(){return Cs(t,"DELETE",e,n,s,r)})}class y0{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return P(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(G(e))return{data:null,error:e};throw e}})}}var $p;class w0{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r,this[$p]="BlobDownloadBuilder",this.promise=null}asStream(){return new y0(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.getPromise().then(e,r)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return P(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(G(e))return{data:null,error:e};throw e}})}}$p=Symbol.toStringTag;const _0={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Yc={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class x0{constructor(e,r={},n,s){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=n,this.fetch=gu(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,n,s){return P(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Yc),s);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),h=yield(e=="PUT"?ll:Ye)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(G(i))return{data:null,error:i};throw i}})}upload(e,r,n){return P(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,s){return P(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",r);try{let l;const u=Object.assign({upsert:Yc.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield ll(this.fetch,a.toString(),l,{headers:d});return{data:{path:i,fullPath:h.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(G(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,r){return P(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield Ye(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new mu("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(G(n))return{data:null,error:n};throw n}})}update(e,r,n){return P(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return P(this,void 0,void 0,function*(){try{return{data:yield Ye(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(G(s))return{data:null,error:s};throw s}})}copy(e,r,n){return P(this,void 0,void 0,function*(){try{return{data:{path:(yield Ye(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(G(s))return{data:null,error:s};throw s}})}createSignedUrl(e,r,n){return P(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield Ye(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(G(s))return{data:null,error:s};throw s}})}createSignedUrls(e,r,n){return P(this,void 0,void 0,function*(){try{const s=yield Ye(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(G(s))return{data:null,error:s};throw s}})}download(e,r){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"",a=this._getFinalPath(e),l=()=>ws(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0});return new w0(l,this.shouldThrowOnError)}info(e){return P(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield ws(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:al(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(G(n))return{data:null,error:n};throw n}})}exists(e){return P(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield v0(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(G(n)&&n instanceof ol){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const a=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&s.push(l);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${u}`)}}}remove(e){return P(this,void 0,void 0,function*(){try{return{data:yield vu(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(G(r))return{data:null,error:r};throw r}})}list(e,r,n){return P(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},_0),r),{prefix:e||""});return{data:yield Ye(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(G(s))return{data:null,error:s};throw s}})}listV2(e,r){return P(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield Ye(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(G(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const Dp="2.78.0",Lp={"X-Client-Info":`storage-js/${Dp}`};class b0{constructor(e,r={},n,s){this.shouldThrowOnError=!1;const i=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Lp),r),this.fetch=gu(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return P(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(e);return{data:yield ws(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(G(r))return{data:null,error:r};throw r}})}getBucket(e){return P(this,void 0,void 0,function*(){try{return{data:yield ws(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(G(r))return{data:null,error:r};throw r}})}createBucket(e){return P(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield Ye(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(G(s))return{data:null,error:s};throw s}})}updateBucket(e,r){return P(this,void 0,void 0,function*(){try{return{data:yield ll(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(G(n))return{data:null,error:n};throw n}})}emptyBucket(e){return P(this,void 0,void 0,function*(){try{return{data:yield Ye(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(G(r))return{data:null,error:r};throw r}})}deleteBucket(e){return P(this,void 0,void 0,function*(){try{return{data:yield vu(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(G(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(e){const r={};return e&&("limit"in e&&(r.limit=String(e.limit)),"offset"in e&&(r.offset=String(e.offset)),e.search&&(r.search=e.search),e.sortColumn&&(r.sortColumn=e.sortColumn),e.sortOrder&&(r.sortOrder=e.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class S0{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Lp),r),this.fetch=gu(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return P(this,void 0,void 0,function*(){try{return{data:yield Ye(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(G(r))return{data:null,error:r};throw r}})}listBuckets(e){return P(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),s=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield ws(this.fetch,s,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(G(r))return{data:null,error:r};throw r}})}deleteBucket(e){return P(this,void 0,void 0,function*(){try{return{data:yield vu(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(G(r))return{data:null,error:r};throw r}})}}const yu={"X-Client-Info":`storage-js/${Dp}`,"Content-Type":"application/json"};class Up extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Re(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class Qo extends Up{constructor(e,r,n){super(e),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class k0 extends Up{constructor(e,r){super(e),this.name="StorageVectorsUnknownError",this.originalError=r}}var Xc;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Xc||(Xc={}));const wu=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Sn(async()=>{const{default:n}=await Promise.resolve().then(()=>Pr);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},E0=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Zc=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),j0=(t,e,r)=>P(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const s=t.status||500,i=t;if(typeof i.json=="function")i.json().then(o=>{const a=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||s+"";e(new Qo(Zc(o),s,a))}).catch(()=>{const o=s+"",a=i.statusText||`HTTP ${s} error`;e(new Qo(a,s,o))});else{const o=s+"",a=i.statusText||`HTTP ${s} error`;e(new Qo(a,s,o))}}else e(new k0(Zc(t),t))}),T0=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return n?(E0(n)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,Object.assign(Object.assign({},s),r)):s};function C0(t,e,r,n,s,i){return P(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(r,T0(e,n,s,i)).then(l=>{if(!l.ok)throw l;if(n!=null&&n.noResolveJson)return l;const u=l.headers.get("content-type");return!u||!u.includes("application/json")?{}:l.json()}).then(l=>o(l)).catch(l=>j0(l,a,n))})})}function Ae(t,e,r,n,s){return P(this,void 0,void 0,function*(){return C0(t,"POST",e,n,s,r)})}class O0{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},yu),r),this.fetch=wu(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return P(this,void 0,void 0,function*(){try{return{data:(yield Ae(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Re(r))return{data:null,error:r};throw r}})}getIndex(e,r){return P(this,void 0,void 0,function*(){try{return{data:yield Ae(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Re(n))return{data:null,error:n};throw n}})}listIndexes(e){return P(this,void 0,void 0,function*(){try{return{data:yield Ae(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Re(r))return{data:null,error:r};throw r}})}deleteIndex(e,r){return P(this,void 0,void 0,function*(){try{return{data:(yield Ae(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Re(n))return{data:null,error:n};throw n}})}}class P0{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},yu),r),this.fetch=wu(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return P(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Ae(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Re(r))return{data:null,error:r};throw r}})}getVectors(e){return P(this,void 0,void 0,function*(){try{return{data:yield Ae(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Re(r))return{data:null,error:r};throw r}})}listVectors(e){return P(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield Ae(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Re(r))return{data:null,error:r};throw r}})}queryVectors(e){return P(this,void 0,void 0,function*(){try{return{data:yield Ae(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Re(r))return{data:null,error:r};throw r}})}deleteVectors(e){return P(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Ae(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Re(r))return{data:null,error:r};throw r}})}}class N0{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},yu),r),this.fetch=wu(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return P(this,void 0,void 0,function*(){try{return{data:(yield Ae(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Re(r))return{data:null,error:r};throw r}})}getBucket(e){return P(this,void 0,void 0,function*(){try{return{data:yield Ae(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Re(r))return{data:null,error:r};throw r}})}listBuckets(){return P(this,arguments,void 0,function*(e={}){try{return{data:yield Ae(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Re(r))return{data:null,error:r};throw r}})}deleteBucket(e){return P(this,void 0,void 0,function*(){try{return{data:(yield Ae(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Re(r))return{data:null,error:r};throw r}})}}class R0 extends N0{constructor(e,r={}){super(e,r.headers||{},r.fetch)}from(e){return new A0(this.url,this.headers,e,this.fetch)}}class A0 extends O0{constructor(e,r,n,s){super(e,r,s),this.vectorBucketName=n}createIndex(e){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return P(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return P(this,arguments,void 0,function*(r={}){return e.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return P(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return P(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new I0(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class I0 extends P0{constructor(e,r,n,s,i){super(e,r,i),this.vectorBucketName=n,this.indexName=s}putVectors(e){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return P(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return P(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return P(this,arguments,void 0,function*(r={}){return e.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return P(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return P(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class $0 extends b0{constructor(e,r={},n,s){super(e,r,n,s)}from(e){return new x0(this.url,this.headers,e,this.fetch)}get vectors(){return new R0(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new S0(this.url+"/iceberg",this.headers,this.fetch)}}const D0="2.78.0";let zn="";typeof Deno<"u"?zn="deno":typeof document<"u"?zn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?zn="react-native":zn="node";const L0={"X-Client-Info":`supabase-js-${zn}/${D0}`},U0={headers:L0},M0={schema:"public"},z0={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},F0={},B0=t=>{let e;return t?e=t:typeof fetch>"u"?e=fp:e=fetch,(...r)=>e(...r)},W0=()=>typeof Headers>"u"?pp:Headers,V0=(t,e,r)=>{const n=B0(r),s=W0();return async(i,o)=>{var a;const l=(a=await e())!==null&&a!==void 0?a:t;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),n(i,Object.assign(Object.assign({},o),{headers:u}))}};function q0(t){return t.endsWith("/")?t:t+"/"}function H0(t,e){var r,n;const{db:s,auth:i,realtime:o,global:a}=t,{db:l,auth:u,realtime:d,global:h}=e,f={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),a),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=a==null?void 0:a.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}function K0(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(q0(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Mp="2.78.0",Ur=30*1e3,ul=3,Yo=ul*Ur,G0="http://localhost:9999",J0="supabase.auth.token",Q0={"X-Client-Info":`gotrue-js/${Mp}`},cl="X-Supabase-Api-Version",zp={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Y0=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,X0=10*60*1e3;class _s extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function N(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Z0 extends _s{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function ew(t){return N(t)&&t.name==="AuthApiError"}class fr extends _s{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class tr extends _s{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}}class Ge extends tr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function tw(t){return N(t)&&t.name==="AuthSessionMissingError"}class Rr extends tr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ti extends tr{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class ri extends tr{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function rw(t){return N(t)&&t.name==="AuthImplicitGrantRedirectError"}class ed extends tr{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class dl extends tr{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Xo(t){return N(t)&&t.name==="AuthRetryableFetchError"}class td extends tr{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class hl extends tr{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Wi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),rd=` 	
\r=`.split(""),nw=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<rd.length;e+=1)t[rd[e].charCodeAt(0)]=-2;for(let e=0;e<Wi.length;e+=1)t[Wi[e].charCodeAt(0)]=e;return t})();function nd(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Wi[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Wi[n]),e.queuedBits-=6}}function Fp(t,e,r){const n=nw[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function sd(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{ow(o,n,r)};for(let o=0;o<t.length;o+=1)Fp(t.charCodeAt(o),s,i);return e.join("")}function sw(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function iw(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}sw(n,e)}}function ow(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function on(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)Fp(t.charCodeAt(s),r,n);return new Uint8Array(e)}function aw(t){const e=[];return iw(t,r=>e.push(r)),new Uint8Array(e)}function yr(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};return t.forEach(s=>nd(s,r,n)),nd(null,r,n),e.join("")}function lw(t){return Math.round(Date.now()/1e3)+t}function uw(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const ye=()=>typeof window<"u"&&typeof document<"u",sr={tested:!1,writable:!1},Bp=()=>{if(!ye())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(sr.tested)return sr.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),sr.tested=!0,sr.writable=!0}catch{sr.tested=!0,sr.writable=!1}return sr.writable};function cw(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const Wp=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Sn(async()=>{const{default:n}=await Promise.resolve().then(()=>Pr);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},dw=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Mr=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},ir=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Ct=async(t,e)=>{await t.removeItem(e)};class po{constructor(){this.promise=new po.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}po.promiseConstructor=Promise;function Zo(t){const e=t.split(".");if(e.length!==3)throw new hl("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!Y0.test(e[n]))throw new hl("JWT not in base64url format");return{header:JSON.parse(sd(e[0])),payload:JSON.parse(sd(e[1])),signature:on(e[2]),raw:{header:e[0],payload:e[1]}}}async function hw(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function fw(t,e){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){n(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function pw(t){return("0"+t.toString(16)).substr(-2)}function mw(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,pw).join("")}async function gw(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function vw(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await gw(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ar(t,e,r=!1){const n=mw();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Mr(t,`${e}-code-verifier`,s);const i=await vw(n);return[i,n===i?"plain":"s256"]}const yw=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function ww(t){const e=t.headers.get(cl);if(!e||!e.match(yw))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function _w(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function xw(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const bw=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ir(t){if(!bw.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function ea(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Sw(t,e){return new Proxy(t,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,s)}})}function id(t){return JSON.parse(JSON.stringify(t))}const cr=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),kw=[502,503,504];async function od(t){var e;if(!dw(t))throw new dl(cr(t),0);if(kw.includes(t.status))throw new dl(cr(t),t.status);let r;try{r=await t.json()}catch(i){throw new fr(cr(i),i)}let n;const s=ww(t);if(s&&s.getTime()>=zp["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new td(cr(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Ge}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new td(cr(r),t.status,r.weak_password.reasons);throw new Z0(cr(r),t.status||500,n)}const Ew=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function R(t,e,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[cl]||(i[cl]=zp["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await jw(t,e,r+a,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function jw(t,e,r,n,s,i){const o=Ew(e,n,s,i);let a;try{a=await t(r,Object.assign({},o))}catch(l){throw console.error(l),new dl(cr(l),0)}if(a.ok||await od(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(l){await od(l)}}function Je(t){var e;let r=null;Ow(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=lw(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function ad(t){const e=Je(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function $t(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Tw(t){return{data:t,error:null}}function Cw(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=t,o=bn(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function ld(t){return t}function Ow(t){return t.access_token&&t.refresh_token&&t.expires_in}const ta=["global","local","others"];class Pw{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=Wp(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=ta[0]){if(ta.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ta.join(", ")}`);try{return await R(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(N(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await R(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:$t})}catch(n){if(N(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=bn(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await R(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Cw,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(N(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await R(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:$t})}catch(r){if(N(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},d=await R(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:ld});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(y=>{const w=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(y.split(";")[1].split("=")[1]);u[`${_}Page`]=w}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(N(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){Ir(e);try{return await R(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:$t})}catch(r){if(N(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Ir(e);try{return await R(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:$t})}catch(n){if(N(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){Ir(e);try{return await R(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:$t})}catch(n){if(N(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Ir(e.userId);try{const{data:r,error:n}=await R(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(N(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Ir(e.userId),Ir(e.id);try{return{data:await R(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(N(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,s,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},d=await R(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:ld});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(y=>{const w=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(y.split(";")[1].split("=")[1]);u[`${_}Page`]=w}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(N(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(e){try{return await R(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(N(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await R(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(N(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await R(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(N(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await R(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(N(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await R(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(N(r))return{data:null,error:r};throw r}}}function ud(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const $r={debug:!!(globalThis&&Bp()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Vp extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Nw extends Vp{}async function Rw(t,e,r){$r.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),$r.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){$r.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{$r.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw $r.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Nw(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if($r.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function Aw(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function qp(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function Iw(t){return parseInt(t,16)}function $w(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function Dw(t){var e;const{chainId:r,domain:n,expirationTime:s,issuedAt:i=new Date,nonce:o,notBefore:a,requestId:l,resources:u,scheme:d,uri:h,version:f}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const g=qp(t.address),y=d?`${d}://${n}`:n,w=t.statement?`${t.statement}
`:"",_=`${y} wants you to sign in with your Ethereum account:
${g}

${w}`;let v=`URI: ${h}
Version: ${f}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(s&&(v+=`
Expiration Time: ${s.toISOString()}`),a&&(v+=`
Not Before: ${a.toISOString()}`),l&&(v+=`
Request ID: ${l}`),u){let p=`
Resources:`;for(const m of u){if(!m||typeof m!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${m}`);p+=`
- ${m}`}v+=p}return`${_}
${v}`}class re extends Error{constructor({message:e,code:r,cause:n,name:s}){var i;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=s??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class Vi extends re{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function Lw({error:t,options:e}){var r,n,s;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new re({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new re({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new re({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new re({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new re({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new re({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new re({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new re({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(Hp(o)){if(i.rp.id!==o)return new re({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new re({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new re({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new re({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new re({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function Uw({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new re({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new re({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(Hp(n)){if(r.rpId!==n)return new re({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new re({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new re({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new re({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class Mw{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const zw=new Mw;function Fw(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,s=bn(t,["challenge","user","excludeCredentials"]),i=on(e).buffer,o=Object.assign(Object.assign({},r),{id:on(r.id).buffer}),a=Object.assign(Object.assign({},s),{challenge:i,user:o});if(n&&n.length>0){a.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const u=n[l];a.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:on(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return a}function Bw(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=bn(t,["challenge","allowCredentials"]),s=on(e).buffer,i=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const a=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},a),{id:on(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return i}function Ww(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:yr(new Uint8Array(t.response.attestationObject)),clientDataJSON:yr(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Vw(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),s=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:yr(new Uint8Array(s.authenticatorData)),clientDataJSON:yr(new Uint8Array(s.clientDataJSON)),signature:yr(new Uint8Array(s.signature)),userHandle:s.userHandle?yr(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Hp(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function cd(){var t,e;return!!(ye()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function qw(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Vi("Browser returned unexpected credential type",e)}:{data:null,error:new Vi("Empty credential response",e)}}catch(e){return{data:null,error:Lw({error:e,options:t})}}}async function Hw(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Vi("Browser returned unexpected credential type",e)}:{data:null,error:new Vi("Empty credential response",e)}}catch(e){return{data:null,error:Uw({error:e,options:t})}}}const Kw={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},Gw={userVerification:"preferred",hints:["security-key"]};function qi(...t){const e=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of t)if(s)for(const i in s){const o=s[i];if(o!==void 0)if(Array.isArray(o))n[i]=o;else if(r(o))n[i]=o;else if(e(o)){const a=n[i];e(a)?n[i]=qi(a,o):n[i]=qi(o)}else n[i]=o}return n}function Jw(t,e){return qi(Kw,t,e||{})}function Qw(t,e){return qi(Gw,t,e||{})}class Yw{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:s},i){try{const{data:o,error:a}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!o)return{data:null,error:a};const l=s??zw.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=Jw(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:h}=await qw({publicKey:u,signal:l});return d?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}case"request":{const u=Qw(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:h}=await Hw(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:l}));return d?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}}}catch(o){return N(o)?{data:null,error:o}:{data:null,error:new fr("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}},i){if(!r)return{data:null,error:new _s("rpId is required for WebAuthn authentication")};try{if(!cd())return{data:null,error:new fr("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:i});if(!o)return{data:null,error:a};const{webauthn:l}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(o){return N(o)?{data:null,error:o}:{data:null,error:new fr("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s},i){if(!r)return{data:null,error:new _s("rpId is required for WebAuthn registration")};try{if(!cd())return{data:null,error:new fr("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(d=>{var h;return(h=d.data)===null||h===void 0?void 0:h.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===e&&f.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:a};const{data:l,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:i});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(o){return N(o)?{data:null,error:o}:{data:null,error:new fr("Unexpected error in register",o)}}}}Aw();const Xw={url:G0,storageKey:J0,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Q0,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function dd(t,e,r){return await r()}const Dr={};class xs{get jwks(){var e,r;return(r=(e=Dr[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Dr[this.storageKey]=Object.assign(Object.assign({},Dr[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Dr[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Dr[this.storageKey]=Object.assign(Object.assign({},Dr[this.storageKey]),{cachedAt:e})}constructor(e){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=xs.nextInstanceID,xs.nextInstanceID+=1,this.instanceID>0&&ye()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},Xw),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Pw({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Wp(s.fetch),this.lock=s.lock||dd,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:ye()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Rw:this.lock=dd,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Yw(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:Bp()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=ud(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=ud(this.memoryStorage)),ye()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Mp}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=cw(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),ye()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),rw(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return N(r)?{error:r}:{error:new fr("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const i=await R(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:Je}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(N(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var r,n,s;try{let i;if("email"in e){const{email:d,password:h,options:f}=e;let g=null,y=null;this.flowType==="pkce"&&([g,y]=await Ar(this.storage,this.storageKey)),i=await R(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:g,code_challenge_method:y},xform:Je})}else if("phone"in e){const{phone:d,password:h,options:f}=e;i=await R(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Je})}else throw new ti("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(N(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:o,options:a}=e;r=await R(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:ad})}else if("phone"in e){const{phone:i,password:o,options:a}=e;r=await R(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:ad})}else throw new ti("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Rr}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(N(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,s,i,o,a,l,u,d,h,f;let g,y;if("message"in e)g=e.message,y=e.signature;else{const{chain:w,wallet:_,statement:v,options:p}=e;let m;if(ye())if(typeof _=="object")m=_;else{const U=window;if("ethereum"in U&&typeof U.ethereum=="object"&&"request"in U.ethereum&&typeof U.ethereum.request=="function")m=U.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!(p!=null&&p.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");m=_}const x=new URL((r=p==null?void 0:p.url)!==null&&r!==void 0?r:window.location.href),S=await m.request({method:"eth_requestAccounts"}).then(U=>U).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const k=qp(S[0]);let j=(n=p==null?void 0:p.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!j){const U=await m.request({method:"eth_chainId"});j=Iw(U)}const C={domain:x.host,address:k,statement:v,uri:x.href,version:"1",chainId:j,nonce:(s=p==null?void 0:p.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(i=p==null?void 0:p.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=p==null?void 0:p.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=p==null?void 0:p.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=p==null?void 0:p.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=p==null?void 0:p.signInWithEthereum)===null||d===void 0?void 0:d.resources};g=Dw(C),y=await m.request({method:"personal_sign",params:[$w(g),k]})}try{const{data:w,error:_}=await R(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:g,signature:y},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:Je});if(_)throw _;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new Rr}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:_})}catch(w){if(N(w))return{data:{user:null,session:null},error:w};throw w}}async signInWithSolana(e){var r,n,s,i,o,a,l,u,d,h,f,g;let y,w;if("message"in e)y=e.message,w=e.signature;else{const{chain:_,wallet:v,statement:p,options:m}=e;let x;if(ye())if(typeof v=="object")x=v;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))x=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(m!=null&&m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=v}const S=new URL((r=m==null?void 0:m.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in x&&x.signIn){const k=await x.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},m==null?void 0:m.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),p?{statement:p}:null));let j;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")j=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)j=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in j&&"signature"in j&&(typeof j.signedMessage=="string"||j.signedMessage instanceof Uint8Array)&&j.signature instanceof Uint8Array)y=typeof j.signedMessage=="string"?j.signedMessage:new TextDecoder().decode(j.signedMessage),w=j.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in x)||typeof x.signMessage!="function"||!("publicKey"in x)||typeof x!="object"||!x.publicKey||!("toBase58"in x.publicKey)||typeof x.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${S.host} wants you to sign in with your Solana account:`,x.publicKey.toBase58(),...p?["",p,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(s=(n=m==null?void 0:m.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=m==null?void 0:m.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${m.signInWithSolana.notBefore}`]:[],...!((o=m==null?void 0:m.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${m.signInWithSolana.expirationTime}`]:[],...!((a=m==null?void 0:m.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${m.signInWithSolana.chainId}`]:[],...!((l=m==null?void 0:m.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${m.signInWithSolana.nonce}`]:[],...!((u=m==null?void 0:m.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${m.signInWithSolana.requestId}`]:[],...!((h=(d=m==null?void 0:m.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...m.signInWithSolana.resources.map(j=>`- ${j}`)]:[]].join(`
`);const k=await x.signMessage(new TextEncoder().encode(y),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=k}}try{const{data:_,error:v}=await R(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:yr(w)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(g=e.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:Je});if(v)throw v;return!_||!_.session||!_.user?{data:{user:null,session:null},error:new Rr}:(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),{data:Object.assign({},_),error:v})}catch(_){if(N(_))return{data:{user:null,session:null},error:_};throw _}}async _exchangeCodeForSession(e){const r=await ir(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await R(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Je});if(await Ct(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Rr}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(N(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=e,a=await R(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Je}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Rr}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(r){if(N(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,s,i,o;try{if("email"in e){const{email:a,options:l}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Ar(this.storage,this.storageKey));const{error:h}=await R(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:a,options:l}=e,{data:u,error:d}=await R(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new ti("You must provide either an email or phone number.")}catch(a){if(N(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var r,n;try{let s,i;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await R(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Je});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(N(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var r,n,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Ar(this.storage,this.storageKey)),await R(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Tw})}catch(i){if(N(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new Ge;const{error:s}=await R(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(N(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:i}=e,{error:o}=await R(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:n,type:s,options:i}=e,{data:o,error:a}=await R(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new ti("You must provide either an email or phone number and a type")}catch(r){if(N(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await ir(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<Yo:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const o=await ir(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=ea()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};e.user=Sw(e.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await R(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:$t}):await this._useSession(async r=>{var n,s,i;const{data:o,error:a}=r;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ge}:await R(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:$t})})}catch(r){if(N(r))return tw(r)&&(await this._removeSession(),await Ct(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Ge;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await Ar(this.storage,this.storageKey));const{data:u,error:d}=await R(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:$t});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(N(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Ge;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=Zo(e.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(N(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:o,error:a}=r;if(a)throw a;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Ge;const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(N(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!ye())throw new ri("No browser detected.");if(e.error||e.error_description||e.error_code)throw new ri(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new ed("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ri("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new ed("No code detected.");const{data:p,error:m}=await this._exchangeCodeForSession(e.code);if(m)throw m;const x=new URL(window.location.href);return x.searchParams.delete("code"),window.history.replaceState(window.history.state,"",x.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=e;if(!i||!a||!o||!u)throw new ri("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(a);let f=d+h;l&&(f=parseInt(l));const g=f-d;g*1e3<=Ur&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${h}s`);const y=f-h;d-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,f,d):d-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,f,d);const{data:w,error:_}=await this._getUser(i);if(_)throw _;const v={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:u,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:v,redirectType:e.type},error:null}}catch(n){if(N(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await ir(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(ew(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await Ct(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=uw(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Ar(this.storage,this.storageKey,!0));try{return await R(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(N(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(N(r))return{data:null,error:r};throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,a,l,u,d;const{data:h,error:f}=i;if(f)throw f;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await R(this.fetch,"GET",g,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return ye()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(N(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:i}}=r;if(s)throw s;const{options:o,provider:a,token:l,access_token:u,nonce:d}=e,h=await R(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:a,id_token:l,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Je}),{data:f,error:g}=h;return g?{data:{user:null,session:null},error:g}:!f||!f.session||!f.user?{data:{user:null,session:null},error:new Rr}:(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),{data:f,error:g})}catch(s){if(N(s))return{data:{user:null,session:null},error:s};throw s}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await R(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(N(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await fw(async s=>(s>0&&await hw(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await R(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Je})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Xo(i)&&Date.now()+o-n<Ur})}catch(n){if(this._debug(r,"error",n),N(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),ye()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await ir(this.storage,this.storageKey);if(s&&this.userStorage){let o=await ir(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await Mr(this.userStorage,this.storageKey+"-user",o)),s.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:ea()}else if(s&&!s.user&&!s.user){const o=await ir(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await Ct(this.storage,this.storageKey+"-user"),await Mr(this.storage,this.storageKey,s)):s.user=ea()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Yo;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Yo}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),Xo(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(s.access_token);!a&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new Ge;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new po;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new Ge;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={data:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),N(i)){const o={data:null,error:i};return Xo(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,r)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Mr(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=id(s);await Mr(this.storage,this.storageKey,i)}else{const s=id(r);await Mr(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Ct(this.storage,this.storageKey),await Ct(this.storage,this.storageKey+"-code-verifier"),await Ct(this.storage,this.storageKey+"-user"),this.userStorage&&await Ct(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ye()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ur);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/Ur);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Ur}ms, refresh threshold is ${ul} ticks`),s<=ul&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Vp)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ye()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Ar(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await R(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(N(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:u}=await R(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&l.type==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(N(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?Ww(e.webauthn.credential_response):Vw(e.webauthn.credential_response)})}:{code:e.code}),{data:a,error:l}=await R(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})})}catch(r){if(N(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const o=await R(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:Fw(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:Bw(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(N(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:n},error:s}=await this.getSession();if(s)return{data:null,error:s};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Zo(n.access_token);let o=null;i.aal&&(o=i.aal);let a=o;((r=(e=n.user.factors)===null||e===void 0?void 0:e.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(a="aal2");const u=i.amr||[];return{data:{currentLevel:o,nextLevel:a,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?{data:null,error:s}:n?await R(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):{data:null,error:new Ge}})}catch(r){if(N(r))return{data:null,error:r};throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return{data:null,error:i};if(!s)return{data:null,error:new Ge};const o=await R(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&ye()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(N(n))return{data:null,error:n};throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return{data:null,error:i};if(!s)return{data:null,error:new Ge};const o=await R(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&ye()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(N(n))return{data:null,error:n};throw n}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(a=>a.kid===e);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(a=>a.kid===e),n&&this.jwks_cached_at+X0>s)return n;const{data:i,error:o}=await R(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(a=>a.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:g,error:y}=await this.getSession();if(y||!g.session)return{data:null,error:y};n=g.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:l}}=Zo(n);r!=null&&r.allowExpired||_w(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:g}=await this.getUser(n);if(g)throw g;return{data:{claims:i,header:s,signature:o},error:null}}const d=xw(s.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,o,aw(`${a}.${l}`)))throw new hl("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(N(n))return{data:null,error:n};throw n}}}xs.nextInstanceID=0;const Zw=xs;class e_ extends Zw{constructor(e){super(e)}}class t_{constructor(e,r,n){var s,i,o;this.supabaseUrl=e,this.supabaseKey=r;const a=K0(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const l=`sb-${a.hostname.split(".")[0]}-auth-token`,u={db:M0,realtime:F0,auth:Object.assign(Object.assign({},z0),{storageKey:l}),global:U0},d=H0(n??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=V0(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new Gy(new URL("rest/v1",a).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new $0(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new zy(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,storageKey:o,flowType:a,lock:l,debug:u},d,h){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new e_({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),d),storageKey:o,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,flowType:a,lock:l,debug:u,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(g=>g.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new d0(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const r_=(t,e,r)=>new t_(t,e,r);function n_(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}n_()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const s_="https://ipozlteyzikjsveydsho.supabase.co",i_="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imlwb3psdGV5emlranN2ZXlkc2hvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjIxODQ4MDgsImV4cCI6MjA3Nzc2MDgwOH0.FPnuE0qkwyB8ANT7FgEJWDjBbd0imvGul3J8pex7RAA",A=r_(s_,i_),or={async signup(t,e,r,n){const{data:s,error:i}=await A.auth.signUp({email:t,password:e});if(i)throw i;if(s!=null&&s.user){const{error:o}=await A.from("users").insert({id:s.user.id,email:t,full_name:r,role:n});if(o)throw o}return s},async signin(t,e){const{data:r,error:n}=await A.auth.signInWithPassword({email:t,password:e});if(n)throw n;return r},async signout(){const{error:t}=await A.auth.signOut();if(t)throw t},async resetPassword(t){const{error:e}=await A.auth.resetPasswordForEmail(t,{redirectTo:`${window.location.origin}/reset-password`});if(e)throw e},async updatePassword(t){const{error:e}=await A.auth.updateUser({password:t});if(e)throw e},async getCurrentUser(){const{data:{user:t},error:e}=await A.auth.getUser();if(e)throw e;return t},async getUserProfile(t){const{data:e,error:r}=await A.from("users").select("*").eq("id",t).maybeSingle();if(r)throw r;return e},async updateUserProfile(t,e){const{data:r,error:n}=await A.from("users").update(e).eq("id",t).select().maybeSingle();if(n)throw n;return r},onAuthStateChange(t){return A.auth.onAuthStateChange(t)}},Kp=b.createContext(null);function o_({children:t}){const[e,r]=b.useState(null),[n,s]=b.useState(null),[i,o]=b.useState(!0),[a,l]=b.useState(null);b.useEffect(()=>{(async()=>{try{const w=await or.getCurrentUser();if(r(w),w){const _=await or.getUserProfile(w.id);s(_)}}catch(w){console.error("Error checking user:",w)}finally{o(!1)}})();const{data:{subscription:y}}=or.onAuthStateChange(async(w,_)=>{if(_!=null&&_.user){r(_.user);const v=await or.getUserProfile(_.user.id);s(v)}else r(null),s(null)});return()=>{y==null||y.unsubscribe()}},[]);const f={user:e,userProfile:n,loading:i,error:a,signup:async(g,y,w,_)=>{try{l(null),await or.signup(g,y,w,_)}catch(v){throw l(v.message),v}},signin:async(g,y)=>{try{l(null),await or.signin(g,y)}catch(w){throw l(w.message),w}},signout:async()=>{try{l(null),await or.signout(),r(null),s(null)}catch(g){throw l(g.message),g}},isAuthenticated:!!e,isAdmin:(n==null?void 0:n.role)==="admin",isCoach:(n==null?void 0:n.role)==="coach",isStudent:(n==null?void 0:n.role)==="student"};return c.jsx(Kp.Provider,{value:f,children:t})}function it(){const t=b.useContext(Kp);if(!t)throw new Error("useAuth must be used within AuthProvider");return t}var a_={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const l_=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ae=(t,e)=>{const r=b.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,children:a,...l},u)=>b.createElement("svg",{ref:u,...a_,width:s,height:s,stroke:n,strokeWidth:o?Number(i)*24/Number(s):i,className:`lucide lucide-${l_(t)}`,...l},[...e.map(([d,h])=>b.createElement(d,h)),...(Array.isArray(a)?a:[a])||[]]));return r.displayName=`${t}`,r},mo=ae("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Zn=ae("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]),vt=ae("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),u_=ae("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),c_=ae("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),d_=ae("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),h_=ae("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),Gp=ae("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),f_=ae("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),Jp=ae("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),Qp=ae("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),p_=ae("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),m_=ae("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),Yp=ae("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),g_=ae("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),zr=ae("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),Xp=ae("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),pr=ae("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),v_=ae("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function y_(){const{user:t,userProfile:e,isAuthenticated:r,signout:n}=it(),[s,i]=b.useState(!1),o=er(),a=async()=>{await n(),o("/login")},u=(()=>{if(!r)return[{label:"Login",href:"/login"},{label:"Sign Up",href:"/signup"}];const d=[{label:"Dashboard",href:"/dashboard"}];return(e==null?void 0:e.role)==="admin"?[...d,{label:"Tournaments",href:"/tournaments"},{label:"Coaching",href:"/coaching"},{label:"Users",href:"/users"}]:(e==null?void 0:e.role)==="coach"?[...d,{label:"Sessions",href:"/sessions"},{label:"Students",href:"/students"},{label:"Reports",href:"/reports"}]:(e==null?void 0:e.role)==="student"?[...d,{label:"My Events",href:"/my-events"},{label:"Tournaments",href:"/tournaments"},{label:"Progress",href:"/progress"}]:d})();return c.jsxs("nav",{className:"bg-white shadow-md sticky top-0 z-50",children:[c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"flex justify-between items-center h-16",children:[c.jsxs(Ve,{to:"/",className:"flex items-center space-x-2",children:[c.jsx("div",{className:"w-8 h-8 bg-primary-600 rounded-lg flex items-center justify-center",children:c.jsx("span",{className:"text-white font-bold text-lg",children:"Y"})}),c.jsx("span",{className:"hidden sm:inline font-bold text-lg text-secondary-800",children:"Y-Management"})]}),c.jsx("div",{className:"hidden md:flex items-center space-x-8",children:u.map(d=>c.jsx(Ve,{to:d.href,className:"text-secondary-600 hover:text-primary-600 transition-colors",children:d.label},d.href))}),c.jsx("div",{className:"hidden md:flex items-center space-x-4",children:r&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex items-center space-x-2 text-sm text-secondary-600",children:[c.jsx(Xp,{size:16}),c.jsx("span",{children:(e==null?void 0:e.full_name)||(t==null?void 0:t.email)}),c.jsx("span",{className:"text-xs bg-primary-100 text-primary-700 px-2 py-1 rounded",children:e==null?void 0:e.role})]}),c.jsxs("button",{onClick:a,className:"flex items-center space-x-2 text-secondary-600 hover:text-red-600 transition-colors",children:[c.jsx(f_,{size:18}),c.jsx("span",{children:"Logout"})]})]})}),c.jsx("button",{onClick:()=>i(!s),className:"md:hidden text-secondary-600",children:s?c.jsx(v_,{size:24}):c.jsx(p_,{size:24})})]})}),s&&c.jsx("div",{className:"md:hidden border-t border-secondary-200",children:c.jsxs("div",{className:"px-2 pt-2 pb-3 space-y-1",children:[u.map(d=>c.jsx(Ve,{to:d.href,className:"block px-3 py-2 rounded-md text-secondary-700 hover:bg-secondary-100",onClick:()=>i(!1),children:d.label},d.href)),r&&c.jsx("button",{onClick:()=>{a(),i(!1)},className:"w-full text-left px-3 py-2 rounded-md text-red-600 hover:bg-red-50",children:"Logout"})]})})]})}function ar({children:t,requiredRole:e=null}){const{isAuthenticated:r,userProfile:n,loading:s}=it();return s?c.jsx("div",{className:"flex items-center justify-center min-h-screen",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto mb-4"}),c.jsx("p",{className:"text-secondary-600",children:"Loading..."})]})}):r?e&&(n==null?void 0:n.role)!==e?c.jsx(Ya,{to:"/dashboard",replace:!0}):t:c.jsx(Ya,{to:"/login",replace:!0})}function w_(){const[t,e]=b.useState(""),[r,n]=b.useState(""),[s,i]=b.useState(""),[o,a]=b.useState(!1),{signin:l}=it(),u=er(),d=async h=>{h.preventDefault(),i(""),a(!0);try{await l(t,r),u("/dashboard")}catch(f){i(f.message||"Failed to sign in")}finally{a(!1)}};return c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 to-secondary-50 flex items-center justify-center px-4",children:c.jsx("div",{className:"w-full max-w-md",children:c.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("div",{className:"w-12 h-12 bg-primary-600 rounded-lg flex items-center justify-center mx-auto mb-4",children:c.jsx("span",{className:"text-white font-bold text-xl",children:"Y"})}),c.jsx("h1",{className:"text-2xl font-bold text-secondary-800",children:"Welcome Back"}),c.jsx("p",{className:"text-secondary-600 mt-2",children:"Sign in to your account"})]}),s&&c.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg flex items-start space-x-3",children:[c.jsx(mo,{className:"text-red-600 flex-shrink-0 mt-0.5",size:20}),c.jsx("p",{className:"text-red-700 text-sm",children:s})]}),c.jsxs("form",{onSubmit:d,className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-secondary-700 mb-2",children:"Email Address"}),c.jsxs("div",{className:"relative",children:[c.jsx(Jp,{className:"absolute left-3 top-3 text-secondary-400",size:18}),c.jsx("input",{id:"email",type:"email",value:t,onChange:h=>e(h.target.value),required:!0,className:"w-full pl-10 pr-4 py-2 border border-secondary-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent outline-none transition",placeholder:"your@email.com"})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-secondary-700 mb-2",children:"Password"}),c.jsxs("div",{className:"relative",children:[c.jsx(Gp,{className:"absolute left-3 top-3 text-secondary-400",size:18}),c.jsx("input",{id:"password",type:"password",value:r,onChange:h=>n(h.target.value),required:!0,className:"w-full pl-10 pr-4 py-2 border border-secondary-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent outline-none transition",placeholder:""})]})]}),c.jsx("button",{type:"submit",disabled:o,className:"w-full bg-primary-600 hover:bg-primary-700 disabled:bg-primary-400 text-white font-medium py-2 rounded-lg transition-colors",children:o?"Signing in...":"Sign In"})]}),c.jsxs("div",{className:"mt-6 text-center space-y-3",children:[c.jsxs("p",{className:"text-secondary-600 text-sm",children:["Don't have an account?"," ",c.jsx(Ve,{to:"/signup",className:"text-primary-600 hover:text-primary-700 font-medium",children:"Sign up"})]}),c.jsx(Ve,{to:"/forgot-password",className:"text-primary-600 hover:text-primary-700 text-sm font-medium block",children:"Forgot your password?"})]})]})})})}function __(){const[t,e]=b.useState(""),[r,n]=b.useState(""),[s,i]=b.useState(""),[o,a]=b.useState("student"),[l,u]=b.useState(""),[d,h]=b.useState(!1),{signup:f}=it(),g=er(),y=async w=>{if(w.preventDefault(),u(""),h(!0),r.length<6){u("Password must be at least 6 characters"),h(!1);return}try{await f(t,r,s,o),g("/dashboard")}catch(_){u(_.message||"Failed to sign up")}finally{h(!1)}};return c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 to-secondary-50 flex items-center justify-center px-4",children:c.jsx("div",{className:"w-full max-w-md",children:c.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("div",{className:"w-12 h-12 bg-primary-600 rounded-lg flex items-center justify-center mx-auto mb-4",children:c.jsx("span",{className:"text-white font-bold text-xl",children:"Y"})}),c.jsx("h1",{className:"text-2xl font-bold text-secondary-800",children:"Create Account"}),c.jsx("p",{className:"text-secondary-600 mt-2",children:"Join Y-Management Platform"})]}),l&&c.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg flex items-start space-x-3",children:[c.jsx(mo,{className:"text-red-600 flex-shrink-0 mt-0.5",size:20}),c.jsx("p",{className:"text-red-700 text-sm",children:l})]}),c.jsxs("form",{onSubmit:y,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"fullName",className:"block text-sm font-medium text-secondary-700 mb-2",children:"Full Name"}),c.jsxs("div",{className:"relative",children:[c.jsx(Xp,{className:"absolute left-3 top-3 text-secondary-400",size:18}),c.jsx("input",{id:"fullName",type:"text",value:s,onChange:w=>i(w.target.value),required:!0,className:"w-full pl-10 pr-4 py-2 border border-secondary-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent outline-none transition",placeholder:"John Doe"})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-secondary-700 mb-2",children:"Email Address"}),c.jsxs("div",{className:"relative",children:[c.jsx(Jp,{className:"absolute left-3 top-3 text-secondary-400",size:18}),c.jsx("input",{id:"email",type:"email",value:t,onChange:w=>e(w.target.value),required:!0,className:"w-full pl-10 pr-4 py-2 border border-secondary-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent outline-none transition",placeholder:"your@email.com"})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-secondary-700 mb-2",children:"Password"}),c.jsxs("div",{className:"relative",children:[c.jsx(Gp,{className:"absolute left-3 top-3 text-secondary-400",size:18}),c.jsx("input",{id:"password",type:"password",value:r,onChange:w=>n(w.target.value),required:!0,className:"w-full pl-10 pr-4 py-2 border border-secondary-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent outline-none transition",placeholder:""})]}),c.jsx("p",{className:"text-xs text-secondary-500 mt-1",children:"Minimum 6 characters"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-secondary-700 mb-2",children:"Role"}),c.jsxs("select",{id:"role",value:o,onChange:w=>a(w.target.value),className:"w-full px-4 py-2 border border-secondary-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent outline-none transition",children:[c.jsx("option",{value:"student",children:"Student"}),c.jsx("option",{value:"coach",children:"Coach"}),c.jsx("option",{value:"admin",children:"Admin"})]}),c.jsx("p",{className:"text-xs text-secondary-500 mt-1",children:"Select your role in the platform"})]}),c.jsx("button",{type:"submit",disabled:d,className:"w-full bg-primary-600 hover:bg-primary-700 disabled:bg-primary-400 text-white font-medium py-2 rounded-lg transition-colors mt-6",children:d?"Creating account...":"Sign Up"})]}),c.jsx("div",{className:"mt-6 text-center",children:c.jsxs("p",{className:"text-secondary-600 text-sm",children:["Already have an account?"," ",c.jsx(Ve,{to:"/login",className:"text-primary-600 hover:text-primary-700 font-medium",children:"Sign in"})]})})]})})})}const an={async createTournament(t,e){const{data:r,error:n}=await A.from("tournaments").insert({...t,created_by:e}).select().maybeSingle();if(n)throw n;return r},async getTournaments(t={}){let e=A.from("tournaments").select("*");t.status&&(e=e.eq("status",t.status)),t.createdBy&&(e=e.eq("created_by",t.createdBy));const{data:r,error:n}=await e.order("created_at",{ascending:!1});if(n)throw n;return r},async getTournamentById(t){const{data:e,error:r}=await A.from("tournaments").select("*").eq("id",t).maybeSingle();if(r)throw r;return e},async updateTournament(t,e){const{data:r,error:n}=await A.from("tournaments").update(e).eq("id",t).select().maybeSingle();if(n)throw n;return r},async getTeamsByTournament(t){const{data:e,error:r}=await A.from("teams").select(`
        *,
        players(*)
      `).eq("tournament_id",t).order("created_at",{ascending:!1});if(r)throw r;return e},async createTeam(t){const{data:e,error:r}=await A.from("teams").insert(t).select().maybeSingle();if(r)throw r;return e},async updateTeamRegistration(t,e,r){const{data:n,error:s}=await A.from("teams").update({registration_status:e,approved_by:r}).eq("id",t).select().maybeSingle();if(s)throw s;return n},async addPlayers(t){const{data:e,error:r}=await A.from("players").insert(t).select();if(r)throw r;return e},async getPlayersByTeam(t){const{data:e,error:r}=await A.from("players").select("*").eq("team_id",t).order("created_at",{ascending:!1});if(r)throw r;return e},async createMatches(t){const{data:e,error:r}=await A.from("matches").insert(t).select();if(r)throw r;return e},async getMatchesByTournament(t){const{data:e,error:r}=await A.from("matches").select(`
        *,
        team1:team1_id(id, name),
        team2:team2_id(id, name)
      `).eq("tournament_id",t).order("match_datetime",{ascending:!0});if(r)throw r;return e},async updateMatchScore(t,e,r,n){const{data:s,error:i}=await A.from("matches").update({team1_score:e,team2_score:r,status:n}).eq("id",t).select().maybeSingle();if(i)throw i;return s},async submitSpiritScore(t){const{data:e,error:r}=await A.from("spirit_scores").insert(t).select().maybeSingle();if(r)throw r;return e},async getSpiritScoresByMatch(t){const{data:e,error:r}=await A.from("spirit_scores").select("*").eq("match_id",t).order("created_at",{ascending:!1});if(r)throw r;return e},async getSpiritLeaderboard(t){const{data:e,error:r}=await A.from("matches").select("team1_id, team2_id").eq("tournament_id",t).eq("status","completed");if(r)throw r;const n=new Set;e.forEach(a=>{n.add(a.team1_id),n.add(a.team2_id)});const{data:s,error:i}=await A.from("spirit_scores").select("opponent_team_id, rules_knowledge, fouls, body_contact, fairness, attitude, communication");if(i)throw i;const o={};return s.forEach(a=>{o[a.opponent_team_id]||(o[a.opponent_team_id]={scores:[],average:0}),o[a.opponent_team_id].scores.push((a.rules_knowledge+a.fouls+a.body_contact+a.fairness+a.attitude+a.communication)/6)}),Object.keys(o).forEach(a=>{const l=o[a].scores;o[a].average=l.reduce((u,d)=>u+d,0)/l.length}),o}},tt={async createStudentProfile(t){const{data:e,error:r}=await A.from("student_profiles").insert(t).select().maybeSingle();if(r)throw r;return e},async getStudentProfile(t){const{data:e,error:r}=await A.from("student_profiles").select("*").eq("user_id",t).maybeSingle();if(r)throw r;return e},async updateStudentProfile(t,e){const{data:r,error:n}=await A.from("student_profiles").update(e).eq("id",t).select().maybeSingle();if(n)throw n;return r},async createCoachingSession(t){const{data:e,error:r}=await A.from("coaching_sessions").insert(t).select().maybeSingle();if(r)throw r;return e},async getCoachingSessions(t={}){let e=A.from("coaching_sessions").select("*");t.coachId&&(e=e.eq("coach_id",t.coachId)),t.status&&(e=e.eq("status",t.status));const{data:r,error:n}=await e.order("scheduled_date",{ascending:!0});if(n)throw n;return r},async updateCoachingSession(t,e){const{data:r,error:n}=await A.from("coaching_sessions").update(e).eq("id",t).select().maybeSingle();if(n)throw n;return r},async recordAttendance(t){const{data:e,error:r}=await A.from("session_attendance").insert(t).select().maybeSingle();if(r)throw r;return e},async getSessionAttendance(t){const{data:e,error:r}=await A.from("session_attendance").select("*").eq("session_id",t);if(r)throw r;return e},async getStudentAttendance(t){const{data:e,error:r}=await A.from("session_attendance").select(`
        *,
        coaching_sessions(title, scheduled_date)
      `).eq("student_id",t).order("created_at",{ascending:!1});if(r)throw r;return e},async recordHomeVisit(t){const{data:e,error:r}=await A.from("home_visits").insert(t).select().maybeSingle();if(r)throw r;return e},async getHomeVisits(t={}){let e=A.from("home_visits").select("*");t.coachId&&(e=e.eq("coach_id",t.coachId)),t.studentId&&(e=e.eq("student_id",t.studentId));const{data:r,error:n}=await e.order("visit_date",{ascending:!1});if(n)throw n;return r},async recordLSASAssessment(t){const{data:e,error:r}=await A.from("lsas_assessments").insert(t).select().maybeSingle();if(r)throw r;return e},async getStudentAssessments(t){const{data:e,error:r}=await A.from("lsas_assessments").select("*").eq("student_id",t).order("assessment_date",{ascending:!1});if(r)throw r;return e},async createProgressReport(t){const{data:e,error:r}=await A.from("progress_reports").insert(t).select().maybeSingle();if(r)throw r;return e},async getProgressReports(t={}){let e=A.from("progress_reports").select("*");t.studentId&&(e=e.eq("student_id",t.studentId)),t.coachId&&(e=e.eq("coach_id",t.coachId));const{data:r,error:n}=await e.order("report_date",{ascending:!1});if(n)throw n;return r},async getStudentMetrics(t){var o,a,l,u;const[e,r,n,s]=await Promise.all([A.from("session_attendance").select("attended").eq("student_id",t),A.from("home_visits").select("id").eq("student_id",t),A.from("lsas_assessments").select("score").eq("student_id",t),A.from("progress_reports").select("*").eq("student_id",t)]),i=e.data?e.data.filter(d=>d.attended).length/e.data.length*100:0;return{attendanceRate:Math.round(i),homeVisitsCount:((o=r.data)==null?void 0:o.length)||0,latestAssessmentScore:((l=(a=n.data)==null?void 0:a[0])==null?void 0:l.score)||null,reportsCount:((u=s.data)==null?void 0:u.length)||0}}};function Hi(t){"@babel/helpers - typeof";return Hi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hi(t)}function Tr(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function ke(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function ft(t){ke(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||Hi(t)==="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function x_(t,e){ke(2,arguments);var r=ft(t).getTime(),n=Tr(e);return new Date(r+n)}var b_={};function go(){return b_}function S_(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}function k_(t){return ke(1,arguments),t instanceof Date||Hi(t)==="object"&&Object.prototype.toString.call(t)==="[object Date]"}function E_(t){if(ke(1,arguments),!k_(t)&&typeof t!="number")return!1;var e=ft(t);return!isNaN(Number(e))}function j_(t,e){ke(2,arguments);var r=Tr(e);return x_(t,-r)}var T_=864e5;function C_(t){ke(1,arguments);var e=ft(t),r=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var n=e.getTime(),s=r-n;return Math.floor(s/T_)+1}function Ki(t){ke(1,arguments);var e=1,r=ft(t),n=r.getUTCDay(),s=(n<e?7:0)+n-e;return r.setUTCDate(r.getUTCDate()-s),r.setUTCHours(0,0,0,0),r}function Zp(t){ke(1,arguments);var e=ft(t),r=e.getUTCFullYear(),n=new Date(0);n.setUTCFullYear(r+1,0,4),n.setUTCHours(0,0,0,0);var s=Ki(n),i=new Date(0);i.setUTCFullYear(r,0,4),i.setUTCHours(0,0,0,0);var o=Ki(i);return e.getTime()>=s.getTime()?r+1:e.getTime()>=o.getTime()?r:r-1}function O_(t){ke(1,arguments);var e=Zp(t),r=new Date(0);r.setUTCFullYear(e,0,4),r.setUTCHours(0,0,0,0);var n=Ki(r);return n}var P_=6048e5;function N_(t){ke(1,arguments);var e=ft(t),r=Ki(e).getTime()-O_(e).getTime();return Math.round(r/P_)+1}function Gi(t,e){var r,n,s,i,o,a,l,u;ke(1,arguments);var d=go(),h=Tr((r=(n=(s=(i=e==null?void 0:e.weekStartsOn)!==null&&i!==void 0?i:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&s!==void 0?s:d.weekStartsOn)!==null&&n!==void 0?n:(l=d.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&r!==void 0?r:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=ft(t),g=f.getUTCDay(),y=(g<h?7:0)+g-h;return f.setUTCDate(f.getUTCDate()-y),f.setUTCHours(0,0,0,0),f}function em(t,e){var r,n,s,i,o,a,l,u;ke(1,arguments);var d=ft(t),h=d.getUTCFullYear(),f=go(),g=Tr((r=(n=(s=(i=e==null?void 0:e.firstWeekContainsDate)!==null&&i!==void 0?i:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&s!==void 0?s:f.firstWeekContainsDate)!==null&&n!==void 0?n:(l=f.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&r!==void 0?r:1);if(!(g>=1&&g<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var y=new Date(0);y.setUTCFullYear(h+1,0,g),y.setUTCHours(0,0,0,0);var w=Gi(y,e),_=new Date(0);_.setUTCFullYear(h,0,g),_.setUTCHours(0,0,0,0);var v=Gi(_,e);return d.getTime()>=w.getTime()?h+1:d.getTime()>=v.getTime()?h:h-1}function R_(t,e){var r,n,s,i,o,a,l,u;ke(1,arguments);var d=go(),h=Tr((r=(n=(s=(i=e==null?void 0:e.firstWeekContainsDate)!==null&&i!==void 0?i:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&s!==void 0?s:d.firstWeekContainsDate)!==null&&n!==void 0?n:(l=d.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&r!==void 0?r:1),f=em(t,e),g=new Date(0);g.setUTCFullYear(f,0,h),g.setUTCHours(0,0,0,0);var y=Gi(g,e);return y}var A_=6048e5;function I_(t,e){ke(1,arguments);var r=ft(t),n=Gi(r,e).getTime()-R_(r,e).getTime();return Math.round(n/A_)+1}function z(t,e){for(var r=t<0?"-":"",n=Math.abs(t).toString();n.length<e;)n="0"+n;return r+n}var Ot={y:function(e,r){var n=e.getUTCFullYear(),s=n>0?n:1-n;return z(r==="yy"?s%100:s,r.length)},M:function(e,r){var n=e.getUTCMonth();return r==="M"?String(n+1):z(n+1,2)},d:function(e,r){return z(e.getUTCDate(),r.length)},a:function(e,r){var n=e.getUTCHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h:function(e,r){return z(e.getUTCHours()%12||12,r.length)},H:function(e,r){return z(e.getUTCHours(),r.length)},m:function(e,r){return z(e.getUTCMinutes(),r.length)},s:function(e,r){return z(e.getUTCSeconds(),r.length)},S:function(e,r){var n=r.length,s=e.getUTCMilliseconds(),i=Math.floor(s*Math.pow(10,n-3));return z(i,r.length)}},Lr={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},$_={G:function(e,r,n){var s=e.getUTCFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return n.era(s,{width:"abbreviated"});case"GGGGG":return n.era(s,{width:"narrow"});case"GGGG":default:return n.era(s,{width:"wide"})}},y:function(e,r,n){if(r==="yo"){var s=e.getUTCFullYear(),i=s>0?s:1-s;return n.ordinalNumber(i,{unit:"year"})}return Ot.y(e,r)},Y:function(e,r,n,s){var i=em(e,s),o=i>0?i:1-i;if(r==="YY"){var a=o%100;return z(a,2)}return r==="Yo"?n.ordinalNumber(o,{unit:"year"}):z(o,r.length)},R:function(e,r){var n=Zp(e);return z(n,r.length)},u:function(e,r){var n=e.getUTCFullYear();return z(n,r.length)},Q:function(e,r,n){var s=Math.ceil((e.getUTCMonth()+1)/3);switch(r){case"Q":return String(s);case"QQ":return z(s,2);case"Qo":return n.ordinalNumber(s,{unit:"quarter"});case"QQQ":return n.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(s,{width:"wide",context:"formatting"})}},q:function(e,r,n){var s=Math.ceil((e.getUTCMonth()+1)/3);switch(r){case"q":return String(s);case"qq":return z(s,2);case"qo":return n.ordinalNumber(s,{unit:"quarter"});case"qqq":return n.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(s,{width:"wide",context:"standalone"})}},M:function(e,r,n){var s=e.getUTCMonth();switch(r){case"M":case"MM":return Ot.M(e,r);case"Mo":return n.ordinalNumber(s+1,{unit:"month"});case"MMM":return n.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(s,{width:"wide",context:"formatting"})}},L:function(e,r,n){var s=e.getUTCMonth();switch(r){case"L":return String(s+1);case"LL":return z(s+1,2);case"Lo":return n.ordinalNumber(s+1,{unit:"month"});case"LLL":return n.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(s,{width:"wide",context:"standalone"})}},w:function(e,r,n,s){var i=I_(e,s);return r==="wo"?n.ordinalNumber(i,{unit:"week"}):z(i,r.length)},I:function(e,r,n){var s=N_(e);return r==="Io"?n.ordinalNumber(s,{unit:"week"}):z(s,r.length)},d:function(e,r,n){return r==="do"?n.ordinalNumber(e.getUTCDate(),{unit:"date"}):Ot.d(e,r)},D:function(e,r,n){var s=C_(e);return r==="Do"?n.ordinalNumber(s,{unit:"dayOfYear"}):z(s,r.length)},E:function(e,r,n){var s=e.getUTCDay();switch(r){case"E":case"EE":case"EEE":return n.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(s,{width:"short",context:"formatting"});case"EEEE":default:return n.day(s,{width:"wide",context:"formatting"})}},e:function(e,r,n,s){var i=e.getUTCDay(),o=(i-s.weekStartsOn+8)%7||7;switch(r){case"e":return String(o);case"ee":return z(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,r,n,s){var i=e.getUTCDay(),o=(i-s.weekStartsOn+8)%7||7;switch(r){case"c":return String(o);case"cc":return z(o,r.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,r,n){var s=e.getUTCDay(),i=s===0?7:s;switch(r){case"i":return String(i);case"ii":return z(i,r.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(s,{width:"short",context:"formatting"});case"iiii":default:return n.day(s,{width:"wide",context:"formatting"})}},a:function(e,r,n){var s=e.getUTCHours(),i=s/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,r,n){var s=e.getUTCHours(),i;switch(s===12?i=Lr.noon:s===0?i=Lr.midnight:i=s/12>=1?"pm":"am",r){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,r,n){var s=e.getUTCHours(),i;switch(s>=17?i=Lr.evening:s>=12?i=Lr.afternoon:s>=4?i=Lr.morning:i=Lr.night,r){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,r,n){if(r==="ho"){var s=e.getUTCHours()%12;return s===0&&(s=12),n.ordinalNumber(s,{unit:"hour"})}return Ot.h(e,r)},H:function(e,r,n){return r==="Ho"?n.ordinalNumber(e.getUTCHours(),{unit:"hour"}):Ot.H(e,r)},K:function(e,r,n){var s=e.getUTCHours()%12;return r==="Ko"?n.ordinalNumber(s,{unit:"hour"}):z(s,r.length)},k:function(e,r,n){var s=e.getUTCHours();return s===0&&(s=24),r==="ko"?n.ordinalNumber(s,{unit:"hour"}):z(s,r.length)},m:function(e,r,n){return r==="mo"?n.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):Ot.m(e,r)},s:function(e,r,n){return r==="so"?n.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):Ot.s(e,r)},S:function(e,r){return Ot.S(e,r)},X:function(e,r,n,s){var i=s._originalDate||e,o=i.getTimezoneOffset();if(o===0)return"Z";switch(r){case"X":return fd(o);case"XXXX":case"XX":return dr(o);case"XXXXX":case"XXX":default:return dr(o,":")}},x:function(e,r,n,s){var i=s._originalDate||e,o=i.getTimezoneOffset();switch(r){case"x":return fd(o);case"xxxx":case"xx":return dr(o);case"xxxxx":case"xxx":default:return dr(o,":")}},O:function(e,r,n,s){var i=s._originalDate||e,o=i.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+hd(o,":");case"OOOO":default:return"GMT"+dr(o,":")}},z:function(e,r,n,s){var i=s._originalDate||e,o=i.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+hd(o,":");case"zzzz":default:return"GMT"+dr(o,":")}},t:function(e,r,n,s){var i=s._originalDate||e,o=Math.floor(i.getTime()/1e3);return z(o,r.length)},T:function(e,r,n,s){var i=s._originalDate||e,o=i.getTime();return z(o,r.length)}};function hd(t,e){var r=t>0?"-":"+",n=Math.abs(t),s=Math.floor(n/60),i=n%60;if(i===0)return r+String(s);var o=e;return r+String(s)+o+z(i,2)}function fd(t,e){if(t%60===0){var r=t>0?"-":"+";return r+z(Math.abs(t)/60,2)}return dr(t,e)}function dr(t,e){var r=e||"",n=t>0?"-":"+",s=Math.abs(t),i=z(Math.floor(s/60),2),o=z(s%60,2);return n+i+r+o}var pd=function(e,r){switch(e){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},tm=function(e,r){switch(e){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},D_=function(e,r){var n=e.match(/(P+)(p+)?/)||[],s=n[1],i=n[2];if(!i)return pd(e,r);var o;switch(s){case"P":o=r.dateTime({width:"short"});break;case"PP":o=r.dateTime({width:"medium"});break;case"PPP":o=r.dateTime({width:"long"});break;case"PPPP":default:o=r.dateTime({width:"full"});break}return o.replace("{{date}}",pd(s,r)).replace("{{time}}",tm(i,r))},L_={p:tm,P:D_},U_=["D","DD"],M_=["YY","YYYY"];function z_(t){return U_.indexOf(t)!==-1}function F_(t){return M_.indexOf(t)!==-1}function md(t,e,r){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var B_={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},W_=function(e,r,n){var s,i=B_[e];return typeof i=="string"?s=i:r===1?s=i.one:s=i.other.replace("{{count}}",r.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+s:s+" ago":s};function ra(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.width?String(e.width):t.defaultWidth,n=t.formats[r]||t.formats[t.defaultWidth];return n}}var V_={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},q_={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},H_={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},K_={date:ra({formats:V_,defaultWidth:"full"}),time:ra({formats:q_,defaultWidth:"full"}),dateTime:ra({formats:H_,defaultWidth:"full"})},G_={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},J_=function(e,r,n,s){return G_[e]};function In(t){return function(e,r){var n=r!=null&&r.context?String(r.context):"standalone",s;if(n==="formatting"&&t.formattingValues){var i=t.defaultFormattingWidth||t.defaultWidth,o=r!=null&&r.width?String(r.width):i;s=t.formattingValues[o]||t.formattingValues[i]}else{var a=t.defaultWidth,l=r!=null&&r.width?String(r.width):t.defaultWidth;s=t.values[l]||t.values[a]}var u=t.argumentCallback?t.argumentCallback(e):e;return s[u]}}var Q_={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Y_={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},X_={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Z_={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},ex={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},tx={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},rx=function(e,r){var n=Number(e),s=n%100;if(s>20||s<10)switch(s%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},nx={ordinalNumber:rx,era:In({values:Q_,defaultWidth:"wide"}),quarter:In({values:Y_,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:In({values:X_,defaultWidth:"wide"}),day:In({values:Z_,defaultWidth:"wide"}),dayPeriod:In({values:ex,defaultWidth:"wide",formattingValues:tx,defaultFormattingWidth:"wide"})};function $n(t){return function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.width,s=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;var o=i[0],a=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?ix(a,function(h){return h.test(o)}):sx(a,function(h){return h.test(o)}),u;u=t.valueCallback?t.valueCallback(l):l,u=r.valueCallback?r.valueCallback(u):u;var d=e.slice(o.length);return{value:u,rest:d}}}function sx(t,e){for(var r in t)if(t.hasOwnProperty(r)&&e(t[r]))return r}function ix(t,e){for(var r=0;r<t.length;r++)if(e(t[r]))return r}function ox(t){return function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.match(t.matchPattern);if(!n)return null;var s=n[0],i=e.match(t.parsePattern);if(!i)return null;var o=t.valueCallback?t.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;var a=e.slice(s.length);return{value:o,rest:a}}}var ax=/^(\d+)(th|st|nd|rd)?/i,lx=/\d+/i,ux={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},cx={any:[/^b/i,/^(a|c)/i]},dx={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},hx={any:[/1/i,/2/i,/3/i,/4/i]},fx={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},px={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},mx={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},gx={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},vx={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},yx={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},wx={ordinalNumber:ox({matchPattern:ax,parsePattern:lx,valueCallback:function(e){return parseInt(e,10)}}),era:$n({matchPatterns:ux,defaultMatchWidth:"wide",parsePatterns:cx,defaultParseWidth:"any"}),quarter:$n({matchPatterns:dx,defaultMatchWidth:"wide",parsePatterns:hx,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:$n({matchPatterns:fx,defaultMatchWidth:"wide",parsePatterns:px,defaultParseWidth:"any"}),day:$n({matchPatterns:mx,defaultMatchWidth:"wide",parsePatterns:gx,defaultParseWidth:"any"}),dayPeriod:$n({matchPatterns:vx,defaultMatchWidth:"any",parsePatterns:yx,defaultParseWidth:"any"})},_x={code:"en-US",formatDistance:W_,formatLong:K_,formatRelative:J_,localize:nx,match:wx,options:{weekStartsOn:0,firstWeekContainsDate:1}},xx=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,bx=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Sx=/^'([^]*?)'?$/,kx=/''/g,Ex=/[a-zA-Z]/;function xr(t,e,r){var n,s,i,o,a,l,u,d,h,f,g,y,w,_;ke(2,arguments);var v=String(e),p=go(),m=(n=(s=void 0)!==null&&s!==void 0?s:p.locale)!==null&&n!==void 0?n:_x,x=Tr((i=(o=(a=(l=void 0)!==null&&l!==void 0?l:void 0)!==null&&a!==void 0?a:p.firstWeekContainsDate)!==null&&o!==void 0?o:(u=p.locale)===null||u===void 0||(d=u.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&i!==void 0?i:1);if(!(x>=1&&x<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var S=Tr((h=(f=(g=(y=void 0)!==null&&y!==void 0?y:void 0)!==null&&g!==void 0?g:p.weekStartsOn)!==null&&f!==void 0?f:(w=p.locale)===null||w===void 0||(_=w.options)===null||_===void 0?void 0:_.weekStartsOn)!==null&&h!==void 0?h:0);if(!(S>=0&&S<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!m.localize)throw new RangeError("locale must contain localize property");if(!m.formatLong)throw new RangeError("locale must contain formatLong property");var k=ft(t);if(!E_(k))throw new RangeError("Invalid time value");var j=S_(k),C=j_(k,j),U={firstWeekContainsDate:x,weekStartsOn:S,locale:m,_originalDate:k},D=v.match(bx).map(function(V){var Ee=V[0];if(Ee==="p"||Ee==="P"){var ot=L_[Ee];return ot(V,m.formatLong)}return V}).join("").match(xx).map(function(V){if(V==="''")return"'";var Ee=V[0];if(Ee==="'")return jx(V);var ot=$_[Ee];if(ot)return F_(V)&&md(V,e,String(t)),z_(V)&&md(V,e,String(t)),ot(C,V,m.localize,U);if(Ee.match(Ex))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Ee+"`");return V}).join("");return D}function jx(t){var e=t.match(Sx);return e?e[1].replace(kx,"'"):t}function Tx(){const{userProfile:t,user:e}=it(),[r,n]=b.useState(null),[s,i]=b.useState(!0);return b.useEffect(()=>{t&&(async()=>{try{if((t==null?void 0:t.role)==="admin"){const a=await an.getTournaments();n({tournamentsCount:a.length,activeTournaments:a.filter(l=>l.status==="in_progress").length})}else if((t==null?void 0:t.role)==="coach"){const a=await tt.getCoachingSessions({coachId:e.id}),l=new Set;(await Promise.all(a.map(d=>tt.getSessionAttendance(d.id)))).forEach(d=>{d==null||d.forEach(h=>l.add(h.student_id))}),n({sessionsCount:a.length,upcomingSessions:a.filter(d=>d.status==="scheduled").length,studentsCount:l.size})}else if((t==null?void 0:t.role)==="student"){const a=await tt.getStudentProfile(e.id),l=a?await tt.getStudentMetrics(a.id):null;n({attendanceRate:(l==null?void 0:l.attendanceRate)||0,homeVisits:(l==null?void 0:l.homeVisitsCount)||0,reportsGenerated:(l==null?void 0:l.reportsCount)||0})}}catch(a){console.error("Error loading dashboard:",a)}finally{i(!1)}})()},[t,e]),s?c.jsx("div",{className:"flex items-center justify-center min-h-screen",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):c.jsx("div",{className:"min-h-screen bg-secondary-50",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("div",{className:"mb-8",children:[c.jsxs("h1",{className:"text-3xl font-bold text-secondary-800",children:["Welcome, ",(t==null?void 0:t.full_name)||"User","!"]}),c.jsxs("p",{className:"text-secondary-600 mt-2",children:["Role: ",c.jsx("span",{className:"font-semibold text-primary-600 capitalize",children:t==null?void 0:t.role})]})]}),(t==null?void 0:t.role)==="admin"&&c.jsxs("div",{children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[c.jsx(lt,{icon:c.jsx(Zn,{className:"text-primary-600",size:24}),label:"Total Tournaments",value:(r==null?void 0:r.tournamentsCount)||0}),c.jsx(lt,{icon:c.jsx(vt,{className:"text-green-600",size:24}),label:"Active Tournaments",value:(r==null?void 0:r.activeTournaments)||0}),c.jsx(lt,{icon:c.jsx(pr,{className:"text-blue-600",size:24}),label:"Total Users",value:"N/A"}),c.jsx(lt,{icon:c.jsx(zr,{className:"text-purple-600",size:24}),label:"System Health",value:"Good"})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsx(Pt,{title:"Create Tournament",description:"Start a new tournament",href:"/tournaments/create",icon:c.jsx(vt,{size:20})}),c.jsx(Pt,{title:"Manage Users",description:"View and manage platform users",href:"/users",icon:c.jsx(pr,{size:20})})]})]}),(t==null?void 0:t.role)==="coach"&&c.jsxs("div",{children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:[c.jsx(lt,{icon:c.jsx(vt,{className:"text-primary-600",size:24}),label:"Sessions Scheduled",value:(r==null?void 0:r.sessionsCount)||0}),c.jsx(lt,{icon:c.jsx(pr,{className:"text-green-600",size:24}),label:"Students",value:(r==null?void 0:r.studentsCount)||0}),c.jsx(lt,{icon:c.jsx(zr,{className:"text-blue-600",size:24}),label:"Upcoming Sessions",value:(r==null?void 0:r.upcomingSessions)||0})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsx(Pt,{title:"Schedule Session",description:"Create a new coaching session",href:"/sessions/create",icon:c.jsx(vt,{size:20})}),c.jsx(Pt,{title:"View Students",description:"Manage your students",href:"/students",icon:c.jsx(pr,{size:20})}),c.jsx(Pt,{title:"Record Home Visit",description:"Log a home visit",href:"/home-visits/create",icon:c.jsx(pr,{size:20})}),c.jsx(Pt,{title:"Generate Report",description:"Create a progress report",href:"/reports/create",icon:c.jsx(zr,{size:20})})]})]}),(t==null?void 0:t.role)==="student"&&c.jsxs("div",{children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:[c.jsx(lt,{icon:c.jsx(zr,{className:"text-primary-600",size:24}),label:"Attendance Rate",value:`${(r==null?void 0:r.attendanceRate)||0}%`}),c.jsx(lt,{icon:c.jsx(vt,{className:"text-green-600",size:24}),label:"Home Visits",value:(r==null?void 0:r.homeVisits)||0}),c.jsx(lt,{icon:c.jsx(Zn,{className:"text-blue-600",size:24}),label:"Reports Generated",value:(r==null?void 0:r.reportsGenerated)||0})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsx(Pt,{title:"View My Progress",description:"Check your progress reports",href:"/progress",icon:c.jsx(zr,{size:20})}),c.jsx(Pt,{title:"Browse Tournaments",description:"Join a tournament",href:"/tournaments",icon:c.jsx(Zn,{size:20})})]})]})]})})}function lt({icon:t,label:e,value:r}){return c.jsx("div",{className:"bg-white rounded-lg shadow p-6 border-l-4 border-primary-600",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-secondary-600 text-sm font-medium",children:e}),c.jsx("p",{className:"text-3xl font-bold text-secondary-800 mt-2",children:r})]}),c.jsx("div",{className:"bg-primary-50 p-3 rounded-lg",children:t})]})})}function Pt({title:t,description:e,href:r,icon:n}){return c.jsx(Ve,{to:r,className:"bg-white rounded-lg shadow p-6 hover:shadow-lg transition-shadow border border-secondary-200 hover:border-primary-300",children:c.jsxs("div",{className:"flex items-start space-x-4",children:[c.jsx("div",{className:"bg-primary-50 p-3 rounded-lg text-primary-600",children:n}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-secondary-800",children:t}),c.jsx("p",{className:"text-secondary-600 text-sm mt-1",children:e})]})]})})}function Cx(){return c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 to-secondary-50 flex items-center justify-center px-4",children:c.jsxs("div",{className:"text-center",children:[c.jsx("h1",{className:"text-6xl font-bold text-secondary-800 mb-4",children:"404"}),c.jsx("p",{className:"text-xl text-secondary-600 mb-8",children:"Page not found"}),c.jsxs(Ve,{to:"/dashboard",className:"inline-flex items-center space-x-2 bg-primary-600 hover:bg-primary-700 text-white px-6 py-3 rounded-lg transition-colors",children:[c.jsx(h_,{size:20}),c.jsx("span",{children:"Back to Dashboard"})]})]})})}function Ox(){const{userProfile:t}=it(),[e,r]=b.useState([]),[n,s]=b.useState(!0),[i,o]=b.useState("all");b.useEffect(()=>{(async()=>{try{const u=await an.getTournaments();r(u)}catch(u){console.error("Error loading tournaments:",u)}finally{s(!1)}})()},[]);const a=e.filter(l=>i==="all"?!0:l.status===i);return c.jsx("div",{className:"min-h-screen bg-secondary-50",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("div",{className:"flex justify-between items-center mb-8",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-secondary-800",children:"Tournaments"}),c.jsx("p",{className:"text-secondary-600 mt-2",children:"Manage and view tournaments"})]}),(t==null?void 0:t.role)==="admin"&&c.jsxs(Ve,{to:"/tournaments/create",className:"flex items-center space-x-2 bg-primary-600 hover:bg-primary-700 text-white px-4 py-2 rounded-lg transition-colors",children:[c.jsx(Yp,{size:20}),c.jsx("span",{children:"Create Tournament"})]})]}),c.jsx("div",{className:"flex gap-4 mb-6",children:["all","draft","registration_open","in_progress","completed"].map(l=>c.jsx("button",{onClick:()=>o(l),className:`px-4 py-2 rounded-lg font-medium transition-colors ${i===l?"bg-primary-600 text-white":"bg-white text-secondary-700 hover:bg-secondary-100"}`,children:l.replace(/_/g," ")},l))}),n?c.jsx("div",{className:"flex items-center justify-center py-12",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):a.length===0?c.jsx("div",{className:"text-center py-12",children:c.jsx("p",{className:"text-secondary-600 text-lg",children:"No tournaments found"})}):c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map(l=>c.jsx(Px,{tournament:l},l.id))})]})})}function Px({tournament:t}){return c.jsxs(Ve,{to:`/tournaments/${t.id}`,className:"bg-white rounded-lg shadow hover:shadow-lg transition-shadow border border-secondary-200 overflow-hidden",children:[t.banner_url&&c.jsx("div",{className:"h-32 bg-gradient-to-br from-primary-400 to-primary-600 overflow-hidden",children:c.jsx("img",{src:t.banner_url,alt:t.title,className:"w-full h-full object-cover"})}),c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"flex items-start justify-between mb-3",children:[c.jsx("h3",{className:"font-bold text-lg text-secondary-800 flex-1",children:t.title}),c.jsx("span",{className:`px-3 py-1 rounded text-xs font-semibold whitespace-nowrap ml-2 ${t.status==="completed"?"bg-secondary-200 text-secondary-800":t.status==="in_progress"?"bg-green-200 text-green-800":t.status==="registration_open"?"bg-blue-200 text-blue-800":t.status==="draft"?"bg-yellow-200 text-yellow-800":"bg-gray-200 text-gray-800"}`,children:t.status.replace(/_/g," ")})]}),c.jsx("p",{className:"text-secondary-600 text-sm mb-4 line-clamp-2",children:t.description}),c.jsxs("div",{className:"space-y-2 text-sm text-secondary-600",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Qp,{size:16}),c.jsx("span",{children:t.location})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(vt,{size:16}),c.jsxs("span",{children:[xr(new Date(t.start_date),"MMM dd")," - ",xr(new Date(t.end_date),"MMM dd")]})]})]}),c.jsxs("div",{className:"mt-4 flex items-center space-x-2 text-primary-600 font-medium text-sm",children:[c.jsx(c_,{size:16}),c.jsx("span",{children:"View Details"})]})]})]})}function Nx(){const{user:t}=it(),e=er(),[r,n]=b.useState(!1),[s,i]=b.useState(""),[o,a]=b.useState({title:"",description:"",rules:"",location:"",start_date:"",end_date:"",banner_url:""}),l=d=>{const{name:h,value:f}=d.target;a(g=>({...g,[h]:f}))},u=async d=>{d.preventDefault(),i(""),n(!0);try{await an.createTournament({...o,status:"draft"},t.id),e("/tournaments")}catch(h){i(h.message||"Failed to create tournament")}finally{n(!1)}};return c.jsx("div",{className:"min-h-screen bg-secondary-50",children:c.jsxs("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-secondary-800 mb-8",children:"Create Tournament"}),s&&c.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg flex items-start space-x-3",children:[c.jsx(mo,{className:"text-red-600 flex-shrink-0 mt-0.5",size:20}),c.jsx("p",{className:"text-red-700 text-sm",children:s})]}),c.jsxs("form",{onSubmit:u,className:"bg-white rounded-lg shadow p-8 space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-secondary-700 mb-2",children:"Tournament Title"}),c.jsx("input",{id:"title",type:"text",name:"title",value:o.title,onChange:l,required:!0,className:"w-full px-4 py-2 border border-secondary-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent outline-none",placeholder:"e.g., Summer Championship 2024"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"location",className:"block text-sm font-medium text-secondary-700 mb-2",children:"Location"}),c.jsx("input",{id:"location",type:"text",name:"location",value:o.location,onChange:l,required:!0,className:"w-full px-4 py-2 border border-secondary-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent outline-none",placeholder:"e.g., Central Stadium"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"start_date",className:"block text-sm font-medium text-secondary-700 mb-2",children:"Start Date"}),c.jsx("input",{id:"start_date",type:"datetime-local",name:"start_date",value:o.start_date,onChange:l,required:!0,className:"w-full px-4 py-2 border border-secondary-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent outline-none"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"end_date",className:"block text-sm font-medium text-secondary-700 mb-2",children:"End Date"}),c.jsx("input",{id:"end_date",type:"datetime-local",name:"end_date",value:o.end_date,onChange:l,required:!0,className:"w-full px-4 py-2 border border-secondary-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent outline-none"})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-secondary-700 mb-2",children:"Description"}),c.jsx("textarea",{id:"description",name:"description",value:o.description,onChange:l,rows:4,className:"w-full px-4 py-2 border border-secondary-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent outline-none",placeholder:"Describe the tournament..."})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"rules",className:"block text-sm font-medium text-secondary-700 mb-2",children:"Rules"}),c.jsx("textarea",{id:"rules",name:"rules",value:o.rules,onChange:l,rows:4,className:"w-full px-4 py-2 border border-secondary-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent outline-none",placeholder:"Enter tournament rules..."})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"banner_url",className:"block text-sm font-medium text-secondary-700 mb-2",children:"Banner Image URL"}),c.jsx("input",{id:"banner_url",type:"url",name:"banner_url",value:o.banner_url,onChange:l,className:"w-full px-4 py-2 border border-secondary-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent outline-none",placeholder:"https://example.com/image.jpg"})]}),c.jsxs("div",{className:"flex space-x-4 pt-4",children:[c.jsx("button",{type:"submit",disabled:r,className:"flex-1 bg-primary-600 hover:bg-primary-700 disabled:bg-primary-400 text-white font-medium py-2 rounded-lg transition-colors",children:r?"Creating...":"Create Tournament"}),c.jsx("button",{type:"button",onClick:()=>e("/tournaments"),className:"flex-1 bg-secondary-200 hover:bg-secondary-300 text-secondary-800 font-medium py-2 rounded-lg transition-colors",children:"Cancel"})]})]})]})})}function Rx(){const{id:t}=oy(),{userProfile:e}=it();er();const[r,n]=b.useState(null),[s,i]=b.useState([]),[o,a]=b.useState([]),[l,u]=b.useState(!0),[d,h]=b.useState("overview");if(b.useEffect(()=>{(async()=>{try{const[w,_,v]=await Promise.all([an.getTournamentById(t),an.getTeamsByTournament(t),an.getMatchesByTournament(t)]);n(w),i(_),a(v)}catch(w){console.error("Error loading tournament:",w)}finally{u(!1)}})()},[t]),l)return c.jsx("div",{className:"flex items-center justify-center min-h-screen",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})});if(!r)return c.jsx("div",{className:"text-center py-12",children:c.jsx("p",{className:"text-secondary-600 text-lg",children:"Tournament not found"})});const f=s.filter(y=>y.registration_status==="approved"),g=s.filter(y=>y.registration_status==="pending");return c.jsx("div",{className:"min-h-screen bg-secondary-50",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r.banner_url&&c.jsx("div",{className:"mb-8 h-64 rounded-lg overflow-hidden",children:c.jsx("img",{src:r.banner_url,alt:r.title,className:"w-full h-full object-cover"})}),c.jsxs("div",{className:"flex justify-between items-start mb-8",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-secondary-800",children:r.title}),c.jsxs("div",{className:"flex items-center space-x-4 mt-4 text-secondary-600",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Qp,{size:18}),c.jsx("span",{children:r.location})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(vt,{size:18}),c.jsxs("span",{children:[xr(new Date(r.start_date),"MMM dd, yyyy")," - ",xr(new Date(r.end_date),"MMM dd, yyyy")]})]}),c.jsx("span",{className:`px-3 py-1 rounded text-sm font-semibold ${r.status==="completed"?"bg-secondary-200 text-secondary-800":r.status==="in_progress"?"bg-green-200 text-green-800":r.status==="registration_open"?"bg-blue-200 text-blue-800":"bg-yellow-200 text-yellow-800"}`,children:r.status.replace(/_/g," ")})]})]}),(e==null?void 0:e.role)==="admin"&&c.jsxs("div",{className:"flex space-x-2",children:[c.jsxs("button",{className:"flex items-center space-x-2 bg-primary-600 hover:bg-primary-700 text-white px-4 py-2 rounded-lg transition-colors",children:[c.jsx(m_,{size:18}),c.jsx("span",{children:"Edit"})]}),c.jsxs("button",{className:"flex items-center space-x-2 bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg transition-colors",children:[c.jsx(g_,{size:18}),c.jsx("span",{children:"Delete"})]})]})]}),c.jsx("div",{className:"flex border-b border-secondary-200 mb-8 overflow-x-auto",children:["overview","teams","schedule","standings"].map(y=>c.jsx("button",{onClick:()=>h(y),className:`px-6 py-3 font-medium whitespace-nowrap transition-colors ${d===y?"border-b-2 border-primary-600 text-primary-600":"text-secondary-600 hover:text-secondary-800"}`,children:y.charAt(0).toUpperCase()+y.slice(1)},y))}),d==="overview"&&c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[c.jsxs("div",{className:"lg:col-span-2 bg-white rounded-lg shadow p-6",children:[c.jsx("h2",{className:"text-xl font-bold text-secondary-800 mb-4",children:"About"}),c.jsx("p",{className:"text-secondary-700 mb-6",children:r.description}),c.jsx("h3",{className:"font-bold text-secondary-800 mb-2",children:"Rules"}),c.jsx("p",{className:"text-secondary-700 whitespace-pre-wrap",children:r.rules})]}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[c.jsxs("h3",{className:"font-bold text-secondary-800 mb-4 flex items-center space-x-2",children:[c.jsx(pr,{size:20}),c.jsx("span",{children:"Teams"})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-secondary-600 text-sm",children:"Approved Teams"}),c.jsx("p",{className:"text-2xl font-bold text-primary-600",children:f.length})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-secondary-600 text-sm",children:"Pending Approval"}),c.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:g.length})]})]})]}),c.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[c.jsxs("h3",{className:"font-bold text-secondary-800 mb-4 flex items-center space-x-2",children:[c.jsx(Zn,{size:20}),c.jsx("span",{children:"Matches"})]}),c.jsx("p",{className:"text-2xl font-bold text-primary-600",children:o.length})]})]})]}),d==="teams"&&c.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{className:"bg-secondary-50 border-b border-secondary-200",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-secondary-700",children:"Team Name"}),c.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-secondary-700",children:"Manager"}),c.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-secondary-700",children:"Players"}),c.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-secondary-700",children:"Status"}),(e==null?void 0:e.role)==="admin"&&c.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-secondary-700",children:"Actions"})]})}),c.jsx("tbody",{children:s.map(y=>{var w;return c.jsxs("tr",{className:"border-b border-secondary-200 hover:bg-secondary-50",children:[c.jsx("td",{className:"px-6 py-4 font-medium text-secondary-800",children:y.name}),c.jsx("td",{className:"px-6 py-4 text-secondary-700",children:"Manager"}),c.jsx("td",{className:"px-6 py-4 text-secondary-700",children:((w=y.players)==null?void 0:w.length)||0}),c.jsx("td",{className:"px-6 py-4",children:c.jsx("span",{className:`px-3 py-1 rounded text-xs font-semibold ${y.registration_status==="approved"?"bg-green-200 text-green-800":y.registration_status==="rejected"?"bg-red-200 text-red-800":y.registration_status==="waitlisted"?"bg-yellow-200 text-yellow-800":"bg-blue-200 text-blue-800"}`,children:y.registration_status})}),(e==null?void 0:e.role)==="admin"&&c.jsx("td",{className:"px-6 py-4",children:c.jsx("button",{className:"text-primary-600 hover:text-primary-700 text-sm font-medium",children:"View"})})]},y.id)})})]})})}),d==="schedule"&&c.jsx("div",{className:"space-y-4",children:o.length===0?c.jsx("div",{className:"text-center py-12 bg-white rounded-lg",children:c.jsx("p",{className:"text-secondary-600",children:"No matches scheduled yet"})}):o.map(y=>{var w,_;return c.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-secondary-600",children:xr(new Date(y.match_datetime),"MMM dd, yyyy @ HH:mm")}),c.jsxs("h3",{className:"text-lg font-bold text-secondary-800 mt-2",children:[(w=y.team1)==null?void 0:w.name," vs ",(_=y.team2)==null?void 0:_.name]})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("p",{className:"text-2xl font-bold text-primary-600",children:y.team1_score!==null?`${y.team1_score} - ${y.team2_score}`:"TBD"}),c.jsx("span",{className:`px-3 py-1 rounded text-xs font-semibold inline-block mt-2 ${y.status==="completed"?"bg-secondary-200 text-secondary-800":y.status==="in_progress"?"bg-green-200 text-green-800":"bg-blue-200 text-blue-800"}`,children:y.status})]})]})},y.id)})}),d==="standings"&&c.jsx("div",{className:"text-center py-12 bg-white rounded-lg",children:c.jsx("p",{className:"text-secondary-600",children:"Standings will be available after matches are completed"})})]})})}function Ax(){const{user:t,userProfile:e}=it(),[r,n]=b.useState([]),[s,i]=b.useState(!0),[o,a]=b.useState("upcoming");b.useEffect(()=>{e&&(async()=>{try{const h=await tt.getCoachingSessions((e==null?void 0:e.role)==="coach"?{coachId:t.id}:{});n(h)}catch(h){console.error("Error loading sessions:",h)}finally{i(!1)}})()},[t,e]);const l=new Date,u=r.filter(d=>o==="upcoming"?new Date(d.scheduled_date)>l&&d.status==="scheduled":o==="completed"?d.status==="completed":!0);return c.jsx("div",{className:"min-h-screen bg-secondary-50",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("div",{className:"flex justify-between items-center mb-8",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-secondary-800",children:"Coaching Sessions"}),c.jsx("p",{className:"text-secondary-600 mt-2",children:"Manage and schedule coaching sessions"})]}),(e==null?void 0:e.role)==="coach"&&c.jsxs(Ve,{to:"/sessions/create",className:"flex items-center space-x-2 bg-primary-600 hover:bg-primary-700 text-white px-4 py-2 rounded-lg transition-colors",children:[c.jsx(Yp,{size:20}),c.jsx("span",{children:"Schedule Session"})]})]}),c.jsx("div",{className:"flex gap-4 mb-6",children:["all","upcoming","completed"].map(d=>c.jsx("button",{onClick:()=>a(d),className:`px-4 py-2 rounded-lg font-medium transition-colors ${o===d?"bg-primary-600 text-white":"bg-white text-secondary-700 hover:bg-secondary-100"}`,children:d.charAt(0).toUpperCase()+d.slice(1)},d))}),s?c.jsx("div",{className:"flex items-center justify-center py-12",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):u.length===0?c.jsx("div",{className:"text-center py-12 bg-white rounded-lg",children:c.jsx("p",{className:"text-secondary-600 text-lg",children:"No sessions found"})}):c.jsx("div",{className:"space-y-4",children:u.map(d=>c.jsx(Ix,{session:d},d.id))})]})})}function Ix({session:t}){return c.jsx(Ve,{to:`/sessions/${t.id}`,className:"bg-white rounded-lg shadow hover:shadow-lg transition-shadow border border-secondary-200 p-6",children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"text-lg font-bold text-secondary-800",children:t.title}),c.jsx("p",{className:"text-secondary-600 text-sm mt-1",children:t.description}),c.jsxs("div",{className:"flex flex-wrap gap-4 mt-4 text-sm text-secondary-600",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(vt,{size:16}),c.jsx("span",{children:xr(new Date(t.scheduled_date),"MMM dd, yyyy")})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(u_,{size:16}),c.jsxs("span",{children:[xr(new Date(t.scheduled_date),"HH:mm")," (",t.duration_minutes," min)"]})]}),t.location&&c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(pr,{size:16}),c.jsx("span",{children:t.location})]})]})]}),c.jsx("span",{className:`px-3 py-1 rounded text-xs font-semibold whitespace-nowrap ml-4 ${t.status==="completed"?"bg-secondary-200 text-secondary-800":t.status==="in_progress"?"bg-green-200 text-green-800":"bg-blue-200 text-blue-800"}`,children:t.status})]})})}function $x(){const{user:t}=it(),e=er(),[r,n]=b.useState(!1),[s,i]=b.useState(""),[o,a]=b.useState({title:"",description:"",scheduled_date:"",duration_minutes:60,location:"",max_attendees:""}),l=d=>{const{name:h,value:f}=d.target;a(g=>({...g,[h]:f}))},u=async d=>{d.preventDefault(),i(""),n(!0);try{await tt.createCoachingSession({...o,coach_id:t.id,duration_minutes:parseInt(o.duration_minutes),max_attendees:o.max_attendees?parseInt(o.max_attendees):null}),e("/sessions")}catch(h){i(h.message||"Failed to create session")}finally{n(!1)}};return c.jsx("div",{className:"min-h-screen bg-secondary-50",children:c.jsxs("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-secondary-800 mb-8",children:"Schedule Coaching Session"}),s&&c.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg flex items-start space-x-3",children:[c.jsx(mo,{className:"text-red-600 flex-shrink-0 mt-0.5",size:20}),c.jsx("p",{className:"text-red-700 text-sm",children:s})]}),c.jsxs("form",{onSubmit:u,className:"bg-white rounded-lg shadow p-8 space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-secondary-700 mb-2",children:"Session Title"}),c.jsx("input",{id:"title",type:"text",name:"title",value:o.title,onChange:l,required:!0,className:"w-full px-4 py-2 border border-secondary-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent outline-none",placeholder:"e.g., Basketball Skills Training"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"scheduled_date",className:"block text-sm font-medium text-secondary-700 mb-2",children:"Date & Time"}),c.jsx("input",{id:"scheduled_date",type:"datetime-local",name:"scheduled_date",value:o.scheduled_date,onChange:l,required:!0,className:"w-full px-4 py-2 border border-secondary-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent outline-none"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"duration_minutes",className:"block text-sm font-medium text-secondary-700 mb-2",children:"Duration (minutes)"}),c.jsx("input",{id:"duration_minutes",type:"number",name:"duration_minutes",value:o.duration_minutes,onChange:l,min:"15",step:"15",required:!0,className:"w-full px-4 py-2 border border-secondary-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent outline-none"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"location",className:"block text-sm font-medium text-secondary-700 mb-2",children:"Location"}),c.jsx("input",{id:"location",type:"text",name:"location",value:o.location,onChange:l,className:"w-full px-4 py-2 border border-secondary-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent outline-none",placeholder:"e.g., Sports Complex"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"max_attendees",className:"block text-sm font-medium text-secondary-700 mb-2",children:"Max Attendees (optional)"}),c.jsx("input",{id:"max_attendees",type:"number",name:"max_attendees",value:o.max_attendees,onChange:l,min:"1",className:"w-full px-4 py-2 border border-secondary-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent outline-none"})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-secondary-700 mb-2",children:"Description"}),c.jsx("textarea",{id:"description",name:"description",value:o.description,onChange:l,rows:4,className:"w-full px-4 py-2 border border-secondary-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent outline-none",placeholder:"Describe the session content and objectives..."})]}),c.jsxs("div",{className:"flex space-x-4 pt-4",children:[c.jsx("button",{type:"submit",disabled:r,className:"flex-1 bg-primary-600 hover:bg-primary-700 disabled:bg-primary-400 text-white font-medium py-2 rounded-lg transition-colors",children:r?"Scheduling...":"Schedule Session"}),c.jsx("button",{type:"button",onClick:()=>e("/sessions"),className:"flex-1 bg-secondary-200 hover:bg-secondary-300 text-secondary-800 font-medium py-2 rounded-lg transition-colors",children:"Cancel"})]})]})]})})}function Dx(){const{user:t}=it(),[e,r]=b.useState(null),[n,s]=b.useState([]),[i,o]=b.useState([]),[a,l]=b.useState([]),[u,d]=b.useState(!0);return b.useEffect(()=>{(async()=>{try{const f=await tt.getStudentProfile(t.id);if(f){const[g,y,w,_]=await Promise.all([tt.getStudentMetrics(f.id),tt.getProgressReports({studentId:t.id}),tt.getStudentAssessments(t.id),tt.getHomeVisits({studentId:t.id})]);r(g),s(y),o(w),l(_)}}catch(f){console.error("Error loading progress data:",f)}finally{d(!1)}})()},[t.id]),u?c.jsx("div",{className:"flex items-center justify-center min-h-screen",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):c.jsx("div",{className:"min-h-screen bg-secondary-50",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-secondary-800 mb-8",children:"My Progress"}),e&&c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[c.jsx(ni,{icon:c.jsx(zr,{className:"text-primary-600",size:24}),label:"Attendance Rate",value:`${e.attendanceRate}%`}),c.jsx(ni,{icon:c.jsx(vt,{className:"text-green-600",size:24}),label:"Home Visits",value:e.homeVisitsCount}),c.jsx(ni,{icon:c.jsx(Zn,{className:"text-blue-600",size:24}),label:"Latest Assessment",value:e.latestAssessmentScore||"N/A"}),c.jsx(ni,{icon:c.jsx(d_,{className:"text-purple-600",size:24}),label:"Reports",value:e.reportsGenerated})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[c.jsx("h2",{className:"text-xl font-bold text-secondary-800 mb-4",children:"Recent Assessments"}),i.length===0?c.jsx("p",{className:"text-secondary-600",children:"No assessments yet"}):c.jsx("div",{className:"space-y-4",children:i.slice(0,5).map(h=>c.jsxs("div",{className:"pb-4 border-b border-secondary-200 last:border-0",children:[c.jsx("div",{className:"flex justify-between items-start",children:c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-secondary-600",children:new Date(h.assessment_date).toLocaleDateString()}),c.jsxs("p",{className:"font-semibold text-secondary-800 text-lg mt-1",children:["Score: ",h.score]})]})}),h.comments&&c.jsx("p",{className:"text-secondary-600 text-sm mt-2",children:h.comments})]},h.id))})]}),c.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[c.jsx("h2",{className:"text-xl font-bold text-secondary-800 mb-4",children:"Progress Reports"}),n.length===0?c.jsx("p",{className:"text-secondary-600",children:"No reports generated yet"}):c.jsx("div",{className:"space-y-4",children:n.slice(0,5).map(h=>c.jsxs("div",{className:"pb-4 border-b border-secondary-200 last:border-0",children:[c.jsx("p",{className:"text-sm text-secondary-600",children:new Date(h.report_date).toLocaleDateString()}),c.jsxs("p",{className:"font-semibold text-secondary-800 mt-1",children:["Attendance: ",h.attendance_rate,"%"]}),h.recommendations&&c.jsx("p",{className:"text-secondary-600 text-sm mt-2 line-clamp-2",children:h.recommendations})]},h.id))})]})]}),c.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mt-6",children:[c.jsx("h2",{className:"text-xl font-bold text-secondary-800 mb-4",children:"Home Visits"}),a.length===0?c.jsx("p",{className:"text-secondary-600",children:"No home visits recorded"}):c.jsx("div",{className:"space-y-4",children:a.slice(0,5).map(h=>c.jsxs("div",{className:"pb-4 border-b border-secondary-200 last:border-0",children:[c.jsx("p",{className:"text-sm text-secondary-600",children:new Date(h.visit_date).toLocaleDateString()}),c.jsxs("p",{className:"font-semibold text-secondary-800 mt-1",children:["Duration: ",h.duration_minutes," minutes"]}),h.progress_update&&c.jsx("p",{className:"text-secondary-600 text-sm mt-2",children:h.progress_update})]},h.id))})]})]})})}function ni({icon:t,label:e,value:r}){return c.jsx("div",{className:"bg-white rounded-lg shadow p-6 border-l-4 border-primary-600",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-secondary-600 text-sm font-medium",children:e}),c.jsx("p",{className:"text-3xl font-bold text-secondary-800 mt-2",children:r})]}),c.jsx("div",{className:"bg-primary-50 p-3 rounded-lg",children:t})]})})}function Lx(){return c.jsx(Oy,{children:c.jsx(o_,{children:c.jsxs("div",{className:"min-h-screen bg-white",children:[c.jsx(y_,{}),c.jsxs(by,{children:[c.jsx(Me,{path:"/login",element:c.jsx(w_,{})}),c.jsx(Me,{path:"/signup",element:c.jsx(__,{})}),c.jsx(Me,{path:"/dashboard",element:c.jsx(ar,{children:c.jsx(Tx,{})})}),c.jsx(Me,{path:"/tournaments",element:c.jsx(ar,{children:c.jsx(Ox,{})})}),c.jsx(Me,{path:"/tournaments/create",element:c.jsx(ar,{requiredRole:"admin",children:c.jsx(Nx,{})})}),c.jsx(Me,{path:"/tournaments/:id",element:c.jsx(ar,{children:c.jsx(Rx,{})})}),c.jsx(Me,{path:"/sessions",element:c.jsx(ar,{children:c.jsx(Ax,{})})}),c.jsx(Me,{path:"/sessions/create",element:c.jsx(ar,{requiredRole:"coach",children:c.jsx($x,{})})}),c.jsx(Me,{path:"/progress",element:c.jsx(ar,{requiredRole:"student",children:c.jsx(Dx,{})})}),c.jsx(Me,{path:"/",element:c.jsx(Ya,{to:"/dashboard",replace:!0})}),c.jsx(Me,{path:"*",element:c.jsx(Cx,{})})]})]})})})}na.createRoot(document.getElementById("root")).render(c.jsx(Cd.StrictMode,{children:c.jsx(Lx,{})}));
